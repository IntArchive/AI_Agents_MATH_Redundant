{
    "Link_API": "https://api.stackexchange.com/2.3/questions/87290",
    "Title": "Basis of primitive nth Roots in a Cyclotomic Extension?",
    "Score": 33,
    "Category": "Chứng minh",
    "Tags": "linear-algebra, field-theory, galois-theory",
    "Link": "https://math.stackexchange.com/questions/87290/basis-of-primitive-nth-roots-in-a-cyclotomic-extension",
    "Content": "While reading one of Keith Conrad's great blurbs, Linear Independence of Characters , there is a footnote at the bottom of page 2 saying In general, the primitive $n$ th roots of unity in the $n$ th cyclotomic field form a normal basis over $\\mathbf{Q}$ if and only if $n$ is squarefree. A little bit of research didn't turn up any results, except apparently the result is in the paper K. Johnsen, Lineare Abhängigkeiten von Einheitswurzeln. Elem. Math. 40 (1985), 57–59 which I can't find anywhere. (J.M. found it here .) Could someone be kind enough to give a proof of why this statement is true? I made this attempt at the if direction. I try induction on $n$ . If $n$ is prime, then the result follows from field theory, since the powers of $\\alpha$ form a $F$ -basis of $F(\\alpha)$ over $F$ . So let $n=mp$ where $m$ is coprime to $p$ . If $n$ is squarefree, so is $m$ , so by induction, the $m$ th primitive roots of units form a basis for $\\mathbb{Q}(\\zeta_m)$ over $\\mathbb{Q}$ . Then I think the primitive $p$ th roots of unity form a basis of $\\mathbb{Q}(\\zeta_m,\\zeta_p)$ over $\\mathbb{Q}(\\zeta_m)$ , so taking pairwise products of the two bases gives a basis of primitive $n$ th roots of $\\mathbb{Q}(\\zeta_m,\\zeta_p)$ over $\\mathbb{Q}$ ? Does $\\mathbb{Q}(\\zeta_m,\\zeta_p)=\\mathbb{Q}(\\zeta_n)$ ? I know $\\mathbb{Q}(\\zeta_m,\\zeta_p)\\subseteq\\mathbb{Q}(\\zeta_n)$ , but am not sure of the other containment, or if this argument is oversimplifying things.",
    "AcceptedAnswer": "In the comments to the question, Jyrki showed that if $n$ has a square factor bigger than $1$ then there are nontrivial ${\\mathbf Q}$ -linear relations among $\\{\\zeta_n^a : (a,n) = 1\\}$ , so this set can only be a ${\\mathbf Q}$ -basis of ${\\mathbf Q}(\\zeta_n)$ when $n$ is squarefree. Another way to see this is that for all $n \\geq 1$ , the sum of the primitive $n$ -th roots of unity is the Moebius value $\\mu(n)$ , and this is $0$ if $n$ has a square factor bigger than $1$ . To show that when $n$ is squarefree the set $\\{\\zeta_n^a : (a,n)=1\\}$ is a ${\\mathbf Q}$ -basis of ${\\mathbf Q}(\\zeta_n)$ we will use induction on the number of prime factors of $n$ . Suppose first that $n = p$ is a prime. The usual ${\\mathbf Q}$ -basis of ${\\mathbf Q}(\\zeta_p)$ is $\\{1,\\zeta_p,\\zeta_p^2,\\cdots,\\zeta_{p}^{p-2}\\}$ . Since $\\zeta_p^{p-1} = -1-\\zeta_p - \\cdots - \\zeta_p^{p-2}$ , if we replace $1$ with $\\zeta_p^{p-1}$ we still have a ${\\mathbf Q}$ -basis, so $\\{\\zeta_p,\\zeta_p^2,\\cdots,\\zeta_p^{p-1}\\}$ is a basis of ${\\mathbf Q}(\\zeta_p)/{\\mathbf Q}$ . Now suppose we've proved the result when $n$ is any product of $r$ primes and consider a squarefree positive integer $n$ that is a product of $r+1$ primes. Write $n = mp$ where $p$ is one of the prime factors of $n$ , so we know $\\{\\zeta_m^i : 1 \\leq i \\leq m, (i,m) = 1\\}$ is a ${\\mathbf Q}$ -basis of ${\\mathbf Q}(\\zeta_m)$ and $\\{\\zeta_p^{j} : 1 \\leq j \\leq p, (j,p) = 1\\}$ is a ${\\mathbf Q}$ -basis of ${\\mathbf Q}(\\zeta_p)$ . From Galois theory, if $E$ and $F$ are (finite) Galois extensions of a common field $L$ and $E \\cap F = L$ then as a basis of $EF$ over $L$ one can use the set of products $\\{e_if_j\\}$ where $\\{e_i\\}$ is any $L$ -basis of $E$ and $\\{f_j\\}$ is any $L$ -basis of $F$ . We can apply this to the fields $E = {\\mathbf Q}(\\zeta_m)$ , $F = {\\mathbf Q}(\\zeta_p)$ , and $L = {\\mathbf Q}$ . (That the intersection of those two cyclotomic fields is ${\\mathbf Q}$ is a special case of a general formula ${\\mathbf Q}(\\zeta_r) \\cap {\\mathbf Q}(\\zeta_s) = {\\mathbf Q}(\\zeta_{(r,s)})$ , which becomes ${\\mathbf Q}$ when $r$ and $s$ are relatively prime.) Therefore a ${\\mathbf Q}$ -basis of $EF = {\\mathbf Q}(\\zeta_m,\\zeta_p) = {\\mathbf Q}(\\zeta_n)$ is the set of products $\\{\\zeta_m^i\\zeta_p^j\\}$ with $i$ and $j$ running over the integers listed earlier. Inside ${\\mathbf Q}(\\zeta_n)$ we can use $\\zeta_m := \\zeta_n^{n/m}$ and $\\zeta_p := \\zeta_n^{n/p}$ , so a basis is $\\{\\zeta_n^{(n/m)i + (n/p)j}\\} = \\{\\zeta_n^{pi + mj}\\}$ where $i$ runs over integers from 1 to $m$ which are relatively prime to $m$ and $j$ runs over integers from 1 to $p$ which are relatively prime to $p$ (that is, $1 \\leq j \\leq p-1$ ). Which $n$ th roots of unity are in the set $\\{\\zeta_n^{pi + mj}\\}$ and how many are there? The integers $pi+mj$ are all relatively prime to $n = mp$ (just reduce them mod $m$ and mod $p$ to check they are relatively prime to $m$ and $p$ separately), so the set consists of primitive $n$ th roots of unity. If $pi + mj \\equiv pi' + mj' \\bmod n$ (where $i'$ and $j'$ are just second choices of parameters) then by reducing mod $m$ and mod $p$ we get $i \\equiv i' \\bmod m$ and $j \\equiv j' \\bmod p$ , so $i = i'$ and $j = j'$ on account of the ranges of these parameters. Therefore the number of roots of unity in this set is $\\varphi(m)\\varphi(p) = \\varphi(n)$ , so our set is exactly the set of all primitive $n$ th roots of unity. This completes the proof that the primitive $n$ th roots of unity are a ${\\mathbf Q}$ -basis of ${\\mathbf Q}(\\zeta_n)$ when $n$ is squarefree. Although the question has now been answered, let me indicate a place where it naturally fits into a broader picture within algebraic number theory.\nThe result is related to a theorem of Emmy Noether on normal integral bases. For any (finite) Galois extension $K/{\\mathbf Q}$ , a normal integral basis is a normal basis for the field extension which consists of a ${\\mathbf Z}$ -basis of ${\\mathcal O}_K$ . For example, ${\\mathbf Q}(\\sqrt{5})/{\\mathbf Q}$ has normal integral basis $\\{(1+\\sqrt{5})/2,(1-\\sqrt{5})/2\\}$ . Another example is ${\\mathbf Q}(\\zeta_p)$ for any odd prime $p$ : the ring of integers is ${\\mathbf Z}[\\zeta_p]$ and the usual ${\\mathbf Z}$ -basis you may want to use is $\\{1,\\zeta_p,\\cdots,\\zeta_p^{p-2}\\}$ , but that's not a normal basis because it has 1 in it. Instead you can use $\\{\\zeta_p,\\zeta_p^2,\\cdots,\\zeta_p^{p-1}\\}$ ; that is a normal basis and it's also a ${\\mathbf Z}$ -basis of ${\\mathbf Z}[\\zeta_p]$ , so ${\\mathbf Q}(\\zeta_p)/{\\mathbf Q}$ has a normal integral basis. Here's an example without a normal integral basis. If $d$ is squarefree and not $1 \\bmod 4$ , the ring of integers of ${\\mathbf Q}(\\sqrt{d})$ is ${\\mathbf Z}[\\sqrt{d}]$ . A normal basis over ${\\mathbf Q}$ has the form $\\{a+b\\sqrt{d},a-b\\sqrt{d}\\}$ for rational $a$ and $b$ with $b \\not= 0$ . If this basis is in ${\\mathbf Z}[\\sqrt{d}]$ then it can't be a ${\\mathbf Z}$ -basis of ${\\mathbf Z}[\\sqrt{d}]$ because ${\\mathbf Z}(a+b\\sqrt{d}) + {\\mathbf Z}(a-b\\sqrt{d})$ has index $2|ab| \\geq 2$ inside ${\\mathbf Z}[\\sqrt{d}]$ . The ring of integers of ${\\mathbf Q}(\\zeta_n)$ is ${\\mathbf Z}[\\zeta_n]$ . Check that if $\\{\\zeta_n^a : (a,n) = 1\\}$ were a basis of ${\\mathbf Q}(\\zeta_n)/{\\mathbf Q}$ then it would be a ${\\mathbf Z}$ -basis of ${\\mathbf Z}[\\zeta_n]$ , hence the $n$ -th cyclotomic field would have a normal integral basis. Emmy Noether proved that if a Galois extension $K/{\\mathbf Q}$ has a normal integral basis then $K$ is tamely ramified over ${\\mathbf Q}$ . So being tamely ramified is a necessary (although generally not sufficient) condition for a Galois extension of ${\\mathbf Q}$ to have a normal integral basis. For example, if $d$ is squarefree and $d \\not\\equiv 1 \\bmod 4$ then 2 is not tamely ramified in ${\\mathbf Q}(\\sqrt{d})$ , so Noether's theorem implies that this quadratic field has no normal integral basis over ${\\mathbf Q}$ , which we already proved by a direct computation above. An example more relevant for us here is ${\\mathbf Q}(\\zeta_{p^2})$ . The prime $p$ is not tamely ramified in this field, so any cyclotomic field ${\\mathbf Q}(\\zeta_n)$ with $n$ divisible by the square of a prime is not tamely ramified at that prime, hence it doesn't have a normal integral basis. Therefore a necessary condition for $\\{\\zeta_n^a : (a,n) = 1\\}$ to be a normal basis of the $n$ -th cyclotomic field is that $n$ is squarefree.  Noether's theorem has provided a conceptual explanation for why $n$ must be squarefree. I suggest looking at Robert Long's book \"Algebraic Number Theory\" for more information on tamely ramified extensions of ${\\mathbf Q}$ and the relation to normal integral bases. I don't have the book in front of me right now and Google Books is not giving good views of it, but I'm pretty sure he has a chapter on this topic in it since Galois module structure was one of his areas of interest.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$n$ is a positive integer,\nThe $n$-th cyclotomic field is an extension of $\\mathbf{Q}$,\nA normal basis over $\\mathbf{Q}$ is a basis consisting of Galois conjugates of a single element,\nThe primitive $n$-th roots of unity are elements of the $n$-th cyclotomic field.\nProblem: \nProve that the primitive $n$-th roots of unity form a normal basis over $\\mathbf{Q}$ in the $n$-th cyclotomic field if and only if $n$ is squarefree.\n###",
    "reasoning_create_structured_problem": "Okay, let me try to structure the problem from the Math Stack Exchange question. The user is asking about a statement regarding primitive nth roots of unity forming a normal basis in the nth cyclotomic field over Q if and only if n is squarefree. \n\nFirst, I need to identify the assumptions. The original problem mentions that this equivalence holds when n is squarefree. The user is seeking a proof of this statement. The problem's core is to prove an if and only if statement about the normal basis formed by primitive roots of unity in the cyclotomic extension, with the condition being that n is squarefree.\n\nLooking at the example provided, the assumptions are specific conditions on the variables. Here, the main condition is about n being squarefree. The problem statement is the equivalence that the primitive nth roots form a normal basis over Q if and only if n is squarefree. \n\nI should check if there are any other implicit assumptions. The cyclotomic field is over Q, which is the base field. The problem is in the context of cyclotomic extensions, so the field is Q(ζ_n), where ζ_n is a primitive nth root of unity. The term \"normal basis\" refers to a basis that consists of the Galois conjugates of a single element. \n\nSo the key assumptions are:\n- Considering the nth cyclotomic field, which is Q(ζ_n).\n- The focus is on primitive nth roots of unity forming a normal basis over Q.\n- The equivalence condition is that n is squarefree.\n\nI need to list each assumption on separate lines, each addressing one property. So:\n\nAssumption:\nn is a positive integer,\nThe cyclotomic extension considered is the nth cyclotomic field over Q,\nA normal basis is formed by the primitive nth roots of unity,\nThe problem states an equivalence (if and only if) between the existence of such a normal basis and n being squarefree.\n\nBut wait, according to the example, each assumption should be a single property applied to one object. So breaking it down:\n\n1. n is a positive integer.\n2. The cyclotomic field is the nth cyclotomic extension of Q.\n3. The primitive nth roots of unity are considered as elements of this cyclotomic field.\n4. A normal basis over Q requires that the basis consists of Galois conjugates of a single primitive nth root.\n5. The problem involves an equivalence (if and only if) condition.\n\nBut maybe some of these are part of the problem statement rather than assumptions. The original problem says \"the primitive nth roots of unity in the nth cyclotomic field form a normal basis over Q if and only if n is squarefree.\" So the assumptions here are the standard setup, and the problem is the equivalence.\n\nBut the example given in the user's instruction had assumptions like \"n is an integer, n is divisible by 7.\" So perhaps in this case, the key assumption is that the cyclotomic extension is considered, and the problem is the equivalence with squarefree n. Wait, the problem is to prove the equivalence, so the assumptions would be the general context. However, in the example, they rephrased the original problem, which had \"for every integer n,\" and added an assumption that n is divisible by 7. But in the user's example, they restructured the problem, possibly filtering out some parts.\n\nWait, the original problem in the example was to prove for every integer n, A(n) is divisible by 91. The user restructured it by adding an assumption that n is divisible by 7. Wait, no, the original problem was that A(n) is divisible by 91 for every integer n, but in the formatted problem, the user added an assumption that n is divisible by 7. Wait, that might be an error. Let me check:\n\nOriginal example problem: \"Prove that for every integer n, the number A(n) = 5^n (5^n +1 ) -6^n (3^n +2^n ) is divisible by 91.\"\n\nFormatted problem:\nAssumption: n is an integer, n is divisible by 7.\n\nWait, that seems incorrect. The original problem states \"for every integer n,\" but the formatted problem adds an assumption that n is divisible by 7, which wasn't in the original. That might be a mistake. But perhaps the user intended to structure the problem with necessary assumptions, but perhaps the example is flawed.\n\nBut regardless, following the user's instruction, the task is to structure the problem as per their example. So in the given example, they took the original problem which had \"for every integer n,\" and in the formatted problem, they added an assumption that n is divisible by 7, which might be part of the problem's hidden conditions? Wait, actually, the original problem might have been to prove divisibility by 91, which factors into 7*13. So perhaps the correct approach is to note that n being an integer is the assumption, but the problem is to prove divisibility by 91. However, in the example, the formatted problem adds \"n is divisible by 7\" as an assumption, which might be an error. But perhaps the user intended to structure the problem as the original problem, but the example is perhaps incorrect. However, the user wants us to follow their format.\n\nBut given that, for the current problem, the user on Math Stack Exchange is asking about the theorem stating that the primitive nth roots form a normal basis in the nth cyclotomic field over Q iff n is squarefree. The assumptions here would be:\n\n- The field extension considered is the nth cyclotomic field over Q.\n- The basis in question is a normal basis, i.e., consists of Galois conjugates of a single element.\n- The elements considered are the primitive nth roots of unity.\n\nBut according to the example, each assumption should be a single line, each addressing one property or condition applied to one object. So:\n\nAssumption:\nn is a positive integer,\nThe nth cyclotomic field is considered over Q,\nA normal basis is a basis formed by the Galois conjugates of a single element,\nThe primitive nth roots of unity are elements of the nth cyclotomic field.\n\nProblem:\nProve that the primitive nth roots of unity form a normal basis over Q in the nth cyclotomic field if and only if n is squarefree.\n\nBut perhaps the key is that the original problem states the equivalence, and the user is to structure that into assumptions and problem. The original problem's assumptions are inherent in the statement. The user's example added an assumption not present in the original problem (n divisible by 7), which might have been a mistake, but perhaps in the current problem, we need to list the necessary assumptions for the problem to hold. However, the theorem's statement is an equivalence, so the main condition is n being squarefree. But the problem is to prove the equivalence. So the assumptions would be the general context (n is a positive integer, cyclotomic field over Q, etc.), and the problem is the equivalence. However, in the example, the user added an assumption that was not present, but perhaps in that case, the problem was originally missing an assumption, but in this case, the problem is correctly stated. \n\nAlternatively, perhaps the user wants us to extract the key conditions. The problem is an equivalence: primitive roots form a normal basis iff n is squarefree. So the assumptions would be the general setup (n is integer, cyclotomic field over Q), and the problem is the equivalence. So:\n\nAssumption:\nn is a positive integer,\nThe nth cyclotomic field is an extension of Q,\nThe primitive nth roots of unity are considered as elements of the cyclotomic field.\n\nProblem:\nProve that the primitive nth roots of unity form a normal basis over Q in the nth cyclotomic field if and only if n is squarefree.\n\nBut the original question also mentions the paper by K. Johnsen, but that's not part of the problem's assumptions. The user is asking for a proof. So the main task is to structure the problem by listing assumptions and then the problem statement. The key assumptions here are the standard ones for cyclotomic fields and normal bases, and the problem is the equivalence with squarefree n.",
    "Original_Problem": "Assumption: \n$n$ is a positive integer,\nThe $n$-th cyclotomic field is an extension of $\\mathbf{Q}$,\nA normal basis over $\\mathbf{Q}$ is a basis consisting of Galois conjugates of a single element,\nThe primitive $n$-th roots of unity are elements of the $n$-th cyclotomic field.\nProblem: \nProve that the primitive $n$-th roots of unity form a normal basis over $\\mathbf{Q}$ in the $n$-th cyclotomic field if and only if $n$ is squarefree.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $n$ is a positive integer,\nAssumption 2: The $n$-th cyclotomic field is an extension of $\\mathbf{Q}$,\nAssumption 3: A normal basis over $\\mathbf{Q}$ is a basis consisting of Galois conjugates of a single element,\nAssumption 4: The primitive $n$-th roots of unity are elements of the $n$-th cyclotomic field.\nProblem: \nProve that the primitive $n$-th roots of unity form a normal basis over $\\mathbf{Q}$ in the $n$-th cyclotomic field if and only if $n$ is squarefree.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$n \\geq 1$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $n$ is a positive integer,\nAssumption 2: The $n$-th cyclotomic field is an extension of $\\mathbf{Q}$,\nAssumption 3: A normal basis over $\\mathbf{Q}$ is a basis consisting of Galois conjugates of a single element,\nAssumption 4: The primitive $n$-th roots of unity are elements of the $n$-th cyclotomic field.\nAssumption 5: $n \\geq 1$\nProblem: \nProve that the primitive $n$-th roots of unity form a normal basis over $\\mathbf{Q}$ in the $n$-th cyclotomic field if and only if $n$ is squarefree."
}