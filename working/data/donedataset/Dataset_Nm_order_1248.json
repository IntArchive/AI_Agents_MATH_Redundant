{
    "Link_API": "https://api.stackexchange.com/2.3/questions/1007709",
    "Title": "Proof that continuous partial derivatives implies differentiability",
    "Score": 22,
    "Category": "Chứng minh",
    "Tags": "multivariable-calculus, proof-verification",
    "Link": "https://math.stackexchange.com/questions/1007709/proof-that-continuous-partial-derivatives-implies-differentiability",
    "Content": "This is the statement of Theorem 2.8 from Spivak's Calculus on Manifolds. I'd like feedback on if this looks fine as far as a generalization to his proof goes: Theorem: If $f: \\mathbb{R}^n \\rightarrow \\mathbb{R}^m$, then $Df(a)$ exists if all $D_jf^i(x)$ exist in an open set containing $a$ and if each function $D_jf^i$ is continuous at $a$. Proof: Let $f: \\mathbb{R}^n \\rightarrow \\mathbb{R}^m$ and suppose that all $D_jf^i(x)$ exist in an open set containing $a=(a^1,...,a^n)$ and that each function $D_jf^i$ is continuous at $a$. Then, for each $j$ such that $1 \\leq j \\leq n$, by the mean value theorem, we can find $b^j$ satisfying $a^j<b^j<a^j+h^j$, so that, $$\\lim_{h \\to 0} \\frac{|f(a+h)-f(a)-(\\sum_{j=1}^n D_jf^1(a)(h^j),...,\\sum_{j=1}^n D_jf^m(a)(h^j))|}{|h|}=$$ $$\\lim_{h \\to 0} \\frac{|f(a^1+h^1,a^2...,a^n)-f(a)+...+f(a+h)-f(a^1+h^1,...,a^{n-1}+h^{n-1},a^n)-(...)|}{|h|}=$$ $$\\lim_{h \\to 0} \\frac{|D_1f(b^1,a^2...,a^n)(h^1)+...+D_nf(a^1+h^1,...,a^{n-1}+h^{n-1},b^n)(h^n)-(...)|}{|h|}=$$ $$\\lim_{h \\to 0} \\frac{| (\\sum_{j=1}^n [D_jf^1(c_j)-D_jf^1(a)](h^j),...,\\sum_{j=1}^n [D_jf^m(c_j)-D_jf^m(a)](h^j))|}{|h|} \\leq$$ $$\\lim_{h \\to 0} |(\\sum_{j=1}^n |D_jf^1(c_j)-D_jf^1(a)|\\frac{|h^j|}{|h|},...,\\sum_{j=1}^n |D_jf^m(c_j)-D_jf^m(a)|\\frac{|h^j|}{|h|})| \\leq$$ $$\\lim_{h \\to 0} |(\\sum_{j=1}^n |D_jf^1(c_j)-D_jf^1(a)|(1),...,\\sum_{j=1}^n |D_jf^m(c_j)-D_jf^m(a)|(1))|=0,$$ where $h=(h^1,...,h^m)$, each $c_j$ is defined suitably in terms of $a^j$'s, $b^j$'s and $h^j$'s, and the last equality holds by the continuity hypothesis. Therefore $Df(a)$ exists. Thanks in advance.",
    "AcceptedAnswer": "To simplify life, use the $\\|\\cdot\\|_1$ norm.\nTo reduce clutter, let $\\phi_k(h) = (h_1,...,h_k,0,...0)$. Let $\\phi_0(h) = 0$,\nand note that $\\|\\phi_k(h)-\\phi_j(h)\\|_1 \\le \\|h\\|_1$. First suppose $m=1$. Let $\\epsilon>0$. By continuity, we can choose $\\delta>0$ such that $|D_kf(a+h)-D_kf(a)| < \\epsilon$ for all $k$ and $\\|h\\| < \\delta$. Let $A=(D_1f(a),...,D_n f(a))$ and suppose $\\|h\\| < \\delta$, then we have\n\\begin{eqnarray}\n|f(a+h)-f(a)-Ah| &=& |\\sum_{k=1}^n (f(a+\\phi_k(h))-f(a+\\phi_{k-1}(h))-D_kf(a)h_k)| \\\\\n&\\le& \\sum_{k=1}^n |f(a+\\phi_k(h))-f(a+\\phi_{k-1}(h))-D_kf(a)h_k|\n\\end{eqnarray}\nBy the mean value theorem, there are $c_k \\in [a+\\phi_{k-1}(h), a+\\phi_k(h)]$ (that is, each $c_k$ lies on the line segment) such that\n$f(a+\\phi_k(h))-f(a+\\phi_{k-1}(h)) = D_k f(c_k) h_k$. Note that\n$\\|c_k -a\\|_1 \\le \\|h\\|_1$. Continuing:\n\\begin{eqnarray}\n|f(a+h)-f(a)-Ah| &\\le& \\sum_{k=1}^n |D_k f(c_k) h_k-D_kf(a)h_k| \\\\\n&=& \\sum_{k=1}^n |D_k f(c_k) -D_kf(a)||h_k| \\\\\n&<& \\epsilon \\sum_{k=1}^n |h_k| \\\\\n&=& \\epsilon \\|h\\|_1\n\\end{eqnarray}\nSince $\\epsilon>0$ was arbitrary, this shows that $f$ is differentiable at $a$ and $Df(a)h = Ah$. It is straightforward to show that if $f_1,...f_m$ are differentiable, then so is\n$f(x) = (f_1(x),...,f_n(x))$, and\n$Df(x)h = (Df_1(x)h, ..., D f_m(x)h)$.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$f$ is a function from $\\mathbb{R}^n$ to $\\mathbb{R}^m$,\nFor all $i$ and $j$, the partial derivatives $D_jf^i(x)$ exist in an open set containing $a$,\nFor all $i$ and $j$, the partial derivatives $D_jf^i$ are continuous at $a$.\nProblem: \nProve that $Df(a)$ exists.\n###END_OF_FORMAT###",
    "reasoning_create_structured_problem": "Okay, so I need to format this problem from Math Stack Exchange according to the user's specified structure. Let me start by reading through the original question carefully.\n\nThe title is \"Proof that continuous partial derivatives implies differentiability\". The user is referencing Theorem 2.8 from Spivak's Calculus on Manifolds. The problem is about proving that if a function f: R^n → R^m has all its partial derivatives existing in an open set containing a point a and each partial derivative is continuous at a, then f is differentiable at a. The user provided their own proof attempt and is asking for feedback.\n\nThe task is to structure this into the Assumption and Problem sections as per the given example. The example shows that assumptions should list each condition line by line, each applying to one object or property. The problem should state what needs to be proved.\n\nLooking at the original problem, the key assumptions are:\n\n1. The function f maps from R^n to R^m.\n2. All partial derivatives D_j f^i exist in an open set containing the point a.\n3. Each partial derivative D_j f^i is continuous at a.\n\nEach of these should be separate lines in the Assumption section. The problem is to prove that the derivative Df(a) exists under these conditions.\n\nWait, in the example provided, the original problem had an assumption that n is an integer and divisible by 7. However, in the problem statement, the user corrected it by removing the divisibility by 7. Wait, no, in the example, the original problem said \"for every integer n\", but the formatted problem added an assumption that n is divisible by 7. Wait, no. Wait, in the example, the original problem was to prove that A(n) is divisible by 91 for every integer n. But in the formatted problem, the assumption included that n is divisible by 7. That seems like a mistake. Wait, no—maybe the example was incorrect? Wait, the user's example shows that the original problem didn't mention n being divisible by 7, but in the formatted problem, they added that as an assumption. That might be an error in the example. But maybe the user intended to show how to extract assumptions from the problem. Wait, the original problem in the example says \"for every integer n\", so the only assumption is that n is an integer. But in the formatted problem, they list two assumptions: n is an integer and n is divisible by 7. That seems conflicting. Maybe the example is flawed. But regardless, the user's instruction is to structure the problem by listing assumptions line by line, each addressing one property applied to one object.\n\nBack to the current problem. The theorem states that if all D_j f^i exist in an open set containing a and are continuous at a, then Df(a) exists. So the assumptions are:\n\n- f: R^n → R^m\n- For each i and j, the partial derivative D_j f^i exists in an open set containing a\n- Each partial derivative D_j f^i is continuous at a\n\nBut in the problem statement, the user wrote \"all D_jf^i(x) exist in an open set containing a\" and \"each D_jf^i is continuous at a\". So each of these is a separate assumption.\n\nSo the Assumption section should list:\n\n1. f is a function from R^n to R^m.\n2. All partial derivatives D_j f^i(x) exist in an open set containing the point a.\n3. Each partial derivative D_j f^i is continuous at the point a.\n\nThen the Problem is to prove that Df(a) exists.\n\nWait, but in the example, the assumptions were split into two: n is an integer and n is divisible by 7. But in the original problem, n was any integer. So maybe the example is wrong. But perhaps the user intended that sometimes the problem might require additional conditions, but in this case, the problem as stated in the theorem includes all the conditions. So the assumptions here are exactly the conditions given in the theorem.\n\nTherefore, the formatted problem should have:\n\nAssumption:\nf: R^n → R^m,\nFor each i and j, the partial derivative D_j f^i(x) exists in an open set containing a,\nEach partial derivative D_j f^i is continuous at a.\n\nProblem:\nProve that Df(a) exists.\n\nBut wait, in the example, the problem was rephrased to include the assumptions as given. Wait, in the example, the original problem was to prove A(n) is divisible by 91 for every integer n. The formatted problem added an assumption that n is divisible by 7. That seems incorrect, but perhaps that was a mistake. Alternatively, maybe the example was from a different problem. Hmm. But regardless, the user's instruction is to filter the problem and structure it by listing the assumptions and then the problem.\n\nIn the current case, the problem is exactly to prove differentiability at a given the conditions on partial derivatives. Therefore, the assumptions are as stated in the theorem. Each assumption should be one line. Let me check if each assumption applies to one object. For instance, \"f: R^n → R^m\" is one assumption. Then, the existence of partial derivatives in an open set is another. Continuity at a is another. So three assumptions.\n\nYes, that's correct. So the formatted problem should be:\n\nAssumption:\nf is a function from R^n to R^m,\nAll partial derivatives D_j f^i exist in an open set containing a,\nEach partial derivative D_j f^i is continuous at a.\n\nProblem:\nProve that Df(a) exists.\n\nAlternatively, maybe the second assumption should specify that for each i and j, D_j f^i exists in an open set around a. But the original problem states \"all D_jf^i(x) exist in an open set containing a\". So each partial derivative exists in that open set. So perhaps:\n\nAssumption:\nf: R^n → R^m,\nFor all i, j, the partial derivatives D_j f^i(x) exist in an open set containing a,\nFor all i, j, the partial derivatives D_j f^i are continuous at a.\n\nProblem:\nProve that Df(a) exists.\n\nYes, that seems accurate. Each line is a separate assumption about the function or its derivatives. The problem is to show differentiability at a.",
    "Original_Problem": "Assumption: \n$f$ is a function from $\\mathbb{R}^n$ to $\\mathbb{R}^m$,\nFor all $i$ and $j$, the partial derivatives $D_jf^i(x)$ exist in an open set containing $a$,\nFor all $i$ and $j$, the partial derivatives $D_jf^i$ are continuous at $a$.\nProblem: \nProve that $Df(a)$ exists.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $f$ is a function from $\\mathbb{R}^n$ to $\\mathbb{R}^m$,\nAssumption 2: For all $i$ and $j$, the partial derivatives $D_jf^i(x)$ exist in an open set containing $a$,\nAssumption 3: For all $i$ and $j$, the partial derivatives $D_jf^i$ are continuous at $a$.\nProblem: \nProve that $Df(a)$ exists.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$\\|c_k -a\\|_1 \\le \\|h\\|_1$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $f$ is a function from $\\mathbb{R}^n$ to $\\mathbb{R}^m$,\nAssumption 2: For all $i$ and $j$, the partial derivatives $D_jf^i(x)$ exist in an open set containing $a$,\nAssumption 3: For all $i$ and $j$, the partial derivatives $D_jf^i$ are continuous at $a$.\nAssumption 4: $\\|c_k -a\\|_1 \\le \\|h\\|_1$\nProblem: \nProve that $Df(a)$ exists."
}