{
    "Link_API": "https://api.stackexchange.com/2.3/questions/4964014",
    "Title": "Lower bound of probability of the sum of $n$ i.i.d. integer random variables is a multiple of $n$",
    "Score": 20,
    "Category": "Chứng minh",
    "Tags": "probability, inequality",
    "Link": "https://math.stackexchange.com/questions/4964014/lower-bound-of-probability-of-the-sum-of-n-i-i-d-integer-random-variables-is",
    "Content": "More specifically, I want to prove or disprove the followings: Let $X_1,\\dots,X_n$ are $n$ i.i.d. random variables that its support is on integers (You can regard it as supporting on $\\{1,2,\\dots,n\\}$ . Is it always true that the probability of $X_1+\\dots+X_n$ is a multiple of $n$ is always at least $\\frac{1}{2^{n-1}}$ ? This is a question that had came to my mind yesterday, which is $n=2$ case. The proof of $n=2$ case is simple. Let $p$ be the probability of $X$ is odd, and $q$ is $X$ is even. Then $X_1+X_2$ is even has probability $p^2+q^2\\ge\\frac 12(p+q)^2=\\frac 12$ . Then I found that I may be able to generalize this problem. I tried to prove $n=3$ case, and it is not hard: for $n=3$ , it suffices to prove for any non-negative numbers $a,b,c$ with $a+b+c=1$ , $a^3+b^3+c^3+6abc\\ge \\frac 14$ . This can be done by noticing the Schur's inequality $a^3+b^3+c^3+3abc\\ge a^2b+b^2c+c^2a+ab^2+bc^2+ca^2$ , which yields \\begin{align*}\n& a^3+b^3+c^3+6abc\\\\\n= & \\frac 14(a^3+b^3+c^3)+\\frac {15}4 abc+\\frac{3}{4}(a^3+b^3+c^3+3abc)\\\\\n\\ge & \\frac 14(a^3+b^3+c^3)+\\frac {15}4 abc+\\frac{3}{4}(a^2b+b^2c+c^2a+ab^2+bc^2+ca^2)\\\\\n=&\\frac 14(a+b+c)^3+\\frac 94 abc\\ge\\frac 14(a+b+c)^3=\\frac 14\n\\end{align*} Now for $n=4$ things gets nontrivial: we need to prove that for $a+b+c+d=1$ we have $$a^4+b^4+c^4+d^4+12ac(b^2+d^2)+12bd(a^2+c^2)+6(a^2c^2+b^2d^2)\\ge\\frac 18$$ Which... is only verified true by MMA. Please be noted that: The value $1/2^{n-1}$ can be achieved . It is achieved when $X$ is only distributed on two numbers $x,y$ with one half probability each, and $y-x$ is coprime with $n$ . I previously tried to argue it by using complex numbers, but failed... I am even not sure whether it is true, and any help are appreciated!",
    "AcceptedAnswer": "$\\newcommand{\\ZpZ}{\\mathbb{Z} / p \\mathbb{Z}}$ $\\newcommand{\\ZnZ}{\\mathbb{Z} / n \\mathbb{Z}}$ I think the statement in the question is true. Proposition . Let $X, X_1, \\cdots, X_n$ be i.i.d random variables that take value $\\ZnZ$ . Then the probability that $X_1 + \\cdots + X_n$ is congruent to $0$ modulo $n$ is at least $2^{-n+1}$ . Since the approaches are mostly orthogonal, I'll write two answers. The first answer proves the statement when $n$ is prime, and the second answer uses the first answer to prove the statement for all $n$ . In this answer, we consider the case where $n = p$ be a prime. The general idea is to decompose the random variables and reduce the problem to a \"two-point inequality\" (Lemma 2). Lemma 1 . If $a_1, \\cdots, a_{p - 1}$ are members of $ \\ZpZ$ that are non-zero modulo $p$ and $a$ is any element of $\\ZpZ$ , then there exists some $S \\subset \\{1,2,\\cdots, p - 1\\}$ such that $\\sum_{i \\in S} a_i$ is congruent to $a$ modulo $p$ . Proof : Let $S_i$ be the set of elements in $\\ZpZ$ that can be represented as a subset sum of $a_1, \\cdots, a_k$ . Then $S_{i + 1} = S_i + \\{0, a_{i + 1}\\}$ . By the Cauchy-Davenport inequality, $|S_{i + 1}| \\geq \\min(|S_i| + 1, p)$ . As $|S_0| = 2$ , we have $|S_{p - 1}| = p$ as desired. QED. From Lemma 1, we can easily obtain Lemma 2 . Let $X_1, \\cdots, X_p$ be independent random variables that take two distinct values in $\\ZpZ$ with equal probability. Then for any $a$ , the probability that $X_1 + \\cdots + X_p$ is congruent to $a$ modulo $p$ is at least $2^{-p+1}$ . Proof : By Lemma 1, there are at least two distinct realizations of $(X_1, \\cdots, X_p)$ such that $X_1 + \\cdots + X_p$ is congruent to $a$ modulo $p$ , and each realization happens with probability equal to $2^{-p}$ . QED. The idea now is to decompose the random variables and reduce to the scenario in Lemma 2. Lemma 3 . Let $X$ be a random variable taking value in a finite set $S$ , such that $\\mathbb{P}(X = a) \\leq 1/2$ for any $a \\in S$ . Then there exists an integer-valued random variable $Z$ , and $S$ -valued random variables $Y_1, Y_2, \\cdots$ independent of $Z$ and each taking two distinct values in $S$ with equal probability, such that $X$ is equi-distributed as $Y_Z$ . Proof : This follows from the following fact: The convex hull of vectors in $\\{0, 1\\}^k$ with exactly two coordinates equal to $1$ is equal to $$\\{(p_1, \\cdots, p_k) \\in \\mathbb{R}_{\\geq 0}^k: p_i \\leq \\frac{1}{2}(p_1 + \\cdots + p_k), \\forall i\\}.$$ One can prove this fact by assuming the contrary and trying to find a separating hyperplane. QED. Lemma 4 . Let $X, X_1, \\cdots, X_p$ be i.i.d random variables that take value $\\ZpZ$ , such that $\\mathbb{P}(X_i = a) \\leq 1/2$ for any $a \\in \\ZpZ$ . Then for any $a \\in \\ZpZ$ , the probability that $X_1 + \\cdots + X_p$ is congruent to $a$ modulo $p$ is at least $2^{-p+1}$ . Proof : Take $Y_i$ and $Z$ as in Lemma 3, and let $Y^j_{i}$ and $Z^j$ be independent copies of $Y_i$ and $Z$ . Then the sum $X_1 + \\cdots + X_p$ is equi-distributed as $$Y^1_{Z^1} + \\cdots + Y^p_{Z^p}.$$ Conditioned on any realization of $(Z^1, \\cdots, Z^p)$ , Lemma 2 tells us that $Y^1_{Z^1} + \\cdots + Y^p_{Z^p}$ is congruent to $a$ modulo $p$ with probability at least $2^{-p+1}$ . So $Y^1_{Z^1} + \\cdots + Y^p_{Z^p}$ is congruent to $a$ modulo $p$ with probability at least $2^{-p+1}$ . QED. This deals with the case where $\\mathbb{P}(X_i = a) \\leq 1/2$ for any $a \\in \\ZpZ$ . Now let's deal with the other case! The idea is similar: we reduce to a two-point inequality. We say a variable on $\\ZpZ$ is close to zero if it assumes at most two distinct values, and assumes value $0$ with probability at least $\\frac{1}{2}$ Lemma 5 . Let $X_1, \\cdots, X_p$ be independent random variables that are close to zero. Then the probability that $X_1 + \\cdots + X_p$ is congruent to $0$ modulo $p$ is at least $2^{-p+1}$ . Proof : Let $q_i = \\mathbb{P}(X_i = 0)$ . If one variable is always zero, say $X_1 \\equiv 0$ , then $$\\mathbb{P}(X_1 + \\cdots + X_p = 0) \\geq \\prod_{i = 1}^p \\mathbb{P}(X_i = 0 ) \\geq 1 \\cdot (1/2) \\cdots (1/2) \\cdots (1/2) = 2^{-p+1}.$$ Otherwise, by Lemma 1, there are at least two distinct realizations of $(X_1, \\cdots, X_p)$ such that $X_1 + \\cdots + X_p$ is congruent to $0$ modulo $p$ . One of them is the all zero realization, which happens with probability $q_1 \\cdots q_p$ . The other realization must happen with probability at least $$(1 - q_1) \\cdots (1 - q_p).$$ Thus, the probability that $X_1 + \\cdots + X_p$ is congruent to $0$ modulo $p$ is at least $$q_1 \\cdots q_p + (1 - q_1) \\cdots (1 - q_p) \\geq 2^{-p+1}.$$ Lemma 6 : Let $X$ be a random variable taking value in a finite set $\\ZpZ$ , such that $\\mathbb{P}(X = 0) \\geq 1/2$ . Then there exists an integer-valued random variable $Z$ , and $\\ZpZ$ -valued random variables $Y_1, Y_2, \\cdots$ independent of $Z$ each close to zero, such that $X$ is equidistributed as $Y_Z$ . Proof : Let $q_i = \\mathbb{P}(X = i)$ . For $1 \\leq i \\leq p - 1$ , let $Z$ take value $i$ with probability $q_i / (1 - q_0)$ , and let $Y_i$ take value $0, i$ with probability $q_0, (1 - q_0)$ respectively. QED. Lemma 7 . Let $X, X_1, \\cdots, X_p$ be i.i.d random variables that take value $\\ZpZ$ , such that $\\mathbb{P}(X_i = a) \\geq 1/2$ for some $a \\in \\ZpZ$ . Then the probability that $X_1 + \\cdots + X_p$ is congruent to $0$ modulo $p$ is at least $2^{-p+1}$ . Proof : Without loss of generality, assume $a = 0$ . Take $Y_i$ and $Z$ as in Lemma 6, and let $Y^j_{i}$ and $Z^j$ be independent copies of $Y_i$ and $Z$ . Then the sum $X_1 + \\cdots + X_p$ is equi-distributed as $$Y^1_{Z^1} + \\cdots + Y^p_{Z^p}.$$ Conditioned on any realization of $(Z^1, \\cdots, Z^p)$ , Lemma 5 tells us that $Y^1_{Z^1} + \\cdots + Y^p_{Z^p}$ is congruent to $0$ modulo $p$ with probability at least $2^{-p+1}$ . So $Y^1_{Z^1} + \\cdots + Y^p_{Z^p}$ is congruent to $0$ modulo $p$ with probability at least $2^{-p+1}$ . QED. Combining Lemma 4 and Lemma 7, we obtain the desired result. Proposition . Let $p$ be a prime. Let $X, X_1, \\cdots, X_p$ be i.i.d random variables that take value $\\ZpZ$ . Then the probability that $X_1 + \\cdots + X_p$ is congruent to $0$ modulo $p$ is at least $2^{-p+1}$ .",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \nX₁, X₂, …, Xₙ are i.i.d. random variables,\nEach Xᵢ has support on the integers.\nProblem:\nProve or disprove that the probability of X₁ + X₂ + … + Xₙ being a multiple of n is at least 1/2^{n−1}.\n###",
    "reasoning_create_structured_problem": "Okay, let me try to parse this problem and structure it according to the required format. The user wants me to act as a math professor and format the given Math Stack Exchange question into the Assumption and Problem sections.\n\nFirst, I need to read the original question carefully. The user is asking about proving or disproving a lower bound on the probability that the sum of n i.i.d. integer random variables is a multiple of n. Specifically, they want to know if this probability is always at least 1/(2^{n-1}).\n\nLooking at the example provided, the assumptions should list each condition applied to one object. In the example, assumptions were about n being an integer and divisible by 7. Here, the problem involves random variables with certain properties.\n\nThe original question states that X_1, ..., X_n are i.i.d. random variables with integer support. The user mentions that you can regard the support as on {1, 2, ..., n}, but I need to check if that's part of the problem's assumptions or just an example. The exact wording is \"You can regard it as supporting on {1,2,…,n}\". So, this might not be a strict assumption but rather an example. The key assumptions here are that the variables are i.i.d., their support is on integers, and the specific lower bound to prove or disprove.\n\nWait, the problem is whether for any such variables (with integer support), the probability that their sum is a multiple of n is at least 1/2^{n-1}. The example given by the user where the bound is achieved is when X is distributed on two numbers with certain conditions, but that's part of the problem's context, not the assumptions.\n\nSo, the assumptions should be:\n\n1. X_1, X_2, ..., X_n are i.i.d. random variables.\n2. Each X_i has support on the integers.\n3. The support of each X_i can be considered as {1, 2, ..., n} (but the user says \"You can regard it as...\", which might mean it's a simplifying assumption. Hmm. Wait, the original problem states \"its support is on integers (You can regard it as supporting on {1,2,…,n}\". So maybe the problem allows considering the support as {1,2,…,n} but the actual assumption is just integer support. The part in parentheses might be a note, not a strict assumption. So, to list assumptions:\n\n- X_1, ..., X_n are i.i.d.\n- Each X_i has support on integers.\n- The problem asks whether the probability that their sum is a multiple of n is at least 1/2^{n-1}.\n\nBut the user's example includes specific assumptions about the variable (like n is an integer, n divisible by 7). Here, the problem is general for any n, so the assumptions would be the i.i.d. condition, integer support, and perhaps the variables being on integers. Wait, the problem is about integer random variables, so that's an assumption. The support could be any integers, but the user mentions that you can consider them on {1,...,n}, but that might not be a strict assumption, just a possible simplification. The problem says \"its support is on integers\" and the user says you can regard it as on {1,...,n}. So perhaps the problem allows the support to be any integers, but the example in the note is a specific case. Therefore, the key assumptions are:\n\nEach X_i is an integer random variable (support on integers).\n\nX_1, ..., X_n are i.i.d.\n\nThe problem is to prove or disprove that the probability P(X_1 + ... + X_n is divisible by n) >= 1/(2^{n-1}).\n\nSo, structuring this:\n\nAssumptions:\n\n- X_1, X_2, ..., X_n are i.i.d. random variables.\n\n- Each X_i has support on the integers.\n\nProblem:\n\nProve or disprove that the probability that X_1 + X_2 + ... + X_n is a multiple of n is at least 1/2^{n-1}.\n\nWait, but in the example, they had specific assumptions like n being divisible by 7. Here, the problem is for any n, so the assumptions are about the variables. The user also mentions that the support can be regarded as {1,2,…,n}, but that's an example, not a strict assumption. The problem allows the variables to have any integer support, but maybe the user is considering finite support. Wait, the problem states \"its support is on integers (You can regard it as supporting on {1,2,…,n}\". This is part of the original question. So perhaps the problem allows the variables to have support on integers, possibly finite as in {1,...,n}. So maybe we should include that as an assumption. But the wording is \"You can regard it as...\", which might mean that it's a way to simplify, but not a strict assumption. Hmm.\n\nAlternatively, the user is saying that the variables have integer support, and for the purposes of analysis, one can assume the support is on {1,...,n}. But is that part of the problem's conditions? The original problem says \"More specifically, I want to prove or disprove the followings: Let X_1,…,X_n are n i.i.d. random variables that its support is on integers (You can regard it as supporting on {1,2,…,n}).\"\n\nSo the actual problem statement is that the variables are i.i.d. with integer support, and the user allows considering the support as {1,2,…,n}. So that might be an assumption. But the way it's phrased is a bit ambiguous. The parentheses might mean that the support is on integers, and for the purposes of the problem, you can assume it's on {1,…,n}, but perhaps it's not strictly required. However, since the user includes that in the problem statement, perhaps we should take it as an assumption.\n\nTherefore, the assumptions would be:\n\n- X_1, X_2, ..., X_n are i.i.d. random variables.\n\n- Each X_i has support on the integers {1, 2, ..., n}.\n\nBut wait, the original says \"its support is on integers (You can regard it as supporting on {1,2,…,n}\". So the actual assumption is support on integers, and the {1,...,n} is just an example or a way to regard it. Therefore, the support is on integers, but you can assume it's on {1,...,n} if needed. So the key assumptions are:\n\n- X_1, ..., X_n are i.i.d.\n\n- Each X_i has integer support.\n\nPossibly, the problem allows for any integer support, but the example uses {1,...,n}. Since the user mentions \"You can regard it as...\", perhaps the support is not necessarily restricted to {1,...,n}, but just any integers. Therefore, the assumptions should be:\n\n- X_1, X_2, ..., X_n are i.i.d. random variables.\n\n- Each X_i has support on the integers.\n\nProblem: Prove or disprove that the probability that X_1 + ... + X_n is a multiple of n is at least 1/2^{n-1}.\n\nBut the user also mentions that the bound is achieved when X is distributed on two numbers x and y with y - x coprime to n, each with probability 1/2. That's part of the problem's context but not an assumption. So the problem is whether for any such i.i.d. integer variables, the probability is at least 1/2^{n-1}.\n\nTherefore, the formatted problem would be:\n\nAssumption:\n\n- X_1, X_2, ..., X_n are i.i.d. random variables.\n\n- Each X_i has support on the integers.\n\nProblem:\n\nProve or disprove that the probability of X_1 + X_2 + ... + X_n being a multiple of n is at least 1/2^{n-1}.\n\nBut I need to check if there are more assumptions. For example, does the support being on integers imply anything else? The user might have intended that the variables take integer values, which is captured by the support. So each assumption should be one line, addressing one property. So \"Each X_i has support on the integers\" is one assumption. \"X_1, X_2, ..., X_n are i.i.d.\" is another.\n\nSo the final answer should be:\n\n###BEGIN_OF_FORMAT###\nAssumption: \nX₁, X₂, …, Xₙ are i.i.d. random variables,\nEach Xᵢ has support on the integers.\nProblem:\nProve or disprove that the probability of X₁ + X₂ + … + Xₙ being a multiple of n is at least 1/2^{n−1}.\n###",
    "Original_Problem": "Assumption: \nX₁, X₂, …, Xₙ are i.i.d. random variables,\nEach Xᵢ has support on the integers.\nProblem:\nProve or disprove that the probability of X₁ + X₂ + … + Xₙ being a multiple of n is at least 1/2^{n−1}.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: X₁, X₂, …, Xₙ are i.i.d. random variables,\nAssumption 2: Each Xᵢ has support on the integers.\nProblem:\nProve or disprove that the probability of X₁ + X₂ + … + Xₙ being a multiple of n is at least 1/2^{n−1}.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$(1 - q_1) \\cdots (1 - q_p).$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: X₁, X₂, …, Xₙ are i.i.d. random variables,\nAssumption 2: Each Xᵢ has support on the integers.\nAssumption 3: $$(1 - q_1) \\cdots (1 - q_p).$$\nProblem:\nProve or disprove that the probability of X₁ + X₂ + … + Xₙ being a multiple of n is at least 1/2^{n−1}."
}