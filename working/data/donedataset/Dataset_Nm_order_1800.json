{
    "Link_API": "https://api.stackexchange.com/2.3/questions/20742",
    "Title": "Prove that $(1+p)^{p^{n-1}} \\equiv 1 \\pmod{p^n}$ but $(1+p)^{p^{n-2}} \\not\\equiv 1\\pmod{p^n}$, deduce $\\text{ord}_{p^n}(p+1)=p^{n-1}$",
    "Score": 17,
    "Category": "Chứng minh",
    "Tags": "elementary-number-theory, prime-numbers, modular-arithmetic",
    "Link": "https://math.stackexchange.com/questions/20742/prove-that-1ppn-1-equiv-1-pmodpn-but-1ppn-2-not-equiv",
    "Content": "I need some hints for this problem from Dummit and Foote. (edit: added the full question verbatim for context) Let $p$ be an odd prime and let $n$ be a positive integer.  Use the binomial theorem to show that $(1+p)^{p^{n-1}} \\equiv 1 \\pmod{p^n}$ but $(1+p)^{p^{n-2}} \\not\\equiv 1\\pmod{p^n}$. Deduce that $1+p$ is an element of order $p^{n-1}$ in the multiplicative group $(\\mathbb{Z}/p^n\\mathbb{Z})^{\\times}$. For the first part I just need to show that $$p^n \\;\\left|\\; \\sum\\limits_{k=1}^{p^{n-1}}\\binom{p^{n-1}}{k}p^k\\right.$$ and it seems obvious enough that it should, since I think I can factor a $p^n$ out of each term, but Im having trouble actually proving this. For the second part I am unsure what to do. For reference it is problem 21. on page 60 of the third edition. (section 2.3). Edit Ok I have managed to show the first part.  From the lemma in the post Bill Dubuque linked to, which I could prove easily, if $z\\equiv 1$ mod $p^n$ and $z = p+1$ then $z^p \\equiv 1$ mod $p^{n+1}$. Since $z^p-1 = (z-1)(1+z+...+z^{p-1})$ and $(1+z+...+z^{p-1})\\equiv 1+1+...+1 = p \\equiv 0$ mod $p$. So it follows by induction that $(p+1)^{p^{n-1}} \\equiv 1$ mod $p^n$. My problem here is that what Ive proven really only shows that $ord_p(z^p-1) \\geq ord_p(z-1)+1$ as far as I can tell, so Im still not sure how I can show that $(1+p)^{p^{n-2}} \\not\\equiv 1\\pmod{p^n}$. I think Im missing something here. Edit II Ok, I snuck a peek at Pete's notes and I see what I was missing. Really the crucial step was writing $z = 1 + xp$, then I could see how to do it.",
    "AcceptedAnswer": "Hint: use the binomial formula to establish the following fact. Let $p$ be an odd prime number and $z$ an integer which is $1$ mod $p$ .  Then $\\operatorname{ord}_p(z^p − 1) = \\operatorname{ord}_p(z − 1) + 1.$ Here, for a nonzero integer $N$ , $\\operatorname{ord}_p(N)$ is the largest power of $p$ which divides $N$ . (This is actually taken from a result in some notes of mine from an elementary number theory course, but since the OP asked for a hint only, I wish to obey by not posting the link.) Note: the hint should serve to solve both parts of the question. Added : Okay, for more help see Lemma 3 of these notes .",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$p$ is an odd prime,\n$n$ is a positive integer,\n$1+p$ is an element of the multiplicative group $(\\mathbb{Z}/p^n\\mathbb{Z})^{\\times}$.\nProblem:\nProve that $(1+p)^{p^{n-1}} \\equiv 1 \\pmod{p^n}$ but $(1+p)^{p^{n-2}} \\not\\equiv 1 \\pmod{p^n}$, and deduce that $\\text{ord}_{p^n}(1+p) = p^{n-1}$.\n###",
    "reasoning_create_structured_problem": "Okay, let's tackle this problem. So, the task is to show that for an odd prime p and a positive integer n, (1+p)^{p^{n-1}} is congruent to 1 modulo p^n, but (1+p)^{p^{n-2}} isn't congruent to 1 modulo p^n. Then, we need to deduce the order of 1+p in the multiplicative group modulo p^n. \n\nFirst, the assumptions. The problem mentions an odd prime p, so that's one assumption. Then n is a positive integer. Also, we're dealing with the multiplicative group of integers modulo p^n, so we need to ensure that 1+p is an element of that group. Since p is prime and n is at least 1, p^n is a prime power, and the multiplicative group consists of integers coprime to p^n. Since 1+p is congruent to 1 mod p, which isn't 0, so 1+p is coprime to p, hence coprime to p^n. So that's another assumption: 1+p is an element of (Z/p^n Z)^×. \n\nNow, the main problem has two parts. First, use the binomial theorem to show those two congruences. Then deduce the order. Let's break down the first part. \n\nFor the first congruence, (1+p)^{p^{n-1}} ≡ 1 mod p^n. Using the binomial theorem, expand (1+p)^{p^{n-1}}. The first term is 1, then the next term is p^{n-1} * p, which is p^n. Then the subsequent terms involve higher powers of p. We need to show that all terms after 1 are divisible by p^n. Similarly, for the second part, (1+p)^{p^{n-2}} not congruent to 1 mod p^n. So, when we expand that, there should be a term that's not divisible by p^n, perhaps the coefficient of p^{n-1} or something.\n\nWait, but the user mentioned in their edit that they used a lemma from Bill Dubuque's linked post. The key idea might be using induction. Let's think about lifting the exponent. For the first part, maybe inductively showing that each exponentiation increases the exponent of p in the modulus. \n\nBut the problem specifies using the binomial theorem. Let's try that. Let's expand (1 + p)^{p^{k}}. The binomial expansion is sum_{m=0}^{p^{k}} C(p^{k}, m) p^m. Then, modulo p^n. So, for m >= 1, the term is C(p^{k}, m) p^m. We need to find the minimal exponent of p in each term.\n\nThe key is to compute the exponent of p in each term of the binomial expansion. For the term C(p^{k}, m) p^m, the exponent of p in p^m is m, and the exponent in the binomial coefficient C(p^{k}, m) can be calculated using Kummer's theorem or Lucas' theorem. Since p is prime, Lucas' theorem says that the exponent of p in C(p^{k}, m) is the number of carries when adding m and p^{k} - m in base p. \n\nBut maybe there's a simpler way. For example, when k = n - 1, and we want to compute (1 + p)^{p^{n-1}}. The binomial terms for m >= 1 will be C(p^{n-1}, m) p^m. Let's consider m >= 1. The first term when m=1 is p^{n-1} * p = p^n. The next term is C(p^{n-1}, 2) p^2. Let's compute the exponent of p here. C(p^{n-1}, 2) = p^{n-1}(p^{n-1} - 1)/2. Since p is odd, 2 is invertible modulo p. The exponent of p in this coefficient is 0 because the numerator has p^{n-1} which is divisible by p^{n-1}, but when divided by 2, it's still an integer. Wait, but C(p^{n-1}, 2) is (p^{n-1}(p^{n-1} - 1))/2. The factor p^{n-1} in the numerator gives a p^{n-1} term, but since we're looking at the coefficient, the exponent of p in C(p^{n-1}, m) for m >= 1. \n\nWait, perhaps applying the theorem that for 1 <= m <= p^{k}, the exponent of p in C(p^{k}, m) is k - s, where s is the number of digits in the base-p expansion of m. Hmm, maybe not. Alternatively, for m < p, the exponent of p in C(p^{k}, m) is equal to the number of carries when adding m and p^{k} - m in base p, which for m < p, would be 0, so the exponent is 0. But m here can be up to p^{n -1}. \n\nAlternatively, using the fact that for m <= p^{k}, the exponent of p in C(p^{k}, m) is equal to the number of carries when adding m - 1 and p^{k} - (m - 1). Wait, maybe this is getting too complicated.\n\nAlternatively, use the fact that (1 + p)^{p^{k}} ≡ 1 + p^{k+1} mod p^{k+2} for k >= 1. Wait, but this is a known result. Let's see. If we take (1 + p)^{p} ≡ 1 + p^2 mod p^3. Then (1 + p)^{p^2} ≡ (1 + p^2)^{p} ≡ 1 + p^3 mod p^4, and so on. By induction, perhaps (1 + p)^{p^{k}} ≡ 1 + p^{k+1} mod p^{k+2}. If this is the case, then for (1 + p)^{p^{n -1}}, modulo p^n, we can note that p^{n -1 +1} = p^n, so (1 + p)^{p^{n -1}} ≡ 1 + p^n mod p^{n +1}, hence modulo p^n, it's congruent to 1. Similarly, (1 + p)^{p^{n -2}} ≡ 1 + p^{n -1} mod p^n. But since p^{n -1} is not congruent to 0 modulo p^n, hence (1 + p)^{p^{n -2}} ≡ 1 + p^{n -1} mod p^n, which is not 1 modulo p^n. \n\nBut how do we justify that (1 + p)^{p^{k}} ≡ 1 + p^{k +1} mod p^{k +2}}? Maybe by induction. For k =1: (1 + p)^p. Using binomial expansion, the first term is 1, then C(p,1)p = p^2. Then terms C(p, m)p^m for m >=2. For m >=2, C(p,m) is divisible by p, since C(p, m) = p!/(m!(p -m)!), and since p is prime and m < p, the denominator is coprime to p, so C(p, m) is divisible by p. Hence, each term for m >=2 is divisible by p * p^m = p^{m +1}. For m >=2, p^{m +1} is at least p^3. Since k=1, p^{k +2} = p^3. Hence, modulo p^3, (1 + p)^p ≡ 1 + p^2 mod p^3. So the base case holds. Assume for k, (1 + p)^{p^{k}} ≡ 1 + p^{k +1} mod p^{k +2}. Then raise both sides to the pth power. (1 + p)^{p^{k +1}}} = [(1 + p^{k +1} + M p^{k +2})]^p, where M is some integer. Expand this using binomial theorem: 1 + p * (p^{k +1} + M p^{k +2}) + C(p,2)(p^{k +1} + M p^{k +2})^2 + ... Each term after the first two will have higher powers. The second term is p^{k +2} + M p^{k +3}. The next term is C(p,2) p^{2(k +1)}. Since k >=1, 2(k +1) >= 2*2 =4, and for k +1 >=2, so 2(k +1) >= k +3 when k >=1. Hence, modulo p^{k +3}, these terms vanish. Hence, (1 + p)^{p^{k +1}}} ≡ 1 + p^{k +2} mod p^{k +3}}. Hence, by induction, the formula holds. Therefore, (1 + p)^{p^{n -1}} ≡ 1 + p^n mod p^{n +1}}, so modulo p^n, it's 1. Similarly, (1 + p)^{p^{n -2}} ≡ 1 + p^{n -1} mod p^n, which is not 1 mod p^n, since p^{n -1} is not 0 mod p^n. \n\nTherefore, the first part is shown. Then, to deduce the order, since the multiplicative order of 1+p is the smallest positive integer d such that (1 + p)^d ≡ 1 mod p^n. From the above, we have that (1 + p)^{p^{n -1}} ≡ 1 mod p^n, but (1 + p)^{p^{n -2}} ≡ 1 + p^{n -1} mod p^n ≠ 1. Hence, the order must divide p^{n -1} but not p^{n -2}, so it must be p^{n -1}. \n\nSo the assumptions here are that p is an odd prime, n is a positive integer, and we're working in the multiplicative group modulo p^n. Each of these is a separate assumption. The problem then is to prove those two congruences and deduce the order.",
    "Original_Problem": "Assumption: \n$p$ is an odd prime,\n$n$ is a positive integer,\n$1+p$ is an element of the multiplicative group $(\\mathbb{Z}/p^n\\mathbb{Z})^{\\times}$.\nProblem:\nProve that $(1+p)^{p^{n-1}} \\equiv 1 \\pmod{p^n}$ but $(1+p)^{p^{n-2}} \\not\\equiv 1 \\pmod{p^n}$, and deduce that $\\text{ord}_{p^n}(1+p) = p^{n-1}$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $p$ is an odd prime,\nAssumption 2: $n$ is a positive integer,\nAssumption 3: $1+p$ is an element of the multiplicative group $(\\mathbb{Z}/p^n\\mathbb{Z})^{\\times}$.\nProblem:\nProve that $(1+p)^{p^{n-1}} \\equiv 1 \\pmod{p^n}$ but $(1+p)^{p^{n-2}} \\not\\equiv 1 \\pmod{p^n}$, and deduce that $\\text{ord}_{p^n}(1+p) = p^{n-1}$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$\\operatorname{ord}_p(z^p − 1) = \\operatorname{ord}_p(z − 1) + 1.$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $p$ is an odd prime,\nAssumption 2: $n$ is a positive integer,\nAssumption 3: $1+p$ is an element of the multiplicative group $(\\mathbb{Z}/p^n\\mathbb{Z})^{\\times}$.\nAssumption 4: $\\operatorname{ord}_p(z^p − 1) = \\operatorname{ord}_p(z − 1) + 1.$\nProblem:\nProve that $(1+p)^{p^{n-1}} \\equiv 1 \\pmod{p^n}$ but $(1+p)^{p^{n-2}} \\not\\equiv 1 \\pmod{p^n}$, and deduce that $\\text{ord}_{p^n}(1+p) = p^{n-1}$."
}