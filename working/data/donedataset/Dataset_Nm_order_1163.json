{
    "Link_API": "https://api.stackexchange.com/2.3/questions/378937",
    "Title": "Class group of $k[x,y,z,w]/(xy-zw)$",
    "Score": 23,
    "Category": "Chứng minh",
    "Tags": "algebraic-geometry, commutative-algebra",
    "Link": "https://math.stackexchange.com/questions/378937/class-group-of-kx-y-z-w-xy-zw",
    "Content": "I had a homework problem (II.6.5 in Hartshorne) to compute the (Weil divisor) class group of $X=\\operatorname{Spec} k[x,y,z,w]/(xy-zw)$.  I have accomplished this; however, I used some results I don't fully understand. I was left with the conviction that there is a simpler way to do it using tools I do understand. I am hoping you can help me find it. The part I do understand: Let $Z$ be the prime divisor associated with the ideal $(y,z)$. I have an exact sequence $$\\mathbb{Z}\\rightarrow \\operatorname{Cl} X \\rightarrow \\operatorname{Cl} \\left(X\\setminus Z\\right) \\rightarrow 0$$ where the first map sends $1\\mapsto [Z]$ and the second map sends a divisor to its intersection with $X\\setminus Z$. (This is Hartshorne proposition II.6.5.) Now \n$$X\\setminus Z = \\operatorname{Spec} k[x,y,y^{-1},z,z^{-1},w]/(xy-zw)$$\nbut this ring is isomorphic to $k[x,y,y^{-1},z,z^{-1}]$ because $w=xyz^{-1}$. This is a unique factorization domain, so $\\operatorname{Cl} \\left(X\\setminus Z\\right)=0$. Thus $\\operatorname{Cl} X$ is a cyclic $\\mathbb{Z}$-module, generated by $[Z]$. The question is whether $[Z]$ is torsion or not. I've obtained that $[Z]$ is non-torsion (thus $\\operatorname{Cl}X \\cong \\mathbb{Z}$) by showing $\\operatorname{Cl}X$ is infinite, in turn by relating $\\operatorname{Cl}X$ to the class group of the projective quadric surface $Q$ of which it is the affine cone. I used the result of an exercise in Hartshorne (II.6.3) relating a projective variety's class group to that of its affine cone. I feel confident that the argument works, but I am personally unsatisfied both because I'm not fully comfortable with the reasoning in exercise II.6.3, and because the whole argument is rather indirect. What I'm looking for: What I would like is a direct way of seeing that $[Z]$ is non-torsion, i.e. that $n[Z]$ is not principal for $n\\in \\mathbb{Z}$. Can you offer a direct argument that $[Z]$ is non-torsion in $\\operatorname{Cl}X$? I have given this some thought (below), but I am stuck. My work so far: Let $A=k[x,y,z,w]/(xy-zw)$ and let $\\mathfrak{p}=(y,z)$. Suppose there is some $f\\in K(X)=\\operatorname{Frac}A$ such that $div(f)=n[Z]$ for some $n\\in\\mathbb{Z}\\setminus\\{0\\}$. By replacing $f$ with $f^{-1}$ if necessary, we can assume that $n>0$. I think that in this case $f\\in A$ and $\\mathfrak{p}^{(n)}$, the $n$th symbolic power of $\\mathfrak{p}$, is principal and generated by $f$. I think this because since $A$ is an integrally closed noetherian domain, it is the intersection of its localizations at the height 1 primes, which are precisely the DVRs associated to the valuations induced by the prime divisors. $div(f)$ is effective, so this means $f$ is in the intersection of these DVRs, thus $\\in A$. Furthermore, for any element $g$ of $A$ whose $Z$-valuation is $\\geq n$, we must have $g/f\\in A$ for the same reason. (Hartshorne uses reasoning like this several times in section II.6.) It follows that $f$ generates the ideal $\\{g\\in A\\mid v_Z(g)\\geq n\\}$. But this ideal is the contraction in $A$ of $\\mathfrak{p}_\\mathfrak{p}^nA_\\mathfrak{p}$; this is $\\mathfrak{p}^{(n)}$. Therefore, proving that $[Z]$ is non-torsion in $\\operatorname{Cl} X$ is equivalent to proving that $\\mathfrak{p}^{(n)}\\triangleleft A$ is never principal. I had the thought to mimic Hartshorne's reasoning (in example II.6.5.2) and show that $\\mathfrak{p}^{(n)}$'s image in some appropriate vector space, e.g. let $(x,y,z,w)=\\mathfrak{m}$ and find the right $\\mathfrak{m}^n/\\mathfrak{m}^{n+1}$, is never one-dimensional. However, in general, $\\mathfrak{p}^{(n)}$ needn't be contained in $\\mathfrak{m}^n$, so I wasn't sure how to get this going. Thanks in advance for your thoughts. NB: Because this question arose out of a homework problem for me, I'm using the homework tag to be safe, but I intend to turn in the proof I described above, so this question is not intended to help me with my assignment, just my understanding.",
    "AcceptedAnswer": "Let me first recap the setup and known parts.\n$A = k[x,y,z,w]/(xy-zw)$ and $p = (y,z)A$. In order to show that $Cl(A)\\cong \\mathbb{Z}$, it suffices to show that for any $n\\ge 1$, $p^{(n)}$ is not principal. Suppose that for some $n \\ge 1$, $p^{(n)}$ is principal. Write $S = k[x,y,z,w]$, and let $f \\in S$ whose image in $A$ generates $p^{(n)}$. Since $p^n \\subset p^{(n)}$ in $A$, $(y,z)^n \\subset (f, xy-zw)$ in $S$. We are going to show that this cannot happen. The containment $(y,z)^n \\subset (f, xy-zw)$ in $S$ implies\n$$\n(y^n, z^n) \\subset (f, xy-zw) \\subset (f, x,w).\n$$ \nIn $S/ (x,w) \\cong k[y,z]$, the ideal $(y^n,z^n) S/(x)$ is contained in the ideal $(f,x,w) S/(x,w) = f S/(x,w)$ whose height (codimension) is at most 1 (Krull's height theorem). This is a contradiction because the height of $(y^n,z^n)S/(x,w) = (y^n,z^n)k[y,z]$ is 2.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$X = \\operatorname{Spec} k[x,y,z,w]/(xy - zw)$,\n$Z$ is the prime divisor associated with the ideal $(y,z)$,\n$\\operatorname{Cl} X$ is cyclic and generated by $[Z]$,\n$k$ is a field.\nProblem: \nProve that $[Z]$ is non-torsion in $\\operatorname{Cl} X$, i.e., $n[Z]$ is not principal for any $n \\in \\mathbb{Z} \\setminus \\{0\\}$. \n###END_OF_FORMAT###\n\n**Answer:**\n\nTo show $[Z]$ is non-torsion in $\\operatorname{Cl} X$, we prove the symbolic power $\\mathfrak{p}^{(n)} = (y,z)^{(n)}$ is never principal for $n \\geq 1$, where $\\mathfrak{p} = (y,z)$. Assume, for contradiction, that $\\mathfrak{p}^{(n)} = (f)$ for some $f \\in A = k[x,y,z,w]/(xy - zw)$. Key steps:\n\n1. **Irreducibility and Coprimality in $A$:**  \n   - In $A$, the elements $y$ and $z$ are irreducible.  \n   - $y$ and $z$ are coprime: Their only common divisors are units (constants).  \n\n2. **Divisibility Argument:**  \n   - If $\\mathfrak{p}^{(n)} = (f)$, then $f$ divides $y^n$ and $z^n$ in $A$.  \n   - Since $y$ and $z$ are irreducible and coprime, their powers $y^n$ and $z^n$ share no common non-unit divisor in $A$.  \n\n3. **Conclusion:**  \n   - The only common divisor of $y^n$ and $z^n$ in $A$ is a unit, which cannot generate the proper ideal $\\mathfrak{p}^{(n)}$.  \n   - Thus, $\\mathfrak{p}^{(n)}$ is not principal for any $n \\geq 1$, and $[Z]$ is non-torsion.  \n\nHence, $\\operatorname{Cl} X \\cong \\mathbb{Z}$, generated by $[Z]$.",
    "reasoning_create_structured_problem": "Okay, let me try to tackle this problem. So, the user wants a direct argument showing that the divisor class [Z] is not torsion in the class group Cl X, where X is the affine cone over a quadric surface given by the ring k[x,y,z,w]/(xy - zw). They already know that Cl X is cyclic generated by [Z], but they need to confirm that [Z] isn't torsion, meaning no multiple n[Z] is principal. \n\nThe user mentioned trying to show that the symbolic powers of the ideal p = (y,z) are never principal. So, if we can prove that p^(n) isn't principal for any n ≥ 1, then [Z] isn't torsion. \n\nFirst, let's recall that in a normal domain, the symbolic power p^(n) is the set of elements vanishing to order at least n along the subvariety defined by p. Here, p is a height 1 prime since Z is a prime divisor. So, p^(n) would be the n-th symbolic power, which in a UFD would be principal, but X isn't a UFD. \n\nThe user tried relating p^(n) to some graded piece in the associated graded ring, but that didn't work because symbolic powers might not be contained in the maximal ideal's powers. Maybe another approach is needed. \n\nLooking at the ring A = k[x,y,z,w]/(xy - zw). Let's think about the ideal p = (y,z). If p^(n) were principal, then there exists some f in A such that p^(n) = (f). Let's check for n=1 first: is p itself principal? If not, then [Z] is already non-torsion. \n\nSuppose p = (f). Then f divides both y and z. Let's see. In A, the relation xy = zw holds. If f divides y and z, then in A, y = f*g and z = f*h for some g, h in A. Then substituting into xy = zw, we get x*(f*g) = (f*h)*w ⇒ x*g = h*w. But since A is a domain, maybe we can argue about the factors. However, variables x, y, z, w are irreducible? Maybe not necessarily, but let's see. If f is a common divisor of y and z, then f would have to be a unit if A is a UFD, but A isn't a UFD. \n\nWait, A is the coordinate ring of the affine cone over a quadric. Quadric surfaces are normal, so maybe A is normal. Since it's a hypersurface, it's Cohen-Macaulay, and if the singularity is isolated, then it's normal. But in this case, the affine cone over a smooth quadric surface has an isolated singularity at the origin (the maximal ideal (x,y,z,w)). Therefore, A is normal. \n\nIn a normal ring, the divisor class group is the same as the Cartier divisor class group. So, Cl X is the group of Weil divisors modulo principal divisors. \n\nTo check if p = (y,z) is principal, suppose it is. Then there's some f such that (y,z) = (f). Then f divides y and z. Let's see if that's possible. Let's write y = f*u and z = f*v for some u, v in A. Then substituting into xy = zw (the defining equation), we have x*f*u = f*v*w ⇒ x*u = v*w (since A is a domain, we can cancel f). Now, in the ring A, x, y, z, w are variables modulo xy - zw. So, can we have such an equation x*u = v*w? \n\nIf u and v are in A, perhaps they are homogeneous in some grading. Let's assume k is algebraically closed for simplicity. Suppose we grade A by setting deg x = a, deg y = b, deg z = c, deg w = d, but since xy = zw, we have a + b = c + d. But maybe it's standard graded with all variables degree 1? Then xy and zw are both degree 2, so the relation is homogeneous. Then A is a graded ring. \n\nIf f is homogeneous, then u and v would also be homogeneous. Suppose f is homogeneous of degree k. Then y = f*u implies deg u = deg y - deg f = 1 - k. Similarly, z = f*v implies deg v = 1 - k. Then x*u = v*w. The left side would have degree deg x + deg u = 1 + (1 - k) = 2 - k. The right side would have deg v + deg w = (1 - k) + 1 = 2 - k. So degrees match. But can such u and v exist? \n\nSuppose k=0, so f is a constant. Then u and v would be degree 1, but then (y,z) = (f) would imply f divides y and z, which are degree 1 elements. But constants can't divide non-constant elements unless they are units, which f is. But (y,z) isn't the unit ideal, so this is impossible. So k can't be 0. \n\nIf k=1, then deg u = 0 and deg v = 0. So u and v are constants. Then y = f*u and z = f*v. So f would generate y and z. Then f divides both y and z. But in A, since xy = zw, if f divides y and z, then f^2 divides xy and zw. Let's see. Suppose f is a common factor of y and z, then f divides xy - zw = 0. So f divides 0, which is trivial. But in A, y and z are irreducible? Maybe. If A is a domain, and the variables are irreducible, then y and z can't have a common factor unless it's a unit. Wait, but in the ring A, the elements y and z might not be irreducible. Wait, in A, xy = zw. Suppose y factors into two non-units. Then maybe y = ab, but then substituting into xy = zw would give xab = zw. Maybe, but if y were reducible, but since A is the quotient of a polynomial ring by a quadratic relation, the variables might remain irreducible. \n\nAlternatively, suppose (y,z) is principal, generated by f. Then as above, y = f*u, z = f*v. Then x*u = v*w. Let's try to write down possible f. For example, if f is a linear form, say f = ay + bz + ... but since we're in the cone, maybe f is homogeneous of degree 1. However, if f is a linear combination of y and z, say f = a y + b z, then in the ring A, can such an element generate both y and z? Let's check. Suppose f = a y + b z. Then in A, we can write y = f * u. Then u must be a degree 0 element (constant) since deg f =1 and deg y =1. So u is a constant. Similarly, z = f*v with v a constant. But then f would have to divide both y and z, which implies that f is a common factor of y and z. However, in the polynomial ring, y and z are coprime, and modulo xy - zw, I think they remain coprime. Because in the quotient ring, if there were a common factor, it would have to divide xy - zw. But f = a y + b z. Let's see, does a y + b z divide xy - zw? Let's check in the polynomial ring: suppose a y + b z divides xy - zw. Then, in k[x,y,z,w], if a y + b z divides xy - zw, then substituting y = (-b/a) z into xy - zw gives x*(-b/a z) - z w = - (b/a x + w) z. So unless a=0 or b=0, this would require that a y + b z divides z*(something), but since a y + b z and z are coprime unless a=0. If a=0, then f = b z, but then f divides z, and in that case, f can't generate y, since y and z are coprime. So it seems like no such linear form f can generate (y,z). Thus, (y,z) is not principal. Hence, [Z] is not principal, so it's of infinite order. \n\nBut wait, this is just for n=1. The problem is to show that no multiple n[Z] is principal. So even if [Z] itself isn't principal, maybe some multiple is. But since Cl X is cyclic, if [Z] were torsion, then n[Z] would be principal for some n. So the user's approach is to show that the symbolic power p^(n) is never principal. \n\nTo generalize, suppose p^(n) is principal. Then there exists f in A such that p^(n) = (f). The symbolic power p^(n) consists of elements of A that vanish to order at least n along Z. In terms of valuations, v_Z(f) = n. \n\nIn the local ring at p, A_p is a DVR since p is a height 1 prime in a normal domain. So the symbolic power p^(n) is the contraction of p^n A_p to A. So p^(n) = { a ∈ A | v_p(a) ≥ n }. If p^(n) is principal, then this set is equal to (f) for some f with v_p(f) = n. \n\nBut since A is graded (if we consider the standard grading), maybe f can be taken homogeneous. Then, in the graded ring, the ideal p^(n) would be generated by a homogeneous element of some degree. Let's assume f is homogeneous. \n\nSuppose p^(n) = (f). Then f divides every element of p^(n). In particular, f divides y^n and z^n, because y and z are in p, so y^n and z^n are in p^(n). Therefore, f divides y^n and z^n. So in the ring A, y^n = f * g and z^n = f * h for some g, h ∈ A. \n\nThen, similar to the n=1 case, substituting into the equation xy = zw. Let's see, in A, xy = zw. If we raise both sides to the n-th power, we get x^n y^n = z^n w^n. Substituting y^n = f g and z^n = f h, we get x^n f g = f h w^n ⇒ x^n g = h w^n. Since A is a domain, we can cancel f. \n\nSo x^n g = h w^n. Now, since f is homogeneous, let's consider the degrees. Suppose f has degree d. Then y^n has degree n, so g must have degree n - d. Similarly, z^n has degree n, so h has degree n - d. Then x^n g has degree n + (n - d) = 2n - d, and h w^n has degree (n - d) + n = 2n - d. So degrees match. \n\nBut can such g and h exist? For example, if n=1, we saw that this leads to x g = h w. If g and h are constants, then x and w would have to be related by a constant, which they aren't. If they are linear, then maybe, but not sure. \n\nAlternatively, maybe using the structure of the ring A. Since A is a hypersurface, we can use the fact that it's a unique factorization domain if and only if the class group is trivial. But here, the class group is cyclic, so it's not a UFD, meaning there are non-principal ideals. \n\nAnother approach: Since X is the affine cone over a smooth quadric surface Q, the class group Cl X is related to the Picard group of Q. The exercise II.6.3 in Hartshorne says that for a projective variety V, the class group of the affine cone over V is isomorphic to Cl V divided by the class of a hyperplane section. But the quadric surface Q has Picard group isomorphic to Z ⊕ Z, generated by the two rulings. When you take the affine cone, the class group becomes Z, which matches the user's result. But maybe this is the indirect method the user wants to avoid. \n\nBut the user wants a direct argument within the ring A. Let's consider the case n=1 again. If p = (y,z) were principal, then as before, y = f u and z = f v. Then xy = zw becomes x f u = f v w ⇒ x u = v w. If we can show that this equation can't hold for any u, v in A, then p isn't principal. \n\nSuppose u and v are in A. Let's express them in terms of the variables. Since A is graded, u and v are homogeneous. Suppose u is degree k and v is degree m. Then x u is degree k+1 and v w is degree m+1. So k+1 = m+1 ⇒ k=m. So u and v have the same degree. Let's write u and v as polynomials in x,y,z,w modulo xy - zw. \n\nBut this might get complicated. Alternatively, think about the initial terms. Suppose u has a term not involving w, and v has a term not involving x. Then x u would have an x term, and v w would have a w term. But in A, the relation xy = zw allows us to replace xy with zw. Maybe we can use this to derive a contradiction. \n\nAlternatively, localize at p. In A_p, the ideal p A_p is principal since A is normal. So there exists some f in A_p such that p A_p = (f). But this doesn't necessarily mean f is in A. However, the symbolic power p^(n) is the contraction of (f^n) in A_p. If p^(n) is principal in A, then f^n would be in A, and generate p^(n). But f itself might not be in A. \n\nBut since A is a graded ring, maybe we can use graded primes. The ideal p is homogeneous, so if p^(n) is principal, then its generator must be homogeneous. Let’s suppose f is homogeneous. Then, in the local ring A_p, the generator f would have to have minimal degree. But maybe we can use some grading argument. \n\nAnother idea: The ring A can be viewed as a toric ring. The equation xy = zw suggests a toric variety, and sometimes class groups of toric varieties can be computed using combinatorial methods. But I'm not sure if that's helpful here. \n\nAlternatively, use the fact that in A, the ideal p = (y,z) has height 1. If p^(n) is principal, then the divisor nZ is principal, so there exists a rational function f such that div(f) = nZ. But since Z is defined by p, this means f has a zero of order n along Z and no other poles or zeros. But in the ring A, the only divisors are combinations of the prime divisors. Since Cl X is generated by Z, any principal divisor would be a multiple of Z. But to check if such an f exists, we need to find f such that its zeros are exactly nZ. \n\nHowever, since X is an affine variety, any regular function on X has its zeros and poles at infinity, but in the affine cone, the only prime divisor is Z (since X \\ Z is a UFD). Wait, but the exact sequence gives Cl X is generated by Z, but there might be other divisors as well. Wait, the user showed that Cl X is cyclic generated by Z, so any divisor is linearly equivalent to mZ for some m. Therefore, if nZ is principal, then mZ is principal for m = n, which would imply that Z is torsion. \n\nBut the key is to show that no such m exists. Suppose mZ is principal for some m > 0. Then there exists f ∈ A such that the divisor of f is mZ. This means that f vanishes to order m along Z and nowhere else. But in the ring A, which is the coordinate ring of X, regular functions are determined by their zeros and poles. Since X is normal, the divisor of f must be a Weil divisor. \n\nNow, consider the local ring at Z, which is A_p, where p = (y,z). Since A_p is a DVR, the valuation v_p(f) = m. So f ∈ p^m but not in p^{m+1}. But if p^(m) is principal, then p^(m) = (f), so every element of p^(m) is a multiple of f. In particular, y^m and z^m are in p^(m), so f divides y^m and z^m. \n\nBut y and z are part of the variables in the ring, and we have the relation xy = zw. Let's try to see if y^m and z^m can have a common divisor in A. If f divides both y^m and z^m, then in the polynomial ring, y and z are coprime, so their greatest common divisor is 1. Modulo the relation xy - zw, does this change? Suppose there is a common divisor f of y^m and z^m in A. Then f would divide any combination of y^m and z^m. For example, using the relation xy = zw, we can write:\n\nxy = zw ⇒ xy^m = z^{m} w^m.\n\nBut since f divides y^m and z^m, f divides xy^m and z^{m} w^m. Therefore, f divides both terms. However, in A, if f divides y^m and z^m, then f would also divide combinations like xy^m - z^m w^m. Wait, but xy^m - z^m w^m = y^{m-1}(xy) - z^m w^m = y^{m-1} zw - z^m w^m = z w y^{m-1} - z^m w^m = z w (y^{m-1} - z^{m-1} w^{m-1}). But I'm not sure if that helps. \n\nAlternatively, suppose f divides y^m and z^m. Then, in the polynomial ring k[x,y,z,w], f would divide y^m and z^m modulo (xy - zw). If f is a non-unit, then it must involve some combination of variables. But given the relation xy = zw, maybe f cannot exist unless m=0. \n\nAlternatively, consider the quotient ring A/(y,z). In A/(y,z), we have the ideal (y,z) becomes zero, and the relation xy = zw becomes 0 = 0. So A/(y,z) is isomorphic to k[x,w], because y and z are set to zero, so the remaining variables are x and w. Therefore, the quotient ring is a polynomial ring in x and w. \n\nNow, if p^(m) is principal, generated by f, then the image of f in A/(y,z) would generate the image of p^(m). But p^(m) modulo (y,z) would be (y^m, y^{m-1} z, ..., z^m) modulo (y,z), which is zero. Therefore, f must be in (y,z). But the image of f in A/(y,z) is zero, so f ∈ (y,z). But this doesn't give us new information. \n\nPerhaps looking at the initial ideal or using Gröbner bases? Not sure. \n\nWait, another approach: If p^(m) is principal, then the Krull dimension of A/p^(m) is dim A - ht p = 3 - 1 = 2. But if p^(m) is principal, then A/p^(m) would have dimension 3 - 1 = 2, which is consistent. Doesn't help. \n\nPerhaps look at the Hilbert function. If p^(m) is principal, then the Hilbert series of A/p^(m) would be different compared to when it's not principal. But this might be too vague. \n\nAlternatively, use the fact that in a UFD, every height 1 prime is principal. Here, X \\ Z is a UFD, so Cl X \\ Z = 0, which is why the exact sequence gives Cl X is generated by Z. But X itself is not a UFD, so there must be non-principal height 1 primes, like Z. \n\nBut we need to show that even multiples of Z aren't principal. Suppose, for contradiction, that mZ is principal. Then there exists f ∈ A such that div(f) = mZ. This means that f vanishes only along Z with multiplicity m. Now, consider the rational function f on X. Since X is the affine cone over Q, the function f corresponds to a section of some line bundle on Q. But since Q is a smooth quadric, its Picard group is Z ⊕ Z, generated by the two rulings. The line bundle corresponding to mZ would be related to the hyperplane section. But I'm not sure if this helps directly. \n\nAlternatively, consider the grading on A. Let’s assume k is algebraically closed. The ring A is graded with variables x, y, z, w in degree 1. The element f must be homogeneous since it generates a homogeneous ideal. Suppose f has degree d. Then since f divides y^m and z^m, which are both degree m, we have d ≤ m. \n\nIf p^(m) is principal, generated by f of degree d, then the Hilbert function of A/p^(m) would be the same as that of A/(f). The Hilbert series of A is (1 - t^2)/(1 - t)^4, since it's a hypersurface defined by a degree 2 relation. Then the Hilbert series of A/(f) would be (1 - t^d)(1 - t^2)/(1 - t)^4. \n\nBut the Hilbert series of A/p^(m) can be computed differently. However, this might be complicated. \n\nAlternatively, consider the case m=2. If p^(2) is principal, then there exists f such that (f) = (y^2, y z, z^2). Then y^2 = f a, y z = f b, z^2 = f c for some a, b, c ∈ A. Then, similarly to the n=1 case, substituting into the relation xy = zw. For example, using y z = f b, then x y = z w implies x y^2 = z^2 w. Substituting y^2 = f a and z^2 = f c, we get x f a = f c w ⇒ x a = c w. \n\nNow, a and c are elements of A. If f is degree 2, then a and c are degree 0 (constants) or degree 1. If a and c are constants, then x a = c w implies a x = c w. But in A, x and w are independent modulo xy - zw, so this equation can't hold unless a = c = 0, which would make y^2 = 0, impossible. If a and c are degree 1, then they are linear combinations of the variables. Suppose a = α x + β y + γ z + δ w and similarly for c. Then x a = c w becomes x(α x + β y + γ z + δ w) = (α' x + β' y + γ' z + δ' w) w. Expanding both sides: α x^2 + β x y + γ x z + δ x w = α' x w + β' y w + γ' z w + δ' w^2. \n\nNow, using the relation xy = zw, replace xy with zw on the left side: α x^2 + β z w + γ x z + δ x w = α' x w + β' y w + γ' z w + δ' w^2. \n\nRearrange terms:\n\nα x^2 + γ x z + (β z w + δ x w) = α' x w + β' y w + γ' z w + δ' w^2.\n\nBring all terms to one side:\n\nα x^2 + γ x z + (β z w + δ x w) - α' x w - β' y w - γ' z w - δ' w^2 = 0.\n\nNow, in A, the variables x, y, z, w are independent except for the relation xy = zw. To have this equation hold, the coefficients of each monomial must vanish. Let's look at the terms:\n\n- x^2: α = 0.\n- x z: γ = 0.\n- x w: δ - α' = 0 ⇒ δ = α'.\n- z w: β - γ' = 0 ⇒ β = γ'.\n- y w: -β' = 0 ⇒ β' = 0.\n- w^2: -δ' = 0 ⇒ δ' = 0.\n\nSo from this, we have α = γ = β' = δ' = 0, and δ = α', β = γ'. \n\nTherefore, the left side becomes β z w + δ x w = α' x w + β z w. So the equation reduces to 0 = 0. Therefore, this is possible. So we can choose a and c such that:\n\na = α' x + β y + γ' z + δ w, but from above, α = γ = 0, so a = δ w + β y. Similarly, c = α' x + γ' z + δ' w, but δ' = 0, so c = α' x + γ' z. Wait, but we have a and c in terms of the variables. \n\nBut we need to ensure that y z = f b. If f is degree 2, then b is degree 0, so a constant. Then y z = f b. If f is in (y^2, y z, z^2), say f = a y^2 + b y z + c z^2. But we supposed f generates p^(2). If f is a generator, then y^2 and z^2 must be multiples of f. So if f = y z, then y z divides y^2 and z^2? But y z doesn't divide y^2 in A, since there's no element g such that y^2 = y z g, unless z g = y, which isn't possible as z and y are irreducible. Hence, f cannot be y z. \n\nAlternatively, f could be a combination like y^2 + z^2. But then does this divide y^2? Only if z^2 is a multiple of f, which it's not. \n\nThis is getting too vague. Maybe another approach: Since A is a Cohen-Macaulay ring (being a hypersurface), and p is a height 1 prime, then the symbolic powers of p coincide with the usual powers if and only if p is a complete intersection. But p = (y,z) in A, which is generated by two elements, but in a 4-dimensional ring modulo one relation, so the codimension is 2. Wait, A is 3-dimensional (since it's a hypersurface in 4-dimensional space), and p has height 1, so it's a complete intersection if it's generated by one element, which it's not. Therefore, symbolic powers differ from regular powers. \n\nBut even if they differ, how does that help? We need to show that p^(n) is not principal. Maybe use a grading argument. Suppose f generates p^(n), which is homogeneous of degree d. Then the number of monomials of degree d in A can be counted, and compare to the number of monomials in p^(n). If the number of generators required for p^(n) is more than 1, then p^(n) can't be principal. \n\nFor example, consider n=1. p is generated by y and z, so it's not principal. For n=2, p^(2) is generated by y^2, y z, z^2. If these three elements can be generated by a single element f, then f must divide each of them. But as above, in A, there's no such f. \n\nAlternatively, in the polynomial ring k[x,y,z,w], the ideal (y,z) has symbolic powers equal to the regular powers, but modulo xy - zw, the symbolic power p^(2) might require more generators. However, in the quotient ring, the symbolic power p^(2) is generated by y^2, y z, z^2, but these might satisfy relations that prevent them from being generated by a single element. \n\nFor instance, consider the relation xy = zw. If we multiply both sides by y, we get x y^2 = z w y. But since y^2 is in p^(2), this relates x y^2 to y z w. Similarly, multiplying by z gives x y z = z^2 w. So in A, x y^2 and z^2 w are related. Maybe using such relations to show that if p^(n) were principal, it would imply certain dependencies that don't hold. \n\nBut I'm not sure. Another idea: If p^(n) is principal, then its image in the local ring at p is principal, which it is, generated by f^n where f is a uniformizer. But the question is whether this generator comes from an element of A. The valuation ring's generator might not lift to A. \n\nAlternatively, use the fact that in the affine cone, the only invertible elements are constants. So if f is a homogeneous element generating p^(n), then f cannot be a unit, so it must have positive degree. Then, the ideal (f) would contain all multiples of f, but p^(n) contains elements of different degrees. For example, y^n is degree n, z^n is degree n, and there are other elements like y^{n-1} z of degree n. If (f) contains all these, then f must divide each of them. But in A, as before, this would require f to be a common divisor, which is not possible unless f is a unit. \n\nWait, but f is homogeneous. Suppose f is of degree k. Then y^n is degree n, so k ≤ n. If f divides y^n and z^n, then in the polynomial ring, f would have to be a power of y and a power of z, but y and z are irreducible. So in the polynomial ring, the only common divisors of y^n and z^n are constants. Modulo xy - zw, does this change? Are y and z still irreducible in A? \n\nYes, suppose y factors in A as y = a b. Then in k[x,y,z,w], this would be y = a b + c(xy - zw) for some polynomial c. But since y is linear and xy - zw is quadratic, the only way this could happen is if one of a or b is a constant. But then y would be a unit multiple of a linear form, which it's not. So y and z remain irreducible in A. Hence, the only common divisors of y^n and z^n are constants. Therefore, f must be a constant, which can't generate p^(n). Contradiction. Therefore, p^(n) cannot be principal. \n\nAh, this seems promising! In the ring A, since y and z are irreducible and coprime (their only common divisors are units), any common divisor of y^n and z^n must be a unit. Hence, if p^(n) is generated by a single element f, then f must divide both y^n and z^n, implying f is a unit, which is impossible because p^(n) is a proper ideal. Therefore, p^(n) cannot be principal for any n ≥ 1, so [Z] is not torsion in Cl X. \n\nThis argument seems direct and uses the properties of A being a domain with y and z irreducible and coprime. Thus, the symbolic power ideals can't be principal because they'd require a common divisor of y^n and z^n, which doesn't exist beyond units.",
    "Original_Problem": "Assumption: \n$X = \\operatorname{Spec} k[x,y,z,w]/(xy - zw)$,\n$Z$ is the prime divisor associated with the ideal $(y,z)$,\n$\\operatorname{Cl} X$ is cyclic and generated by $[Z]$,\n$k$ is a field.\nProblem: \nProve that $[Z]$ is non-torsion in $\\operatorname{Cl} X$, i.e., $n[Z]$ is not principal for any $n \\in \\mathbb{Z} \\setminus \\{0\\}$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $X = \\operatorname{Spec} k[x,y,z,w]/(xy - zw)$,\nAssumption 2: $Z$ is the prime divisor associated with the ideal $(y,z)$,\nAssumption 3: $\\operatorname{Cl} X$ is cyclic and generated by $[Z]$,\nAssumption 4: $k$ is a field.\nProblem: \nProve that $[Z]$ is non-torsion in $\\operatorname{Cl} X$, i.e., $n[Z]$ is not principal for any $n \\in \\mathbb{Z} \\setminus \\{0\\}$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\n(y^n, z^n) \\subset (f, xy-zw) \\subset (f, x,w).\n$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $X = \\operatorname{Spec} k[x,y,z,w]/(xy - zw)$,\nAssumption 2: $Z$ is the prime divisor associated with the ideal $(y,z)$,\nAssumption 3: $\\operatorname{Cl} X$ is cyclic and generated by $[Z]$,\nAssumption 4: $k$ is a field.\nAssumption 5: $$\n(y^n, z^n) \\subset (f, xy-zw) \\subset (f, x,w).\n$$\nProblem: \nProve that $[Z]$ is non-torsion in $\\operatorname{Cl} X$, i.e., $n[Z]$ is not principal for any $n \\in \\mathbb{Z} \\setminus \\{0\\}$."
}