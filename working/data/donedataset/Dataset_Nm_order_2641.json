{
    "Link_API": "https://api.stackexchange.com/2.3/questions/265731",
    "Title": "Proof of the Compactness Theorem for Propositional Logic",
    "Score": 13,
    "Category": "Chứng minh",
    "Tags": "logic, compactness, propositional-calculus",
    "Link": "https://math.stackexchange.com/questions/265731/proof-of-the-compactness-theorem-for-propositional-logic",
    "Content": "I have a problem understanding the proof for the compactness theorem for propositional logic in my logic course. The compactness theorem states that there is a model for an infinite set $S$ of propositional formulas, if and only if, there is a model for every finite subset of $S$. The following (quite lengthy) sketch of the proof was given to us in class:\nThe premise is that we have a model for each finite subset of $S$, so we need to construct from these models a model for the whole set $S$. First we notice that for any (possibly infinite) set of formulas $S_n \\subseteq S$ with $n$ propositional variables there are at max $2^{2^n}$ equivalent formulas with $n$ variables, which is finite. So for every finite equivalence class $E_n$ of $S_n$ there is a model $m_n$, which is also a model for the infinite $S_n$. Furthermore, $m_n$ is also a model for all sets $S_1 \\subseteq S_2 \\subseteq \\cdots \\subseteq S_{n-1}$. Now, from all of the models $m_1, m_2, \\ldots$ we derive a model $m$ for the whole set $S$. We start with an empty model $m=\\{\\}$. We then iterate over all the propositional variables $p_1, p_2, \\ldots$ and assign a truth value to each and add them to $m$ as follows: We set $p_1 = \\textrm{TRUE}$, if there are infinitely many sets $S_i$, whose model also assigns $\\textrm{TRUE}$ to $p_1$. Now we delete all the sets $S_j$, in which $p_1 = \\textrm{FALSE}$. Repeat for all $p_2, p_3, \\ldots~$. The proof goes on to proof that the so constructed model $m$ is in fact a model for $S$. What I have problems with understanding is how we know that there are infinitely many models that assign some truth value to one of the variables. So, I don't find this proof convincing at all.",
    "AcceptedAnswer": "The argument is basically correct, but it could stand to be fleshed out a bit. For convenience I’ll write $\\mathbf{T}$ and $\\mathbf{F}$ instead of $\\text{TRUE}$ and $\\text{FALSE}$. I’ll also write $m(p_k)=\\mathbf{T}$ to indicate that $p_k$ is true in the model $m$. Let $S_n$ be the set of all formulas in $S$ containing at most the propositional variables $p_1,\\dots,p_n$. There is a finite set $E_n\\subseteq S_n$ such that every formula in $S_n$ is equivalent to one in $E_n$, so $S_n$ has a model $m_n$. Note that for any $n\\in\\Bbb Z^+$, each model $m_k$ with $k\\ge n$ assigns $p_n$ a truth value. Let $N_1=\\Bbb Z^+$. Each $m_n$ with $n\\in N_1$ assigns $p_1$ a truth value. Let $T_1=\\{n\\in N_1:m_n(p_1)=\\mathbf{T}\\}$. If $T_1$ is infinite, set $m(p_1)=\\mathbf{T}$, and let $N_2=\\{k\\in T_1:k\\ge 2\\}$. Otherwise, set $m(p_1)=\\mathbf{F}$, and let $N_2=\\{k\\in N_1\\setminus T_1:k\\ge 2\\}$. Note that in both cases $N_2$ is infinite, $m_k(p_1)=m(p_1)$ for all $k\\in N_2$, and $m_k(p_2)$ is defined for each $k\\in N_2$. Now repeat the process. Let $T_2=\\{n\\in N_2:m_n(p_2)=\\mathbf{T}\\}$. If $T_2$ is infinite, set $m(p_2)=\\mathbf{T}$, and let $N_3=\\{k\\in T_2:k\\ge 3\\}$. Otherwise, set $m(p_2)=\\mathbf{F}$, and let $N_3=\\{k\\in N_2\\setminus T_2:k\\ge 3\\}$. In both cases $N_3$ is infinite, $m_k(p_2)=m(p_2)$ for each $k\\in N_3$, and $m_k(p_3)$ is defined for each $k\\in N_3$. For the general step, given an infinite $N_n\\subseteq\\Bbb Z^+$ such that $m_k(p_n)$ is defined for each $k\\in N_n$, let $T_n=\\{k\\in N_n:m_k(p_n)=\\mathbf{T}\\}$. If $T_n$ is infinite, set $m(p_n)=\\mathbf{T}$, and let $$N_{n+1}=\\{k\\in T_n:k\\ge n+1\\}\\;.$$ Otherwise, set $m(p_n)=\\mathbf{F}$, and let $$N_{n+1}=\\{k\\in N_n\\setminus T_n:k\\ge n+1\\}\\;.$$ As before, in both cases $N_{n+1}$ is by construction infinite, $m_k(p_n)=m(p_n)$ for each $k\\in N_{n+1}$, and $m_k(p_{n+1})$ is defined for each $k\\in N_{n+1}$, so the recursive construction can proceed. This construction defines a model $m$ that assigns a truth value to each $p_k$. Take any formula $\\varphi$ in $S$; it belongs to some $S_n$. Pick any $k\\in N_{n+1}$; then $m_k$ is a model for $S_n$ and hence for $\\varphi$. Moreover, the construction ensures that $m_k(p_i)=m(p_i)$ for $i=1,\\dots,n$, so $m$ is also a model for $S_n$ and hence for $\\varphi$.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$S$ is an infinite set of propositional formulas,\nEvery finite subset of $S$ has a model,\nFor any (possibly infinite) set $S_n \\subseteq S$ with $n$ propositional variables, there are at most $2^{2^n}$ equivalent formulas with $n$ variables,\nFor every finite equivalence class $E_n$ of $S_n$, there exists a model $m_n$ that satisfies $S_n$ and all subsets $S_1 \\subseteq S_2 \\subseteq \\cdots \\subseteq S_{n-1}$,\nThe model $m$ is constructed by iteratively assigning truth values to propositional variables $p_1, p_2, \\ldots$ based on the consensus of infinitely many surviving models $m_j$.\nProblem: \nProve that the constructed model $m$ is a model for the entire set $S$.\n###END_OF_FORMAT###",
    "reasoning_create_structured_problem": "Okay, let's tackle this problem. The user wants me to structure the given Math Stack Exchange question into the specified format. First, I need to identify all the assumptions mentioned in the problem. The original question is about understanding a proof of the Compactness Theorem in propositional logic. The user is confused about a specific part of the proof regarding the existence of infinitely many models assigning a truth value to a variable.\n\nLet me read through the problem again. The Compactness Theorem states that an infinite set S of propositional formulas has a model if and only if every finite subset of S has a model. The proof sketch provided involves constructing a model m for S by iteratively assigning truth values to propositional variables. The step in question is where they set p1 to TRUE if infinitely many models from the sets Si assign TRUE to p1, then discard the sets where p1 is FALSE. The user doubts how we can be sure there are infinitely many such models.\n\nNow, to extract the assumptions. The problem mentions that each finite subset of S has a model. The proof uses models for finite equivalence classes of Sn with n variables, leading to models m_n that also work for subsets S1, S2, etc. Then, the construction of model m by iterating over variables, assigning truth values based on infinitely many models, and pruning the sets. The key assumptions here would be the initial premise (every finite subset has a model), the properties of equivalence classes, the iterative construction process, and the method of assigning truth values based on infinite models.\n\nEach assumption should be a single condition applied to one object. Let's list them:\n\n1. S is an infinite set of propositional formulas.\n2. Every finite subset of S has a model.\n3. For any set S_n ⊆ S with n propositional variables, there are at most 2^(2^n) equivalent formulas.\n4. Each finite equivalence class E_n of S_n has a model m_n.\n5. The model m_n is also a model for the infinite set S_n.\n6. The model m_n is a model for all sets S₁ ⊆ S₂ ⊆ ... ⊆ S_{n−1}.\n7. The constructed model m starts as an empty set and assigns truth values iteratively.\n8. Each propositional variable p_i is assigned TRUE if infinitely many models m_j assign TRUE to p_i.\n9. After assigning a truth value to p_i, all sets S_j where p_i is assigned a different value are discarded.\n\nNow, the problem statement is to show that the constructed model m is a model for the entire set S. The user's specific confusion is about the step where we assert that there are infinitely many models assigning a particular truth value to a variable. However, according to the format, the problem should be stated as per the original theorem, which is the Compactness Theorem. But the user's question is more about understanding a specific part of the proof. Wait, the example given was to rephrase the original problem into assumptions and the problem. The original problem here is the user's confusion about the proof step, but the task is to structure the problem presented in the question into the format. The problem as per the user's question is about the proof of the Compactness Theorem, specifically why there are infinitely many models assigning a truth value to a variable.\n\nBut the example given took the original problem (prove A(n) is divisible by 91) and listed assumptions. So here, the problem is the user's question, which is understanding how the proof ensures that infinitely many models assign a truth value. But the format requires the problem to be stated as the mathematical problem, not the user's confusion. Wait, looking back at the example, the original problem was \"Prove that A(n) is divisible by 91,\" and the formatted problem kept that as the problem, listing assumptions. Here, the original problem is the Compactness Theorem, but the user's specific problem is about the step in the proof. Therefore, the problem statement should be the user's question rephrased as the problem. However, the example shows that the problem is the mathematical statement to be proven. Hmm. The user's question is a bit meta, as they are asking about understanding a step in the proof, not the theorem itself. But the task is to structure the problem as per the example. The example took the original problem (the theorem to prove) and listed assumptions. In this case, the problem as per the user is about the proof step. But maybe the problem here should be the Compactness Theorem, and the assumptions are the steps in the proof. Alternatively, perhaps the problem is the specific part the user is confused about.\n\nWait, the original problem in the example was the theorem to prove. Here, the user is presenting a problem about understanding a proof. But according to the instructions, the task is to read the mathematics question on Math Stack Exchange, filter unrelated information, and structure it into the given format. The example was a problem asking to prove a divisibility property. So, applying that here, the problem in the formatted version should be the mathematical statement or question, and the assumptions are the conditions given in the problem.\n\nIn the user's question, the problem is understanding a specific step in the proof of the Compactness Theorem. However, the Compactness Theorem itself is the statement that an infinite set S has a model iff every finite subset does. The proof sketch is provided, and the user is stuck on how we know there are infinitely many models assigning a truth value to a variable. Therefore, the problem to structure is the Compactness Theorem, and the assumptions are the conditions in the proof. Alternatively, since the user's question is about the proof step, maybe the problem is \"How do we know that there are infinitely many models assigning some truth value to one of the variables in the proof of the Compactness Theorem?\" But the example structured the problem as the theorem statement. The example's problem was \"Prove that A(n) is divisible by 91,\" with assumptions about n being an integer and divisible by 7.\n\nBut in the given user's problem, the original question is about understanding a step in the proof. So perhaps the problem here is \"Prove the Compactness Theorem for Propositional Logic as per the given sketch,\" and the assumptions are the steps taken in the proof sketch. However, the user's specific problem is about a step in that proof. But according to the task, we need to structure the problem as per the example, which focused on the theorem, not the user's understanding. Alternatively, perhaps the problem is the user's question: \"How do we know that there are infinitely many models that assign some truth value to one of the variables in the proof of the Compactness Theorem?\"\n\nBut the example took the original problem (the theorem) and structured it. So here, the problem is the Compactness Theorem, and the assumptions are the conditions in the proof. Let me re-examine the original question.\n\nOriginal problem: The user is struggling with understanding a step in the proof. The Compactness Theorem states that S has a model iff every finite subset does. The proof constructs a model m by assigning variables step by step. The step in question is assigning p_i to TRUE if infinitely many S_i's models do so, then deleting conflicting S_j's. The user doubts this step, asking how we know infinitely many models assign that value.\n\nTo structure this, the problem would be the user's question: How do we know that there are infinitely many models assigning a truth value to a variable in the proof? However, the example's problem was a statement to prove. Maybe the problem here is \"Prove that the constructed model m is a model for S,\" with assumptions being the steps of the proof. Alternatively, perhaps the problem is the Compactness Theorem itself, and the assumptions are the steps taken in the proof.\n\nBut the user's actual problem is understanding a specific step in the proof. However, according to the example, the problem should be the mathematical statement to prove. In the example, the problem was the divisibility. Here, the mathematical statement is the Compactness Theorem. Therefore, the formatted problem should be \"Prove that there is a model for an infinite set S of propositional formulas if and only if every finite subset of S has a model,\" with assumptions being the conditions used in the proof. However, the user's confusion is about a step in the proof, not the theorem itself. But the task is to structure the problem as per the example, which seems to take the theorem as the problem and lists the assumptions.\n\nAlternatively, perhaps the problem is \"Prove that the constructed model m is a model for the entire set S,\" with the assumptions being the steps in the proof. The user's question is about a step in this proof. Therefore, the problem here is \"Prove that the constructed model m is a model for the entire set S,\" and the assumptions are the conditions used in the construction. Let's try that.\n\nAssumptions:\n\n1. S is an infinite set of propositional formulas.\n2. Every finite subset of S has a model.\n3. For any finite subset S_n of S with n variables, there are at most 2^(2^n) equivalent formulas.\n4. Each equivalence class E_n of S_n has a model m_n.\n5. The model m_n is also a model for the infinite set S_n.\n6. The model m_n is a model for all subsets S₁ ⊆ S₂ ⊆ ... ⊆ S_{n−1}.\n7. The model m is constructed by iteratively assigning truth values to variables p_i.\n8. For each variable p_i, assign TRUE if infinitely many models m_j assign TRUE to p_i.\n9. After assigning p_i, discard all sets S_j where p_i is assigned differently.\n\nProblem: Prove that the constructed model m is a model for the entire set S.\n\nBut the user's specific issue is about assumption 8: how do we know there are infinitely many models assigning TRUE to p_i? The user's problem is not the entire proof but this step. However, the format requires the problem to be the mathematical statement, not the user's confusion. Therefore, the problem is the Compactness Theorem, and the assumptions are the steps in the proof.\n\nAlternatively, maybe the problem is the user's question, but structured. However, the example structured the original problem (the theorem) into assumptions and the problem. Therefore, I think here the problem is the Compactness Theorem, and the assumptions are the given conditions in the proof.\n\nWait, the original problem statement in the example was the theorem to prove. Here, the user is presenting a problem about understanding a proof. But the task is to structure the problem as per the example. The example took the theorem to prove as the problem, and listed the assumptions. Here, the theorem is the Compactness Theorem. Therefore, the formatted problem should be:\n\nAssumption: S is an infinite set of propositional formulas.\nAssumption: Every finite subset of S has a model.\nProblem: Prove that there exists a model for S.\n\nBut the original problem includes more details about the proof method. The user's question is about the step in the proof. However, the example didn't include the proof steps as assumptions. In the example, the assumptions were the conditions given in the problem. Here, the problem is to prove the Compactness Theorem, which has the assumption that every finite subset has a model. The problem is to show S has a model.\n\nBut the user's question includes a specific proof sketch with several steps. The user is confused about one of those steps. Therefore, the problem here might be the step in the proof: proving that there are infinitely many models assigning a truth value to a variable. However, the example structured the original problem, not the user's confusion. The instructions say to structure the problem as per the example, which focused on the mathematical statement to prove, not the user's understanding issue.\n\nGiven this, perhaps the correct approach is to structure the Compactness Theorem as the problem, with the assumptions being the given conditions. But the original problem (the theorem) is stated as:\n\nCompactness Theorem: S has a model iff every finite subset of S has a model.\n\nBut in the proof sketch, the premise is that every finite subset has a model, so we need to construct a model for S. Therefore, the problem is to prove that if every finite subset of S has a model, then S has a model. So the assumptions would be:\n\nAssumption: S is an infinite set of propositional formulas.\nAssumption: Every finite subset of S has a model.\nProblem: Prove that S has a model.\n\nHowever, the example included an extra assumption about n being divisible by 7, which wasn't in the original problem's statement. Wait, in the example, the original problem was to prove that A(n) is divisible by 91 for every integer n. The formatted problem included the assumption that n is an integer and n is divisible by 7. But that might be incorrect, because the original problem was for every integer n, not necessarily divisible by 7. Wait, but in the example, maybe the user made a mistake, or perhaps it's a different problem. Wait, looking back:\n\nOriginal example problem: Prove that for every integer n, the number A(n) = 5^n (5^n +1) -6^n(3^n +2^n) is divisible by 91.\n\nFormatted problem:\nAssumption: n is an integer, n is divisible by 7.\n\nProblem: Prove that A(n) is divisible by 91.\n\nWait, that seems incorrect. Because the original problem states \"for every integer n\", but the formatted problem adds an assumption that n is divisible by 7, which was not in the original. That seems like a mistake. But perhaps the example was illustrative, not accurate. Therefore, maybe the assumptions are not only the given conditions but also any implicit ones. However, in this case, the user's question is about the proof of Compactness Theorem, with the problem being the theorem statement, and the assumptions are the steps in the proof sketch provided.\n\nGiven that, the formatted problem should list the assumptions made in the proof sketch and then state the problem as proving the theorem. But the example had assumptions that were part of the problem's conditions, not the proof steps. This is a bit confusing. Maybe the key is to extract the mathematical problem from the user's question, which is the Compactness Theorem, and list the assumptions as given in the problem statement. The user's problem is understanding a step in the proof, but the task is to structure the problem as per the example, which focuses on the theorem, not the user's confusion.\n\nTherefore, the formatted problem should be:\n\nAssumption: S is a set of propositional formulas.\nAssumption: Every finite subset of S has a model.\nProblem: Prove that S has a model.\n\nBut the original problem mentions that S is infinite. The theorem is usually stated for any set S (could be finite or infinite), but the compactness theorem is more interesting for infinite sets. However, the user's question specifically mentions an infinite set S. Therefore:\n\nAssumption: S is an infinite set of propositional formulas.\nAssumption: Every finite subset of S has a model.\nProblem: Prove that S has a model.\n\nBut in the proof sketch provided, there are additional assumptions, like the equivalence classes with n variables having finite models, etc. However, according to the example, the assumptions are the conditions given in the problem. The example's original problem didn't mention divisibility by 7, but the formatted problem added it. Wait, perhaps the example is not a good guide, but the instructions say to follow it.\n\nAlternatively, perhaps the assumptions are the conditions needed for the proof. But in the example, the original problem's assumption was that n is an integer, and the formatted problem added n divisible by 7, which might be a mistake or a misapplication. Given that confusion, perhaps the task is to list the assumptions as per the problem's premises. The original problem here is the Compactness Theorem, which has as premises that S is a set (possibly infinite) where every finite subset has a model. The conclusion is that S has a model.\n\nTherefore, the formatted problem would be:\n\nAssumption: S is a set of propositional formulas.\nAssumption: Every finite subset of S has a model.\nProblem: Prove that S has a model.\n\nHowever, the user's question includes a specific proof method. The problem is not just to prove the theorem, but to follow the given proof sketch. The user's confusion is about a step in that particular proof. Therefore, perhaps the problem is to \"Prove the Compactness Theorem using the given method,\" and the assumptions are the steps in the proof sketch. But the example didn't include proof steps as assumptions. This is getting a bit tangled.\n\nGiven the instructions and the example, I think the intended approach is to extract the mathematical problem's assumptions and statement, ignoring the user's specific confusion. Therefore, the problem is the Compactness Theorem, and the assumptions are that every finite subset has a model and S is infinite. But the Compactness Theorem holds even if S is finite, but the interesting case is when it's infinite. However, in the user's question, S is mentioned as infinite.\n\nFinal attempt:\n\nAssumption: S is an infinite set of propositional formulas.\nAssumption: Every finite subset of S has a model.\nProblem: Prove that S has a model.\n\nThis aligns with the example's structure: the problem is the theorem to prove, and the assumptions are the given conditions. The user's specific confusion about the proof step is part of their question but not the problem's structuring. The task is to format the problem as per the example, which focuses on the theorem's statement and its assumptions.",
    "Original_Problem": "Assumption: \n$S$ is an infinite set of propositional formulas,\nEvery finite subset of $S$ has a model,\nFor any (possibly infinite) set $S_n \\subseteq S$ with $n$ propositional variables, there are at most $2^{2^n}$ equivalent formulas with $n$ variables,\nFor every finite equivalence class $E_n$ of $S_n$, there exists a model $m_n$ that satisfies $S_n$ and all subsets $S_1 \\subseteq S_2 \\subseteq \\cdots \\subseteq S_{n-1}$,\nThe model $m$ is constructed by iteratively assigning truth values to propositional variables $p_1, p_2, \\ldots$ based on the consensus of infinitely many surviving models $m_j$.\nProblem: \nProve that the constructed model $m$ is a model for the entire set $S$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $S$ is an infinite set of propositional formulas,\nAssumption 2: Every finite subset of $S$ has a model,\nAssumption 3: For any (possibly infinite) set $S_n \\subseteq S$ with $n$ propositional variables, there are at most $2^{2^n}$ equivalent formulas with $n$ variables,\nAssumption 4: For every finite equivalence class $E_n$ of $S_n$, there exists a model $m_n$ that satisfies $S_n$ and all subsets $S_1 \\subseteq S_2 \\subseteq \\cdots \\subseteq S_{n-1}$,\nAssumption 5: The model $m$ is constructed by iteratively assigning truth values to propositional variables $p_1, p_2, \\ldots$ based on the consensus of infinitely many surviving models $m_j$.\nProblem: \nProve that the constructed model $m$ is a model for the entire set $S$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$N_{n+1}=\\{k\\in N_n\\setminus T_n:k\\ge n+1\\}\\;.$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $S$ is an infinite set of propositional formulas,\nAssumption 2: Every finite subset of $S$ has a model,\nAssumption 3: For any (possibly infinite) set $S_n \\subseteq S$ with $n$ propositional variables, there are at most $2^{2^n}$ equivalent formulas with $n$ variables,\nAssumption 4: For every finite equivalence class $E_n$ of $S_n$, there exists a model $m_n$ that satisfies $S_n$ and all subsets $S_1 \\subseteq S_2 \\subseteq \\cdots \\subseteq S_{n-1}$,\nAssumption 5: The model $m$ is constructed by iteratively assigning truth values to propositional variables $p_1, p_2, \\ldots$ based on the consensus of infinitely many surviving models $m_j$.\nAssumption 6: $$N_{n+1}=\\{k\\in N_n\\setminus T_n:k\\ge n+1\\}\\;.$$\nProblem: \nProve that the constructed model $m$ is a model for the entire set $S$."
}