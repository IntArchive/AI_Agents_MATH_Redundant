{
    "Link_API": "https://api.stackexchange.com/2.3/questions/706565",
    "Title": "Prove that $n^2+n+41$ is prime for $n&lt;40$",
    "Score": 22,
    "Category": "Chứng minh",
    "Tags": "abstract-algebra, number-theory, elementary-number-theory, prime-numbers, principal-ideal-domains",
    "Link": "https://math.stackexchange.com/questions/706565/prove-that-n2n41-is-prime-for-n40",
    "Content": "Here's a problem that showed up on an exam I took, I'm interested in seeing if there are other ways to approach it. Let $n\\in\\{0,1,...,39\\}$. Prove that $n^2+n+41$ is prime. I shall provide my own solution, though I am curious does anyone know how to do this without using PIDs?",
    "AcceptedAnswer": "Since $4(n^2+n+41)=(2n+1)^2+163$, one way would be to methodically show that $-163$ is a quadratic non -residue mod all (odd) primes less than $41$. Added later :  The OP has asked for further details, so here goes. If $p\\mid n^2+n+41$, then $(2n+1)^2+163\\equiv0$ mod $p$, which means that $-163$ is a square mod $p$.  Now the values of $n^2+n+41$ for $n\\lt40$ are all less than $40^2+40+41=1681$, so if any of them were composite, it would have to have a prime factor less than $\\sqrt{1681}=41$.  That prime factor would have to be odd, since it's clear that $n^2+n+41$ is always odd.  This would require $-163$ to be a quadratic residue for some odd prime less than $41$.  So it suffices to compute the Legendre symbol $({-163\\over p})$ for $p=3,5,7,11,13,17,19,23,29,31$, and $37$, and show that it's $-1$ in each case. This is a bit tedious, but less so than directly checking the primality of the $39$ numbers $(1^1+1+41), (2^2+2+41),\\ldots,(39^2+39+41)$.  For example, $$\\left({-163\\over17}\\right)=\\left({7\\over17}\\right)=\\left({17\\over7}\\right)=\\left({3\\over7}\\right)=-\\left({7\\over3}\\right)=-\\left({1\\over3}\\right)=-1$$ where the string of equalities here makes use (twice) of the Law of Quadratic Reciprocity .",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$n$ is an integer,\n$n$ is in the set $\\{0, 1, 2, \\ldots, 39\\}$,\n$n^2 + n + 41$ is evaluated for primality.\nProblem: \nProve that $n^2 + n + 41$ is prime for all $n$ in $\\{0, 1, 2, \\ldots, 39\\}$.\n###",
    "reasoning_create_structured_problem": "Okay, let me try to work through this problem step by step. The task is to prove that for all integers n from 0 to 39 inclusive, the expression n² + n + 41 is prime. I remember that this is a famous polynomial known for producing primes for these values, but I need to figure out why that's the case. \n\nFirst, maybe I should start by plugging in some numbers to see if the pattern holds. Let's try n=0: 0 + 0 +41=41, which is prime. n=1: 1 +1 +41=43, prime. n=2:4+2+41=47, prime. So far so good. Maybe n=39: 39² is 1521, plus 39 is 1560, plus 41 is 1601. I think 1601 is also a prime number. So empirically, it works. But how to prove it?\n\nThe user mentioned their own solution uses PIDs (Principal Ideal Domains), which relates to algebraic number theory. But they want a method without that. So I need a more elementary approach.\n\nWait, the polynomial is n² + n +41. This resembles the form of numbers generated by Euler's famous prime-generating polynomial. The key here might be to show that this polynomial doesn't factor into integers for n <40. If the polynomial could be factored, say as (n+a)(n+b), then for some integers a and b, but expanding that would give n² + (a+b)n +ab. Comparing coefficients, a + b =1 and ab=41. But 41 is prime, so the only possibilities are a=1, b=41 or negatives. But then a + b would be 42 or -40, neither of which is 1. So the polynomial is irreducible over integers, meaning it doesn't factor into linear terms. But that only tells us it's irreducible, not that its outputs are prime. So irreducibility isn't sufficient to conclude primality of its values.\n\nAnother approach: suppose that for some n in 0≤n<40, n² +n +41 is composite. Then there exists some prime p ≤ sqrt(n² +n +41) that divides it. Let's denote the value as P(n) = n² +n +41. Suppose p divides P(n). Then n² +n +41 ≡0 mod p. So n² +n ≡ -41 mod p. Maybe completing the square: n² +n + (1/4) ≡ -41 +1/4 mod p. So (n + 1/2)² ≡ -163/4 mod p. Multiplying both sides by 4: (2n +1)² ≡ -163 mod p. Therefore, -163 must be a quadratic residue modulo p. So the Legendre symbol (-163|p) =1. But for primes p where this holds, p must satisfy certain conditions.\n\nBut I recall that the field Q(√-163) has class number 1, which relates to why primes are generated here. But that's again algebraic number theory, which the user wants to avoid. So maybe there's an elementary way to see that p must be greater than 40?\n\nAlternatively, assume that p divides P(n) for some n <40. Then p ≤ P(n). Since n ≤39, P(n)=39² +39 +41= 1521 +39 +41=1601. The square root of 1601 is about 40.01. So the smallest prime divisor of P(n) would be less than or equal to 40. But if p ≤40, then p is one of the primes less than or equal to 40. Let's list them:2,3,5,7,11,13,17,19,23,29,31,37,41. Wait, but 41 is the constant term. Let's check if any of these primes can divide P(n) for n <40.\n\nSuppose p is a prime ≤40. For p to divide P(n)=n² +n +41, we need n² +n ≡ -41 mod p. Let's check for each prime p ≤40 whether this equation has a solution n in 0 ≤n < p.\n\nFor example, take p=2: n² +n +41 ≡n² +n +1 mod 2. Possible values: if n=0:0+0+1=1 mod 2≠0. n=1:1+1+1=3≡1 mod2. So no solution mod2. Thus 2 does not divide P(n).\n\np=3: Check n² +n +41 mod3. 41≡2 mod3. So equation is n² +n +2 ≡0 mod3. Testing n=0:0+0+2=2≠0. n=1:1+1+2=4≡1≠0. n=2:4+2+2=8≡2≠0. No solutions. So 3 doesn't divide.\n\np=5: 41≡1 mod5. Equation: n² +n +1≡0 mod5. Testing n=0:0+0+1=1≠0. n=1:1+1+1=3≠0. n=2:4+2+1=7≡2≠0. n=3:9+3+1=13≡3≠0. n=4:16+4+1=21≡1≠0. No solutions.\n\np=7: 41≡6 mod7. Equation: n² +n +6≡0 mod7. Testing n=0:6≡6≠0. n=1:1+1+6=8≡1≠0. n=2:4+2+6=12≡5≠0. n=3:9+3+6=18≡4≠0. n=4:16+4+6=26≡5≠0. n=5:25+5+6=36≡1≠0. n=6:36+6+6=48≡6≠0. No solutions.\n\np=11:41≡8 mod11. Equation: n² +n +8≡0 mod11. Let's compute for n=0 to10. n=0:8≠0. n=1:1+1+8=10≠0. n=2:4+2+8=14≡3≠0. n=3:9+3+8=20≡9≠0. n=4:16+4+8=28≡6≠0. n=5:25+5+8=38≡5≠0. n=6:36+6+8=50≡6≠0. n=7:49+7+8=64≡9≡9≠0. n=8:64+8+8=80≡3≠0. n=9:81+9+8=98≡10≠0. n=10:100+10+8=118≡118-11*10=118-110=8≡8≠0. No solutions.\n\nContinuing this way for all primes up to 40, but this is tedious. However, the key idea is that for each prime p ≤40, the equation n² +n +41 ≡0 mod p has no solutions. Therefore, none of these primes can divide P(n) for any n. Since P(n) is always greater than 41 (for n≥1) and for n=0 it's 41, which is prime. So P(n) can't have any prime divisors ≤40, so the smallest possible prime divisor is ≥41. But when n <40, P(n) =n² +n +41 <40² +40 +41=1600 +40 +41=1681=41². So P(n) <41². Therefore, if P(n) is composite, it must have a prime divisor less than its square root, which would be <41, but we just established that no primes ≤40 divide it. Hence, P(n) must be prime for all n from 0 to 39.\n\nThat's the standard elementary proof. It relies on checking that none of the primes up to 40 divide the polynomial's value for any n in the range. Since the polynomial's value is less than 41², it can't be composite without having a prime factor less than 41, which doesn't exist here. Therefore, all values are prime.",
    "Original_Problem": "Assumption: \n$n$ is an integer,\n$n$ is in the set $\\{0, 1, 2, \\ldots, 39\\}$,\n$n^2 + n + 41$ is evaluated for primality.\nProblem: \nProve that $n^2 + n + 41$ is prime for all $n$ in $\\{0, 1, 2, \\ldots, 39\\}$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $n$ is an integer,\nAssumption 2: $n$ is in the set $\\{0, 1, 2, \\ldots, 39\\}$,\nAssumption 3: $n^2 + n + 41$ is evaluated for primality.\nProblem: \nProve that $n^2 + n + 41$ is prime for all $n$ in $\\{0, 1, 2, \\ldots, 39\\}$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\\left({-163\\over17}\\right)=\\left({7\\over17}\\right)=\\left({17\\over7}\\right)=\\left({3\\over7}\\right)=-\\left({7\\over3}\\right)=-\\left({1\\over3}\\right)=-1$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $n$ is an integer,\nAssumption 2: $n$ is in the set $\\{0, 1, 2, \\ldots, 39\\}$,\nAssumption 3: $n^2 + n + 41$ is evaluated for primality.\nAssumption 4: $$\\left({-163\\over17}\\right)=\\left({7\\over17}\\right)=\\left({17\\over7}\\right)=\\left({3\\over7}\\right)=-\\left({7\\over3}\\right)=-\\left({1\\over3}\\right)=-1$$\nProblem: \nProve that $n^2 + n + 41$ is prime for all $n$ in $\\{0, 1, 2, \\ldots, 39\\}$."
}