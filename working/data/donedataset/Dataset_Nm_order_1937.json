{
    "Link_API": "https://api.stackexchange.com/2.3/questions/4073437",
    "Title": "Japanese theorem for cyclic quadrilaterals Proof Inversion",
    "Score": 17,
    "Category": "Chá»©ng minh",
    "Tags": "geometry, euclidean-geometry, quadrilateral",
    "Link": "https://math.stackexchange.com/questions/4073437/japanese-theorem-for-cyclic-quadrilaterals-proof-inversion",
    "Content": "Two weeks ago our professor taught us the Japanese theorem for cyclic quadrilaterals . It states that the inscribed centres of the four triangles formed by two sides and a diagonal of a cyclic quadrilateral always form a rectangle. After the proof he mentioned that he was convinced that the reverse also holds, that is, that whenever the incircle centres form a rectangle the outer quadrilateral is a cyclic quadrilateral, but he never managed to prove it. After finding absolutely nothing on the internet about the inversion of the Japanese theorem, I set out to prove it myself. The big problem is that the construction of the rectangle is not unique, many different chordal quadrilaterals have the same rectangle of incircle centres. Since there is thus no construction rule in the opposite direction, all my elementary geometric attempts have failed. So I came up with the idea of a purely arithmetic proof for the Japanese theorem. In the hope that, unlike the geometric proof, it works in both directions. Without limiting generality, I have given the four vertices of the chord quadrilateral the following coordinates: $A (0, 0), B (1, 0), C(x_c, y_c), D(x_d, y_d)$ . This is possible because by moving and scaling in the coordinate system alone, any quadrilateral can be brought into this shape. The simple values for A and B simplify the calculation enormously. After much effort I have found formulas to represent all vectors between the incircle centres only dependent from $x_c, y_c, x_d, y_d$ : $$\\overrightarrow{M_1M_2} =    \\left(\\begin{array}{c}      \\frac{\\sqrt{x_c^2 + y_c^2} + x_c}{\\sqrt{1 + x_c^2 - 2x_c + y_c^2} + \\sqrt{x_c^2 + y_c^2} + 1} - \\frac{\\sqrt{x_d^2 + y_d^2}+ x_d}{1 + \\sqrt{1 + x_d^2 - 2x_d + y_d^2} + \\sqrt{x_d^2 + y_d^2}}\\\\      \\frac{y_c}{\\sqrt{1 + x_c^2 - 2x_c + y_c^2} + \\sqrt{x_c^2 + y_c^2} + 1} - \\frac{y_d}{1 + \\sqrt{1 + x_d^2 - 2x_d + y_d^2} + \\sqrt{x_d^2 + y_d^2}}    \\end{array}\\right)$$ $$\\overrightarrow{M_2M_3} =     \\left(\\begin{array}{c}      \\frac{\\sqrt{x_c^2 + y_c^2 + x_d^2 + y_d^2 - 2x_cx_d - 2y_cy_d} + \\sqrt{1 + x_d^2 - 2x_d + y_d^2} \\cdot x_c + \\sqrt{1 + x_c^2 - 2x_c + y_c^2} \\cdot x_d}{\\sqrt{x_c^2 + y_c^2 + x_d^2 + y_d^2 - 2x_cx_d - 2y_cy_d} + \\sqrt{1 + x_d^2 - 2x_d + y_d^2} + \\sqrt{1 + x_c^2 - 2x_c + y_c^2}} - \\frac{\\sqrt{x_c^2 + y_c^2} + x_c}{\\sqrt{1 + x_c^2 - 2x_c + y_c^2} + \\sqrt{x_c^2 + y_c^2} + 1}\\\\      \\frac{\\sqrt{1 + x_d^2 - 2x_d + y_d^2} \\cdot y_c + \\sqrt{1 + x_c^2 - 2x_c + y_c^2} \\cdot y_d}{\\sqrt{x_c^2 + y_c^2 + x_d^2 + y_d^2 - 2x_cx_d - 2y_cy_d} + \\sqrt{1 + x_d^2 - 2x_d + y_d^2} + \\sqrt{1 + x_c^2 - 2x_c + y_c^2}} - \\frac{y_c}{\\sqrt{1 + x_c^2 - 2x_c + y_c^2} + \\sqrt{x_c^2 + y_c^2} + 1}    \\end{array}\\right)$$ $$\\overrightarrow{M_3M_4} =    \\left(\\begin{array}{c}       \\frac{\\sqrt{x_d^2 + y_d^2} \\cdot x_c + \\sqrt{x_c^2 + y_c^2} \\cdot x_d}{\\sqrt{x_c^2 + y_c^2 + x_d^2 + y_d^2 - 2x_cx_d - 2y_cy_d} + \\sqrt{x_d^2 + y_d^2} + \\sqrt{x_c^2 + y_c^2}} - \\frac{\\sqrt{x_c^2 + y_c^2 + x_d^2 + y_d^2 - 2x_cx_d - 2y_cy_d} + \\sqrt{1 + x_d^2 - 2x_d + y_d^2} \\cdot x_c + \\sqrt{1 + x_c^2 - 2x_c + y_c^2} \\cdot x_d}{\\sqrt{x_c^2 + y_c^2 + x_d^2 + y_d^2 - 2x_cx_d - 2y_cy_d} + \\sqrt{1 + x_d^2 - 2x_d + y_d^2} + \\sqrt{1 + x_c^2 - 2x_c + y_c^2}}\\\\       \\frac{\\sqrt{x_d^2 + y_d^2} \\cdot y_c + \\sqrt{x_c^2 + y_c^2} \\cdot y_d}{\\sqrt{x_c^2 + y_c^2 + x_d^2 + y_d^2 - 2x_cx_d - 2y_cy_d} + \\sqrt{x_d^2 + y_d^2} + \\sqrt{x_c^2 + y_c^2}} - \\frac{\\sqrt{1 + x_d^2 - 2x_d + y_d^2} \\cdot y_c + \\sqrt{1 + x_c^2 - 2x_c + y_c^2} \\cdot y_d}{\\sqrt{x_c^2 + y_c^2 + x_d^2 + y_d^2 - 2x_cx_d - 2y_cy_d} + \\sqrt{1 + x_d^2 - 2x_d + y_d^2} + \\sqrt{1 + x_c^2 - 2x_c + y_c^2}}     \\end{array}\\right)$$ $$\\overrightarrow{M_4M_1} =     \\left(\\begin{array}{c}       \\frac{\\sqrt{x_d^2 + y_d^2}+ x_d}{1 + \\sqrt{1 + x_d^2 - 2x_d + y_d^2} + \\sqrt{x_d^2 + y_d^2}} - \\frac{\\sqrt{x_d^2 + y_d^2} \\cdot x_c + \\sqrt{x_c^2 + y_c^2} \\cdot x_d}{\\sqrt{x_c^2 + y_c^2 + x_d^2 + y_d^2 - 2x_cx_d - 2y_cy_d} + \\sqrt{x_d^2 + y_d^2} + \\sqrt{x_c^2 + y_c^2}}\\\\        \\frac{y_d}{1 + \\sqrt{1 + x_d^2 - 2x_d + y_d^2} + \\sqrt{x_d^2 + y_d^2}} - \\frac{\\sqrt{x_d^2 + y_d^2} \\cdot y_c + \\sqrt{x_c^2 + y_c^2} \\cdot y_d}{\\sqrt{x_c^2 + y_c^2 + x_d^2 + y_d^2 - 2x_cx_d - 2y_cy_d} + \\sqrt{x_d^2 + y_d^2} + \\sqrt{x_c^2 + y_c^2}}    \\end{array}\\right)$$ As I feared, the formulae that result from the geometric construction are so complicated that I could not work with them even with the help of Mathematica and Matlab. So I discarded the arithmetic approach. After many more failed attempts, I wanted to rule out the possibility that a counterexample exists and that the reverse of the Japanese theorem is not true in the first place. I have written a programme in C++ which tries out millions and millions of constellations and indeed all points where the centres of the incircles form a rectangle always lie on a circle. But I've run out of ideas how I could still attempt the proof. And apparently no one has ever cared about the validity of the reversion, I've only found one old StackExchange post . But it is very sparse and the counterexample presented in the only answer is invalid because the vertices of the rectangle do not coincide with the inscribed centres.",
    "AcceptedAnswer": "Easy angle chasing shows that lines $CM_3, CM_4$ are isogonal in angle $DCM_2$ and lines $DM_3, DM_4$ are isogonal in angle $M_1DC$ . Hence, letting $X$ be the intersection of $CM_2$ and $DM_1$ , we get that $M_3$ and $M_4$ are isogonal conjugates in triangle $CDX$ . Hence $\\angle M_2XM_3 = \\angle M_4XM_1$ . Since $M_1M_2M_3M_4$ is a rectangle and $\\angle M_2XM_3 = \\angle M_4XM_1$ , an easy symmetry argument shows that $X$ lies on the perpendicular bisector $\\ell$ of $M_1M_2$ (which, of course, coincides with the perpendicular bisector of $M_3M_4$ ). Similarly, letting $Y$ be the intersection of $AM_4$ and $BM_3$ , we get that $Y$ lies on $\\ell$ . Let $P$ be the intersection of $AC$ and $BD$ . Let $Z$ be the intersection of lines $BY, CX$ . Let $T$ be the intersection of lines $DX, AY$ . Then $Z$ and $T$ are incenters of $BCP$ and $DAP$ , respectively. Again, a symmetry argument shows that $Z$ and $T$ are symmetric wrt to $\\ell$ . In particular $\\angle PZX = \\angle XTP$ . Therefore $\\angle CZP = \\angle PTD$ , so $\\frac\\pi 2 + \\frac 12\\angle CBD = \\frac \\pi 2 + \\frac 12 \\angle CAD$ , hence $\\angle CBD = \\angle CAD$ , hence $ABCD$ is cyclic.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \nThe incenters of the four triangles formed by two sides and a diagonal of a quadrilateral form a rectangle.  \nProblem:  \nProve that the outer quadrilateral is cyclic.  \n###",
    "reasoning_create_structured_problem": "Okay, let me try to figure out how to structure this problem following the user's example. The original question is about the reverse of the Japanese theorem for cyclic quadrilaterals. The user wants the assumptions and the problem clearly separated.\n\nFirst, the problem is to prove that if the incenter centers form a rectangle, then the outer quadrilateral is cyclic. The original theorem states that for a cyclic quadrilateral, the incenters form a rectangle. The reverse is what's being asked here.\n\nLooking at the example given, the assumptions were about the properties of the objects involved. In this case, the key assumptions would be related to the quadrilateral and the rectangle formed by the incenters. The user mentioned that their professor was convinced the reverse holds, so the main assumption here is that the incenters form a rectangle. The outer quadrilateral's properties need to be addressed.\n\nThe problem is to prove that under the condition of the incenters forming a rectangle, the quadrilateral is cyclic. The user tried coordinate geometry with specific points but found the expressions too complex. They also mentioned that different quadrilaterals can lead to the same rectangle, complicating the uniqueness.\n\nSo, the assumptions should list that the incenters form a rectangle and perhaps the quadrilateral is not assumed cyclic initially. But since it's the reverse, the assumption is that the incenters form a rectangle, and the problem is to show the quadrilateral is cyclic.\n\nIn the example, each assumption is a single condition. Here, the main assumption is the rectangle formed by the incenters. The problem is to prove cyclicity. The coordinate system setup (points A, B, C, D) is part of their approach but maybe not an assumption of the problem itself. The problem is more general.\n\nWait, the example included specific assumptions like n is an integer and divisible by 7, but in the original problem, the user's example didn't have that. Wait, the original example in the user's message had the problem structured with assumptions that n is an integer and n is divisible by 7. But the original problem was to prove divisibility by 91, which factors into 7*13, so maybe the assumptions were part of the problem's given conditions.\n\nWait, in the example, the original problem was to prove that A(n) is divisible by 91 for every integer n. But in the formatted problem, the assumptions were n is an integer and n is divisible by 7. Wait, that might be a mistake. Because 91 is 7*13, maybe the original problem had an extra condition, but in the original problem statement, it's stated as \"for every integer n\", but the formatted problem added an assumption that n is divisible by 7. That seems conflicting. Wait, maybe the example was incorrect. But regardless, the user wants to structure the current problem.\n\nSo for the current problem: The Japanese theorem states that if a quadrilateral is cyclic, then the incenters form a rectangle. The reverse is to assume that the incenters form a rectangle and prove the quadrilateral is cyclic.\n\nTherefore, the assumptions should be:\n\n- A quadrilateral is formed by four points.\n- The four incenters of the triangles formed by the sides and diagonals of the quadrilateral form a rectangle.\n\nThe problem is to prove that the original quadrilateral is cyclic.\n\nBut in the example, the assumptions are listed line by line, each addressing one property. So here, the main assumption is that the incenters form a rectangle. The quadrilateral is the object, and the property is that its incenters form a rectangle. Then the problem is to show the quadrilateral is cyclic.\n\nWait, the user's original problem statement says: \"the reverse also holds, that is, that whenever the incircle centres form a rectangle the outer quadrilateral is a cyclic quadrilateral\". So the assumption is that the incircle centers form a rectangle. The problem is to prove the quadrilateral is cyclic.\n\nThus, the formatted problem should have:\n\nAssumption:\nThe incenter centers of the four triangles formed by two sides and a diagonal of a quadrilateral form a rectangle.\n\nProblem:\nProve that the outer quadrilateral is cyclic.\n\nBut in the example, assumptions were listed line by line. Here, there's only one assumption. However, maybe the quadrilateral being a simple quadrilateral (non-intersecting) is another assumption? The user's original problem didn't specify, but in the Japanese theorem, the quadrilateral is cyclic and convex. So perhaps in the reverse, the quadrilateral is assumed convex? But the user didn't mention that. The problem as stated by the professor is that when the incenters form a rectangle, the outer quadrilateral is cyclic. So the only assumption is the incenters forming a rectangle.\n\nBut maybe other implicit assumptions, like the quadrilateral being convex or the triangles having incenters. So perhaps:\n\nAssumption:\nThe quadrilateral is convex.\nEach of the four triangles formed by two sides and a diagonal has an incenter.\nThe incenter centers form a rectangle.\n\nBut the original theorem's reverse might not need convexity, but maybe the existence of incenters. However, incenters exist if the triangles are tangential, which requires that the sum of two sides equals the sum of the other two, but in a triangle, the incenter always exists. Wait, no, the incenter exists for any triangle. So maybe the only assumption is that the incenters form a rectangle. But the problem statement from the user is: \"whenever the incircle centres form a rectangle the outer quadrilateral is a cyclic quadrilateral\". So the only assumption needed is that the incircle centers form a rectangle. Thus, the formatted problem would be:\n\nAssumption:\nThe incenter centers of the four triangles formed by two sides and a diagonal of a quadrilateral form a rectangle.\n\nProblem:\nProve that the quadrilateral is cyclic.\n\nBut in the example, assumptions were split into separate lines. Here, the single assumption is that the incenters form a rectangle, but maybe each part of that is split? For example:\n\nAssumption:\nQuadrilateral has four triangles formed by two sides and a diagonal.\nEach triangle has an incenter.\nThe incenter centers form a rectangle.\n\nBut in the original problem statement, the professor mentioned \"whenever the incircle centres form a rectangle the outer quadrilateral is a cyclic quadrilateral\". So perhaps the assumption is just that the incenters form a rectangle, and the rest are part of the problem's setup.\n\nBut maybe the problem is about a convex quadrilateral, as non-convex might complicate. However, the user didn't specify, so maybe stick to the problem as stated.\n\nThus, the formatted problem should have:\n\nAssumption:\nThe incenter centers of the four triangles formed by two sides and a diagonal of a quadrilateral form a rectangle.\n\nProblem:\nProve that the quadrilateral is cyclic.\n\nBut according to the example, each assumption line should address only one property applied to one object. Here, the assumption is about the incenters forming a rectangle. So it's one property of the quadrilateral's incenters. Thus, one line.\n\nBut maybe the example's assumption had two lines because there were two conditions. Wait, in the example, the original problem was to prove divisibility by 91 for every integer n, but the formatted problem's assumption was that n is an integer and n is divisible by 7. That seems like two separate assumptions. However, the original problem didn't have the divisible by 7 condition. So maybe the example was incorrect, but the user wants to follow that structure.\n\nIn the current problem, the user's original question is about the reverse of the Japanese theorem. So the assumption is that the incenters form a rectangle. The problem is to prove the quadrilateral is cyclic.\n\nTherefore, the formatted problem would be:\n\nAssumption:\nThe incenter centers of the four triangles formed by two sides and a diagonal of a quadrilateral form a rectangle.\n\nProblem:\nProve that the quadrilateral is cyclic.\n\nBut to match the example's structure, which split assumptions into separate lines even if they were part of the same problem statement. For instance, the example had \"n is an integer\" and \"n is divisible by 7\" as separate assumptions, even though the original problem didn't specify divisibility by 7. So perhaps the user wants each condition split, even if they are part of the same object.\n\nIn this case, perhaps:\n\nAssumption:\nQuadrilateral is formed by four points.\nFour triangles are formed by two sides and a diagonal of the quadrilateral.\nEach triangle has an incenter.\nThe incenters of the four triangles form a rectangle.\n\nProblem:\nProve that the quadrilateral is cyclic.\n\nBut this might be over-splitting. The problem is about a quadrilateral where the incenters of the four triangles form a rectangle. So the main assumption is that the incenters form a rectangle. The existence of the incenters is inherent because any triangle has an incenter, so maybe that's not needed. But maybe the quadrilateral needs to be such that the four triangles exist (i.e., the sides and diagonals form triangles). So perhaps:\n\nAssumption:\nQuadrilateral is such that two sides and a diagonal form four triangles.\nThe incenters of these four triangles form a rectangle.\n\nProblem:\nProve that the quadrilateral is cyclic.\n\nBut I think the key assumption is the incenters forming a rectangle. The rest is part of the problem setup. The example given by the user had two assumptions for the problem: n is an integer and n is divisible by 7. But the original problem was for every integer n. So maybe the example was incorrect. Therefore, the user might expect that all necessary conditions are listed as assumptions, even if they are part of the problem's general setup.\n\nIn this case, the quadrilateral must be a simple quadrilateral (non-intersecting), and the triangles formed by two sides and a diagonal must exist. However, the user's original problem doesn't specify these, so perhaps it's assumed.\n\nBut given the example, the user wants each assumption on a separate line, each addressing one property of one object. So for the current problem:\n\nAssumption:\nQuadrilateral has four triangles formed by its sides and a diagonal.\nEach triangle has an incenter.\nThe incenters of the four triangles form a rectangle.\n\nProblem:\nProve that the quadrilateral is cyclic.\n\nBut perhaps \"Quadrilateral has four triangles formed by its sides and a diagonal\" is redundant because that's part of the setup. The main assumption is the incenters forming a rectangle. But to match the example's structure, maybe list each necessary condition.\n\nAlternatively, maybe:\n\nAssumption:\nThe incenters of the four triangles formed by two sides and a diagonal of a quadrilateral form a rectangle.\n\nProblem:\nProve that the quadrilateral is cyclic.\n\nThis is concise and matches the problem's statement. The example had two assumptions for the same object (n is an integer and n is divisible by 7). Here, there's one assumption. However, if there are more, like the quadrilateral being convex or simple, but the user's problem doesn't mention those. Therefore, stick to the given information.",
    "Original_Problem": "Assumption: \nThe incenters of the four triangles formed by two sides and a diagonal of a quadrilateral form a rectangle.  \nProblem:  \nProve that the outer quadrilateral is cyclic.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: The incenters of the four triangles formed by two sides and a diagonal of a quadrilateral form a rectangle.\nProblem:  \nProve that the outer quadrilateral is cyclic.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$\\angle PZX = \\angle XTP$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: The incenters of the four triangles formed by two sides and a diagonal of a quadrilateral form a rectangle.\nAssumption 2: $\\angle PZX = \\angle XTP$\nProblem:  \nProve that the outer quadrilateral is cyclic."
}