{
    "Link_API": "https://api.stackexchange.com/2.3/questions/29534",
    "Title": "How to show that $\\sum\\limits_{k=1}^{n-1}\\frac{k!k^{n-k}}{n!}$ is asymptotically $\\sqrt{\\frac{\\pi n}{2}}$?",
    "Score": 24,
    "Category": "Chứng minh",
    "Tags": "asymptotics",
    "Link": "https://math.stackexchange.com/questions/29534/how-to-show-that-sum-limits-k-1n-1-frackkn-kn-is-asymptotically",
    "Content": "According to \"Concrete Mathematics\" on page 434, elementary asymptotic methods show that $\\displaystyle \\sum_{k=1}^{n-1}\\frac{k! \\; k^{n-k}}{n!}$ is asymptotically  $\\sqrt{\\frac{\\pi n}{2}}$. Does anybody see how to show this?",
    "AcceptedAnswer": "The sum can asymptotically be replaced by an integral\n$$\\sum_{k=1}^{n-1}\\frac{k! \\; k^{n-k}}{n!} \\sim \\int_1^n dk\\, \\frac{k! k^{n-k}}{n!}.$$\nThe integral can be approximated by its saddle point (which here coincides with a boundary). For that first use Stirling\n$$k! k^{n-k} \\sim k^n e^{-k} = e^{-k +n \\log k}.$$\nThe maximum of $-k+n \\log k$ is attained at $k=n$ such that we can expand the integrand around this value and obtain\n$$\\frac{k! \\; k^{n-k}}{n!} \\approx e^{-(k-n)^2/2n}$$\nup to second order in the exponent. Thereby\n$$\\sum_{k=1}^{n-1}\\frac{k! \\; k^{n-k}}{n!} \\sim \\int_1^n dk\\, \\frac{k! k^{n-k}}{n!}\n\\sim \\int_{-\\infty}^n dk\\,  e^{- (k-n)^2/2n}  = \\sqrt{\\frac{n \\pi}{2}}. $$ Edit: as an answer to the comment of Didier Piau I try to be a bit more rigorous. To estimate the integrand, we expand the exponent around the saddle point. This amounts to finding the maximum of $$\\log \\left[\\frac{k! \\; k^{n-k}}{n!} \\right]\n\\sim (n-k) \\log k + k (\\log k -1) - n (\\log n -1).$$\nTaking the derivative with respect to $k$ yields\n$(n-k)/k$ with the maximum at $n= k$. Expanding around this maximum to second order in $k-n$, we obtain\n$$\\log \\left[\\frac{k! \\; k^{n-k}}{n!} \\right] \\sim -\\frac{(k-n)^2}{2n}.$$ What Didier Piau observed is a subdominant linear term ($i/2n$ in his comment). This leads to a shift in the position of the maximum but the curvature stays the same. In fact, the first nonvanishing term around the maximum is always second order as the linear term vanishes by definition. To make this more explicit, we have to include the next term in the Stirling expansion\n$$\\log \\left[\\frac{k! \\; k^{n-k}}{n!} \\right]\n\\sim (n-k) \\log k + k (\\log k -1) + \\frac{1}{2} \\log k - n (\\log n -1) - \\frac{1}{2} \\log n.$$ The maximum is now obtained at $k^*= (2n -1)/2$ (exactly due to the shift noted by Didier Piau). Expanding to second order around this point yields\n$$\\log \\left[\\frac{k! \\; k^{n-k}}{n!} \\right] \\sim- \\frac{(k - k^*)^2}{2n+1}.$$ The shifts of order 1 in the position of the maximum and in the curvature do not affect the result in leading order.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$n$ is a positive integer,\nThe asymptotic behavior is considered as $n$ approaches infinity.\nProblem:\nShow that $$\\sum\\limits_{k=1}^{n-1}\\frac{k! \\cdot k^{n-k}}{n!}$$ is asymptotically equal to $$\\sqrt{\\frac{\\pi n}{2}}.$$\n###",
    "reasoning_create_structured_problem": "Okay, let me try to figure out how to structure this problem according to the given format. The original question is about showing that the sum from k=1 to n-1 of (k! * k^(n-k))/n! is asymptotically equal to sqrt(πn/2). \n\nFirst, I need to list the assumptions. The example given had assumptions about n being an integer and divisible by 7. In this case, the problem is about asymptotic behavior, which usually assumes that n is a large integer approaching infinity. So maybe the assumptions here are that n is an integer and that we're considering the limit as n approaches infinity. \n\nBut the problem statement doesn't explicitly mention n being an integer, though in the context of sums and factorials, n is typically a positive integer. The problem is asking about asymptotic behavior, which implies the limit as n tends to infinity. So perhaps the assumptions are:\n\n- n is a positive integer.\n- The asymptotic behavior is considered as n approaches infinity.\n\nBut wait, the sum goes from k=1 to n-1, so n must be at least 2. However, in asymptotic analysis, we often consider n going to infinity, so the starting point might not be crucial. The key assumptions are probably that n is a positive integer and we're looking at the sum's behavior as n becomes large.\n\nLooking back at the example, each assumption is a single property applied to one object. Here, n is the main object. So maybe:\n\nAssumption:\n- n is a positive integer,\n- The sum is evaluated in the limit as n approaches infinity.\n\nBut the problem as stated in the original question doesn't explicitly state these assumptions. The user just presents the sum and the asymptotic result. So perhaps the assumptions should be derived from the problem context. Since the question is about asymptotic behavior, the key assumption is that n is tending to infinity. However, in the problem statement, the sum is up to n-1, so n must be an integer greater than 1. But in asymptotic analysis, the starting point is often not as important as the behavior as n grows. Therefore, the main assumption is the asymptotic nature.\n\nSo, structuring the problem:\n\nAssumption:\n- n is a positive integer,\n- The asymptotic behavior is considered as n approaches infinity.\n\nProblem: Show that the sum from k=1 to n-1 of (k! * k^(n-k))/n! is asymptotically equal to √(πn/2).\n\nWait, but in the example, the original problem had an assumption that n is divisible by 7, which was part of the problem's conditions. Here, the problem doesn't have such specific divisibility conditions. The main conditions are about n being a positive integer and the asymptotic analysis as n approaches infinity. But maybe the assumptions are just about n being a positive integer, and the asymptotic part is part of the problem statement. Let me check the example again.\n\nIn the example, the original problem says \"for every integer n\", which was listed as an assumption. Then the user added \"n is divisible by 7\" as another assumption. Wait, actually, in the example, the original problem said \"for every integer n\", but the formatted problem added \"n is divisible by 7\" as an assumption. Wait, no—the original problem in the example was to prove A(n) is divisible by 91 for every integer n. However, in the formatted problem, the assumption included that n is divisible by 7. That seems like a mistake. Wait, maybe the example was incorrect, but the user provided it as an example. Wait, looking back:\n\nOriginal problem example: Prove that for every integer n, the number A(n) = ... is divisible by 91. Formatted problem's assumption includes n is an integer and n is divisible by 7. Wait, that seems conflicting. The original problem says \"for every integer n\", but the formatted problem adds \"n is divisible by 7\" as an assumption. That seems like a mistake. Perhaps the user made a mistake in their example, but I should follow their structure regardless.\n\nBut in the current problem, the user's original question is from Math Stack Exchange. The problem is to show that the sum is asymptotically sqrt(πn/2). The assumptions would be any conditions necessary for the problem. Since the sum is from k=1 to n-1, n must be at least 2, but in asymptotic analysis, we usually consider n approaching infinity. So the key assumptions would be:\n\n- n is a positive integer greater than 1.\n- The asymptotic behavior is considered as n approaches infinity.\n\nBut the user's example included assumptions even if they were part of the original problem statement. For example, in the original problem, \"for every integer n\" was converted into an assumption that n is an integer, even though that was part of the problem's statement. So following that pattern, here, the problem statement mentions the sum from k=1 to n-1, which implies n is an integer greater than 1. So the assumptions should be:\n\nAssumption:\n- n is an integer greater than 1,\n- The asymptotic behavior is considered as n approaches infinity.\n\nBut in the problem statement, the user is asking to show the asymptotic result, so maybe the assumption is just that n is a positive integer (since the sum is up to n-1, n must be at least 2). But the key point is the asymptotic part. However, in the example, the assumption included both n being an integer and a specific divisibility condition, which was part of the problem's original statement. Wait, in the example, the original problem was \"for every integer n\", but the formatted problem's assumption listed \"n is an integer\" and \"n is divisible by 7\". That seems contradictory. Wait, maybe there was a mistake in the example. Alternatively, perhaps the user intended that sometimes additional assumptions are needed beyond what's in the original problem. But that's confusing.\n\nIn the given example, the original problem says \"for every integer n\", but the formatted problem's assumption adds \"n is divisible by 7\", which was not in the original problem. That seems incorrect. Wait, maybe the example is wrong. But since the user provided it as an example, I have to follow their structure even if it's flawed.\n\nIn the current problem, the user's question is about showing the sum is asymptotically sqrt(πn/2). The problem statement doesn't list any assumptions except those inherent in the sum's definition. So the sum is from k=1 to n-1, so n must be an integer greater than 1. The asymptotic part is part of the problem's request. Therefore, the assumptions should be:\n\n- n is an integer greater than 1,\n- The limit is taken as n approaches infinity.\n\nBut perhaps in the example, the assumption included the divisibility condition because it was part of the problem's actual conditions. Wait, in the example, the original problem was to prove divisibility by 91 for every integer n, but the formatted problem added \"n is divisible by 7\". That seems incorrect unless there was a miscommunication. Alternatively, maybe the user intended to filter unrelated information and focus on key assumptions, but in the example, they added an assumption that wasn't in the original problem. That would be confusing. \n\nAlternatively, perhaps the user made a mistake in their example, but I have to proceed with the current problem. For the current problem, the key assumptions are that n is a positive integer and we consider the asymptotic behavior as n approaches infinity. Therefore, the formatted problem should list those as assumptions.",
    "Original_Problem": "Assumption: \n$n$ is a positive integer,\nThe asymptotic behavior is considered as $n$ approaches infinity.\nProblem:\nShow that $$\\sum\\limits_{k=1}^{n-1}\\frac{k! \\cdot k^{n-k}}{n!}$$ is asymptotically equal to $$\\sqrt{\\frac{\\pi n}{2}}.$$",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $n$ is a positive integer,\nAssumption 2: The asymptotic behavior is considered as $n$ approaches infinity.\nProblem:\nShow that $$\\sum\\limits_{k=1}^{n-1}\\frac{k! \\cdot k^{n-k}}{n!}$$ is asymptotically equal to $$\\sqrt{\\frac{\\pi n}{2}}.$$",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\\sum_{k=1}^{n-1}\\frac{k! \\; k^{n-k}}{n!} \\sim \\int_1^n dk\\, \\frac{k! k^{n-k}}{n!}\n\\sim \\int_{-\\infty}^n dk\\,  e^{- (k-n)^2/2n}  = \\sqrt{\\frac{n \\pi}{2}}. $$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $n$ is a positive integer,\nAssumption 2: The asymptotic behavior is considered as $n$ approaches infinity.\nAssumption 3: $$\\sum_{k=1}^{n-1}\\frac{k! \\; k^{n-k}}{n!} \\sim \\int_1^n dk\\, \\frac{k! k^{n-k}}{n!}\n\\sim \\int_{-\\infty}^n dk\\,  e^{- (k-n)^2/2n}  = \\sqrt{\\frac{n \\pi}{2}}. $$\nProblem:\nShow that $$\\sum\\limits_{k=1}^{n-1}\\frac{k! \\cdot k^{n-k}}{n!}$$ is asymptotically equal to $$\\sqrt{\\frac{\\pi n}{2}}.$$"
}