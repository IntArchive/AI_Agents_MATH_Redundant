{
    "Link_API": "https://api.stackexchange.com/2.3/questions/274702",
    "Title": "Integral vanishes on all intervals implies the function is a.e. zero",
    "Score": 18,
    "Category": "Chứng minh",
    "Tags": "real-analysis, measure-theory, lebesgue-integral",
    "Link": "https://math.stackexchange.com/questions/274702/integral-vanishes-on-all-intervals-implies-the-function-is-a-e-zero",
    "Content": "I am having trouble with the following problem: $f:\\mathbb{R}\\to \\mathbb{R}$ is a measurable function such that for all $a$:\n  $$\\int_{[0,a]}f\\,dm=0.$$\n  Prove that $f=0$ for $m$ almost every $x$ (here $m$ is the Lebesgue measure). I have no problem proving this for $f$ non-negative, or under the assumption that $f$ is integrable. But the question only assumes that $f$ is measurable and no more. My idea was the usual thing; we look at the set of points where $f$ is positive and negative and assume one of these has measure greater than zero. Then I wanted to estimate one of these by an open set, look at the integral on the open set and show that it had to be greater than zero, a contradiction. But a key part of this attack is the assumption of the absolute continuity of the integral, which only holds in the case where $f$ is integrable. Alternatively, if it were integrable one could simply estimate $f$ by a continuous function, where the result is quite obvious. Ultimately we are going to show that $f$ is integrable, but it is not clear to me how to show this before showing it is zero a.e. So there must be a simpler way. Does anyone have suggestions?",
    "AcceptedAnswer": "The function $f$ must be integrable (one of $\\int f^+$ or $\\int f^-$ is finite) in order for the symbol $\\int f$ to be defined. So, I'll assume this is the case. In fact, then, since $\\int_0^a f$ exists and is finite for any $a$, it follows that $\\int_c^d |f|<\\infty$ for any numbers $c$, $d$. We show $f$ is almost everywhere\n $0$ on any interval $[c,d]$; this will imply the desired result. Suppose $f>0$ on the set of positive measure $E\\subset[c,d]$. Choose a closed subset $F$ of $E$ with positive measure. We then have $\\int_F f>0$. Now let $U=[c,d]\\setminus F$. As $U$ is open, we may write $U$ as a disjoint union of open intervals: $U=\\bigcup_{k=1}^\\infty (a_k,b_k)$. Now, since $\\int_c^d |f|<\\infty$\n$$\n0=\\int_{[c,d]}f=\\sum_{k=1}^\\infty\\int_{a_k}^{b_k}f+\\int_F f.\n$$\nSince $\\int_F f>0$, it follows that $\\sum\\limits_{k=1}^\\infty\\int_{a_k}^{b_k}f$ is negative. But then $\\int_{a_n}^{b_n} f$ must be negative for some $n$.  However, this proves untenable upon observing that\n$$\n\\int_{a_n}^{b_n} f =\\int_0^{b_n} f - \\int_0^{a_n} f =0.\n$$ Similarly, one can show $f$ cannot be negative on a set of positive measure.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$f$ is a measurable function from $\\mathbb{R}$ to $\\mathbb{R}$,\nFor every real number $a$, $\\int_{[0,a]} f \\, dm = 0$,\n$m$ is the Lebesgue measure.\nProblem: \nProve that $f = 0$ for $m$-almost every $x \\in \\mathbb{R}$.\n###END_OF_FORMAT###",
    "reasoning_create_structured_problem": "Okay, let me try to work through this problem step by step. So the problem is: given a measurable function f from R to R such that for every real number a, the integral of f over the interval [0, a] with respect to Lebesgue measure m is zero. We need to prove that f is zero almost everywhere.\n\nFirst, let's recall what the question states. The key points here are that f is measurable, and the integral over every interval [0, a] is zero. The challenge is to show that this implies f = 0 a.e., without assuming that f is integrable over the entire real line or non-negative.\n\nIn the case where f is non-negative, the solution is straightforward. If f were non-negative and the integral over [0, a] is zero for all a, then the integral over any measurable subset of [0, a] would also be zero, which by the properties of the Lebesgue integral would imply that f is zero almost everywhere on [0, a]. Since a is arbitrary, this would hold for the entire real line. However, the problem doesn't assume f is non-negative or integrable, so we need a different approach.\n\nSimilarly, if f were integrable over R, then we could use the fact that the integral over intervals [0, a] determines the function almost everywhere (by differentiation of the integral, perhaps using the Lebesgue differentiation theorem). But again, the problem doesn't state that f is integrable. So integrability might be something we need to establish first.\n\nWait, but how can we even talk about the integral of f over [0, a] if f isn't integrable? The problem states that the integral exists and is zero for all a. So for each a, the integral ∫_{[0,a]} f dm is defined and equals zero. That means that f is integrable over each interval [0, a], but not necessarily over the entire real line.\n\nSo f is locally integrable, meaning integrable on every bounded interval. That's an important point. So f ∈ L^1_loc(R). But even so, how do we proceed?\n\nOne approach mentioned in the original question is to consider the positive and negative parts of f. Let’s define f^+ = max(f, 0) and f^- = max(-f, 0), so that f = f^+ - f^-. Then both f^+ and f^- are non-negative measurable functions. The integral over [0, a] of f is zero, which implies that the integral of f^+ over [0, a] equals the integral of f^- over [0, a]. \n\nIf we can show that both these integrals are zero for all a, then by the non-negative case, both f^+ and f^- are zero a.e., hence f is zero a.e. So the problem reduces to showing that ∫_{[0,a]} f^+ dm = ∫_{[0,a]} f^- dm = 0 for all a. But how do we show that?\n\nSince ∫_{[0,a]} f dm = 0, we have ∫_{[0,a]} f^+ dm = ∫_{[0,a]} f^- dm. Let’s denote these two integrals as F(a) and G(a) respectively. Then F(a) = G(a) for all a. But F and G are both non-decreasing functions of a because f^+ and f^- are non-negative. The only way two non-decreasing functions can be equal for all a is if they are both constant. Wait, but when a increases, the integrals F(a) and G(a) can increase. However, since F(a) = G(a) for all a, their increases must be equal. Hmm, but if they are both non-decreasing and equal for all a, then their derivatives (if they exist) must be equal almost everywhere. However, since the derivatives of F and G would be f^+ and f^- respectively, this would imply f^+ = f^- a.e., so f = f^+ - f^- = 0 a.e. But I think this line of reasoning might be circular because we need to justify differentiating the integrals.\n\nWait, but if F(a) = ∫_{0}^a f^+ dm and G(a) = ∫_{0}^a f^- dm, then by the Lebesgue differentiation theorem, for almost every x, the derivative of F at x is f^+(x), and similarly for G, the derivative is f^-(x). Since F(a) = G(a) for all a, their derivatives must be equal almost everywhere. Therefore, f^+ = f^- a.e., which implies f = 0 a.e. Is this a valid approach?\n\nBut hold on, the Lebesgue differentiation theorem requires that F and G are absolutely continuous, which they are if f^+ and f^- are integrable on [0, a] for each a, which they are because f is integrable on each [0, a]. So F and G are absolutely continuous on each [0, a], hence differentiable almost everywhere on [0, a], and their derivatives are f^+ and f^- respectively. Since F'(x) = G'(x) almost everywhere, we get f^+(x) = f^-(x) a.e., hence f(x) = 0 a.e.\n\nThis seems to work. Let me verify this step by step.\n\n1. Given that f is measurable and ∫_{[0,a]} f dm = 0 for all a.\n2. Decompose f into f^+ and f^-, both non-negative, measurable, and integrable over each [0, a].\n3. Then ∫_{[0,a]} f dm = ∫_{[0,a]} f^+ dm - ∫_{[0,a]} f^- dm = 0, so ∫ f^+ = ∫ f^- over [0, a].\n4. Let F(a) = ∫_{0}^a f^+ dm and G(a) = ∫_{0}^a f^- dm. Then F(a) = G(a) for all a.\n5. F and G are absolutely continuous on each interval [0, a] because they are integrals of L^1 functions.\n6. By Lebesgue differentiation theorem, F'(x) = f^+(x) and G'(x) = f^-(x) for almost every x in [0, a].\n7. Since F(a) = G(a) for all a, their derivatives must be equal almost everywhere. Hence, f^+(x) = f^-(x) a.e.\n8. Therefore, f(x) = f^+(x) - f^-(x) = 0 a.e.\n\nThis seems to hold up. The key steps are decomposing f into positive and negative parts, using the fact that their integrals are equal on every interval, which leads to their integral functions being equal, hence their derivatives (which recover the original functions a.e.) must be equal. Therefore, f must be zero almost everywhere.\n\nBut the original question mentioned that the user tried to use the approach of considering the set where f is positive or negative and estimate with an open set, but ran into issues because absolute continuity of the integral requires integrability. However, using the Lebesgue differentiation theorem might bypass that by working directly with the integral functions.\n\nAlternatively, another approach could be to consider that the integral over all intervals [0, a] implies that the integral over any interval [a, b] is zero. Because ∫_{0}^b f dm - ∫_{0}^a f dm = ∫_{a}^b f dm = 0. Hence, the integral over any interval [a, b] is zero. Then, by linearity, the integral over any finite union of intervals is zero. Since the Lebesgue measure is regular, we can approximate any measurable set with a union of intervals, and hence the integral over any measurable set of finite measure is zero. Then, by the definition of the integral, if the integral of f over every measurable set of finite measure is zero, then f must be zero almost everywhere.\n\nWait, that seems like another way to approach it. Let me think.\n\nIf we can show that for every measurable set E with finite measure, ∫_E f dm = 0, then f = 0 a.e. Indeed, if ∫_E f dm = 0 for all measurable E of finite measure, then take E = {x | f(x) > 0}, which is measurable. Suppose m(E) > 0. Then, since f is positive on E, we can write E as a countable union of E_n = {x | f(x) > 1/n}. If m(E) > 0, then some E_n has positive measure. Then ∫_{E_n} f dm ≥ (1/n) m(E_n) > 0, contradicting the assumption that the integral over E_n is zero. Similarly for the negative part. Hence, f must be zero a.e.\n\nBut how does the original assumption that ∫_{[0,a]} f dm = 0 for all a lead to ∫_E f dm = 0 for all measurable E of finite measure?\n\nBecause the intervals [0, a] generate the Borel sigma-algebra, but we need to extend it to all measurable sets. Alternatively, since the integral over all intervals is zero, by linearity, the integral over any step function (simple function) that is a linear combination of intervals would be zero. Then, since simple functions are dense in L^1, and f is locally integrable, we can approximate the integral over any measurable set by integrals over intervals. Wait, maybe this is getting more complicated.\n\nAlternatively, since the integral over any interval [a, b] is zero (as we can write ∫_{a}^b f = ∫_{0}^b f - ∫_{0}^a f = 0 - 0 = 0), then the integral over any finite union of disjoint intervals is zero. Then, by the Dominated Convergence Theorem, since for any measurable set E of finite measure, we can approximate it by a countable union of intervals (due to the regularity of Lebesgue measure), the integral over E would be the limit of integrals over the approximating intervals, which are all zero. Hence, ∫_E f dm = 0 for all measurable E of finite measure. Then, as before, this implies f = 0 a.e.\n\nThis approach might work. Let me check the steps.\n\n1. Show that ∫_{a}^b f dm = 0 for any a < b. Because ∫_{0}^b f - ∫_{0}^a f = 0 - 0 = 0.\n\n2. Then, the integral over any interval is zero. By linearity, the integral over any finite union of intervals is zero.\n\n3. For any measurable set E of finite measure, we can approximate it from the outside by open sets, which are countable unions of intervals. Let E be such a set. Given ε > 0, there exists an open set U containing E such that m(U \\ E) < ε. Then ∫_U f dm = ∫_E f dm + ∫_{U \\ E} f dm. But ∫_U f dm = 0 because U is a countable union of intervals, and the integral over each interval is zero, so the integral over U is zero. Therefore, ∫_E f dm = - ∫_{U \\ E} f dm. However, we don't know if ∫_{U \\ E} f dm is finite or not, since we don't know if f is integrable over U. Wait, but U \\ E has measure less than ε. However, f is integrable over U because U is a countable union of intervals, each of finite measure, and f is integrable over each interval. So U has sigma-finite measure, and f is integrable over each interval, hence over U. Therefore, ∫_{U \\ E} |f| dm is finite. But how does this help?\n\nAlternatively, since ∫_U f dm = 0 and ∫_E f dm = ∫_U f dm - ∫_{U \\ E} f dm = 0 - ∫_{U \\ E} f dm. But unless we can bound ∫_{U \\ E} f dm, we can't directly conclude. This seems tricky.\n\nAlternatively, consider that for any measurable set E, we can find a sequence of simple functions approximating the characteristic function of E. Each simple function is a finite linear combination of characteristic functions of intervals. Hence, the integral of f over E would be the limit of integrals over these simple functions. But since each integral over intervals is zero, the integral over E is zero. Therefore, ∫_E f dm = 0 for all E measurable. Hence, f must be zero a.e.\n\nBut to formalize this, we need to use the fact that the integral of f over every measurable set is zero. Let me try to write this properly.\n\nGiven that ∫_{[0,a]} f dm = 0 for all a, then as before, the integral over any interval [a, b] is zero. Then, consider the collection C of all measurable sets E for which ∫_E f dm = 0. We know that C contains all intervals [a, b]. Also, C is closed under countable unions and complements. Hence, by the π-λ theorem, since intervals generate the Borel σ-algebra and C is a λ-system containing the π-system of intervals, C contains all Borel sets. Hence, for any Borel set E, ∫_E f dm = 0. Since Lebesgue measurable sets differ from Borel sets by null sets, and the integral over a null set is zero, it follows that ∫_E f dm = 0 for all Lebesgue measurable sets E. Hence, f must be zero a.e.\n\nThis is a more measure-theoretic approach. Let me recall the π-λ theorem. If C is a λ-system (closed under complements and countable disjoint unions) containing a π-system (closed under finite intersections), then C contains the σ-algebra generated by the π-system. Here, intervals form a π-system, and our collection C is a λ-system because:\n\n1. If E ∈ C, then ∫_{E^c} f dm = ∫_{R} f dm - ∫_E f dm. But wait, ∫_{R} f dm might not be defined. However, since we are working locally, for any bounded interval, the integral over E^c ∩ [−N, N] would be related. This part might need more careful handling.\n\nAlternatively, let's restrict to a bounded interval, say [−N, N]. Since f is integrable on [−N, N], we can consider the σ-algebra restricted to [−N, N]. Then, the collection C_N of measurable sets E ⊆ [−N, N] with ∫_E f dm = 0 is a σ-algebra because:\n\n- If E ∈ C_N, then ∫_{[−N, N] \\ E} f dm = ∫_{[−N, N]} f dm - ∫_E f dm = 0 - 0 = 0, so [−N, N] \\ E ∈ C_N.\n\n- If E_1, E_2, ... are disjoint sets in C_N, then ∫_{∪ E_i} f dm = Σ ∫_{E_i} f dm = Σ 0 = 0, so ∪ E_i ∈ C_N.\n\nSince C_N contains all intervals within [−N, N], which generate the Borel σ-algebra on [−N, N], it follows that C_N is the entire Borel σ-algebra on [−N, N]. Therefore, for any measurable E ⊆ [−N, N], ∫_E f dm = 0. Since N is arbitrary, this holds for all measurable sets E in R. Therefore, ∫_E f dm = 0 for all measurable E, which implies f = 0 a.e.\n\nThis seems like a solid argument. The key idea is that the collection of sets where the integral of f is zero forms a σ-algebra containing all intervals, hence all measurable sets, leading to the conclusion that the integral over any measurable set is zero, hence f must be zero a.e.\n\nAnother approach mentioned in the original question was to use the fact that if f is integrable, then the result is easy by using continuity or differentiability. But the user was concerned about how to handle the non-integrable case. However, as we've seen, even if f is not integrable over the entire real line, it is integrable over each interval [0, a], which allows us to apply local arguments (like working within each [−N, N]) and then extend to the whole real line by taking N to infinity.\n\nAlternatively, consider the function F(a) = ∫_{0}^a f dm. The given condition is that F(a) = 0 for all a. If F(a) is identically zero, then its derivative is zero almost everywhere. By the Lebesgue differentiation theorem, F'(a) = f(a) for almost every a, hence f(a) = 0 a.e. This seems almost too straightforward. Wait, but F(a) is absolutely continuous on each [0, a] since f is integrable there. If F is identically zero, then its derivative is zero a.e., so f = 0 a.e. This is a concise argument. However, we need to ensure that F being identically zero implies its derivative is zero. Yes, because F(a) is absolutely continuous, hence differentiable a.e., and the derivative is zero wherever it exists. Therefore, f = F' = 0 a.e.\n\nThis is even simpler. Since F(a) = 0 for all a, F is a constant function (constant zero). The derivative of a constant function is zero almost everywhere. By the Lebesgue differentiation theorem, F'(a) = f(a) a.e., hence f(a) = 0 a.e.\n\nYes, this seems like the most straightforward approach. The key insight is that the integral function F(a) being identically zero has derivative zero a.e., hence f must be zero a.e.\n\nBut wait, the Lebesgue differentiation theorem states that for a locally integrable function f, the derivative of F(a) = ∫_{0}^a f dm exists almost everywhere and equals f(a). So if F(a) is identically zero, then its derivative is zero a.e., hence f(a) = 0 a.e.\n\nYes, this works. The user might have overlooked this approach because they were focused on splitting into positive and negative parts or using integrability over the entire line. But since F(a) = 0 for all a, regardless of whether f is integrable over R, the local integrability is sufficient to apply the differentiation theorem.\n\nTherefore, the problem can be solved succinctly by noting that the integral function F(a) is identically zero, hence its derivative is zero a.e., implying f = 0 a.e.\n\nIn summary, there are multiple approaches to this problem:\n\n1. Decompose f into positive and negative parts, show their integrals are equal, and use the fact that their derivatives must be equal.\n2. Extend the integral condition to all measurable sets using the π-λ theorem or approximation by intervals, concluding that the integral over any measurable set is zero, hence f is zero a.e.\n3. Use the Lebesgue differentiation theorem directly on the integral function F(a), which is identically zero, hence its derivative (which is f(a) a.e.) is zero.\n\nAll these approaches lead to the conclusion that f = 0 a.e.",
    "Original_Problem": "Assumption: \n$f$ is a measurable function from $\\mathbb{R}$ to $\\mathbb{R}$,\nFor every real number $a$, $\\int_{[0,a]} f \\, dm = 0$,\n$m$ is the Lebesgue measure.\nProblem: \nProve that $f = 0$ for $m$-almost every $x \\in \\mathbb{R}$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $f$ is a measurable function from $\\mathbb{R}$ to $\\mathbb{R}$,\nAssumption 2: For every real number $a$, $\\int_{[0,a]} f \\, dm = 0$,\nAssumption 3: $m$ is the Lebesgue measure.\nProblem: \nProve that $f = 0$ for $m$-almost every $x \\in \\mathbb{R}$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\n0=\\int_{[c,d]}f=\\sum_{k=1}^\\infty\\int_{a_k}^{b_k}f+\\int_F f.\n$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $f$ is a measurable function from $\\mathbb{R}$ to $\\mathbb{R}$,\nAssumption 2: For every real number $a$, $\\int_{[0,a]} f \\, dm = 0$,\nAssumption 3: $m$ is the Lebesgue measure.\nAssumption 4: $$\n0=\\int_{[c,d]}f=\\sum_{k=1}^\\infty\\int_{a_k}^{b_k}f+\\int_F f.\n$$\nProblem: \nProve that $f = 0$ for $m$-almost every $x \\in \\mathbb{R}$."
}