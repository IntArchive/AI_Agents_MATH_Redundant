{
    "Link_API": "https://api.stackexchange.com/2.3/questions/1784875",
    "Title": "About the derivative of a function defined on rational numbers",
    "Score": 15,
    "Category": "Chứng minh",
    "Tags": "derivatives, functional-equations",
    "Link": "https://math.stackexchange.com/questions/1784875/about-the-derivative-of-a-function-defined-on-rational-numbers",
    "Content": "I have found this problem: Let $f : \\mathbb{Q} → \\mathbb{R}$ with property: $$|f(x) − f(y)| \\le (x − y)^2 \\tag1$$ for all $x, y \\in \\mathbb{Q}$. Prove $f$ is constant. My idea is to consider the formal derivative of $f$ like this: $$f'(x) = \\lim_{h \\rightarrow 0} \\frac {f(x + h) - f(x)}{h}, h \\in \\mathbb{Q} $$ Using (1) it's easy to prove the limit exists and is equals $0$ for all $x \\in \\mathbb{Q}$. So $f$ has derivative and $f'(x)=0$ for all $x \\in \\mathbb{Q}$. It follows that $f$ is constant. Unfortunately, it's not that simple because: $$f'\\equiv 0 \\implies \\ f  \\ constant \\tag 2$$ is a consequence of Mean Value Theorem which is valid only on real intervals. My question: is (2) valid for $f: \\mathbb{Q} \\rightarrow \\mathbb{R}$? Obs. I don't need a proof for the problem.",
    "AcceptedAnswer": "The desired version of the Mean Value Theorem is not generally true for functions $g:\\mathbb Q\\to \\mathbb R$.  To see that consider the function:  $$g(x) =\n\\begin{cases}\n0,  & \\text{if $x<\\pi$} \\\\\n1, & \\text{if $x>\\pi$}\n\\end{cases}$$ That function has derivative $0$ everywhere (as it is locally constant) but it is not a constant. To your problem: We have $$|f(x)-f(y)|=|f(x)-f\\left(\\frac {x+y}2\\right)+f\\left(\\frac {x+y}2\\right)-f(y)|≤|f(x)-f\\left(\\frac {x+y}2\\right)|+|f\\left(\\frac {x+y}2\\right)-f(y)|$$ $$≤\\frac {(x-y)^2}2$$ Repeat this using the stronger estimate to see that $$|f(x)-f(y)|≤\\frac {(x-y)^2}4$$  and iterate to see that ($\\forall n\\in \\mathbb N$) $$|f(x)-f(y)|≤\\frac {(x-y)^2}{2^n}$$ And as $n\\to \\infty$ we see that $f(x)=f(y)$.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$f$ is a function from $\\mathbb{Q}$ to $\\mathbb{R}$,\nFor all $x, y \\in \\mathbb{Q}$, $|f(x) - f(y)| \\le (x - y)^2$.\nProblem: \nProve $f$ is constant.\n###",
    "reasoning_create_structured_problem": "Okay, let me try to parse this question. The user is asking about whether the conclusion that a function with derivative zero everywhere must be constant, which usually relies on the Mean Value Theorem (MVT), holds for a function defined only on the rationals, f: ℚ → ℝ. \n\nFirst, the problem states that f satisfies |f(x) - f(y)| ≤ (x - y)² for all x, y ∈ ℚ. The user wants to know if f must be constant given that its derivative (defined via the limit over h in ℚ) is zero everywhere, even though the MVT isn't applicable in ℚ. \n\nAssumptions I need to list: \n\n1. The function f is defined from ℚ to ℝ. So the domain is rational numbers, codomain is real.\n2. The condition |f(x) - f(y)| ≤ (x - y)² holds for all x, y in ℚ. That's a Lipschitz condition with constant 1, but squared, which is even stronger.\n3. The derivative f’(x) is defined as the limit of [f(x+h) - f(x)]/h as h approaches 0 through rational numbers. And they showed this derivative is 0 everywhere on ℚ.\n4. The user is questioning if f’≡0 implies f is constant, given that MVT doesn't hold over ℚ since it's not connected/intervals aren't complete.\n\nBut in the problem statement, the user isn't asking for a proof, just whether the implication (2) holds in this context. So the problem is to determine if, under these conditions, f must be constant.\n\nWait, but in their problem statement, they have already established f’=0 via the definition using rational h. The key issue is whether f’=0 on ℚ implies constant, without MVT. But maybe the given condition (the inequality) allows us to bypass MVT? For example, maybe the given Lipschitz-type condition is strong enough to show that the function is constant without using MVT. However, the user's specific question is whether (2) is valid for f: ℚ → ℝ. So the problem is: under the given assumptions (f: ℚ→ℝ, |f(x)-f(y)| ≤ (x-y)², and f’=0 on ℚ), is f necessarily constant?\n\nBut the original problem they mention is to prove f is constant, and their approach used the derivative being zero, but they are concerned because MVT isn't available. So the actual problem here is to confirm whether, given f: ℚ → ℝ with |f(x)-f(y)| ≤ (x - y)^2, can we conclude f is constant, given that the derivative is zero but MVT doesn't apply. So the user is asking if the conclusion still holds despite the MVT not being applicable here.\n\nWait, but the way the user presents the problem: they have a function f: ℚ→ℝ satisfying |f(x)-f(y)| ≤ (x-y)^2. They want to prove f is constant. Their approach was to take the derivative, show it's zero, then conclude f is constant. But they are unsure because the MVT requires real intervals. So the problem is whether, even without MVT, having derivative zero everywhere on ℚ implies f is constant. The user's question is specifically: is (2) valid for f: ℚ → ℝ? That is, does f’≡0 imply f is constant when f is defined on ℚ?\n\nBut the original problem's assumptions are the function f: ℚ→ℝ with the given inequality. So when structuring the problem, the assumptions would include the domain and codomain, the Lipschitz-like condition, and the derivative being zero. Wait, but in the user's case, the derivative being zero is a consequence of the condition (1). So perhaps the problem as presented is to prove f is constant given the condition (1), and the user's attempted approach uses derivative zero, but they are stuck on whether f’≡0 implies constant on ℚ. So the actual problem is to prove f is constant given that |f(x)-f(y)| ≤ (x-y)^2 for all x,y ∈ ℚ.\n\nBut the user is not asking for the proof; they are asking whether the implication (2) holds in this context. However, the way to structure the problem would be based on the original problem they are working on. Let me check the original question again.\n\nOriginal problem as presented by the user: \"Prove that for every integer n, the number A(n) = ... is divisible by 91.\" But that was an example. The actual problem here is from the user's Math Stack Exchange question:\n\nTitle: About the derivative of a function defined on rational numbers\n\nQuestion: Let f: ℚ → ℝ with property |f(x) − f(y)| ≤ (x − y)² for all x, y ∈ ℚ. Prove f is constant. The user's idea is to show the derivative is zero and then conclude f is constant, but they question whether f’≡0 implies constant on ℚ. They don't need a proof, just whether (2) is valid for f: ℚ→ℝ.\n\nSo the problem they want formatted is: given f: ℚ→ℝ with |f(x)-f(y)| ≤ (x-y)^2 for all x,y ∈ ℚ, prove f is constant. The user's specific doubt is about the implication from derivative zero to being constant on ℚ. But the problem as posed is to prove f is constant under those assumptions.\n\nTherefore, in structuring the problem, the assumptions would be:\n\n- f is defined from ℚ to ℝ.\n\n- For all x, y in ℚ, |f(x) - f(y)| ≤ (x - y)^2.\n\nThen the problem is to prove f is constant.\n\nBut the user's own approach tried using the derivative, leading them to question the validity of the implication f’≡0 ⇒ f constant in ℚ. But the original problem's assumptions include the strong condition |f(x)-f(y)| ≤ (x-y)^2, which might allow a direct proof without needing MVT. For example, even in ℚ, if the difference quotient is bounded by |h|, then as h approaches 0, the derivative is zero. But to go from derivative zero to constant function on ℚ, perhaps using the density of ℚ and the inequality to show that the function's value doesn't change between any two points.\n\nBut in the problem structure, the user wants the assumptions listed line by line, each addressing one property. So the assumptions are:\n\n1. f: ℚ → ℝ (domain is rationals, codomain is reals)\n2. For all x, y ∈ ℚ, |f(x) - f(y)| ≤ (x - y)²\n\nProblem: Prove f is constant.\n\nBut in the example given by the user, they had an assumption about n being an integer and divisible by 7. Here, the assumptions are the function's domain and the Lipschitz condition. The problem is to prove f is constant. The user's question is about the validity of the implication (2) in this context, but the structured problem should be as per the original problem statement, which is to prove f is constant given those two assumptions.",
    "Original_Problem": "Assumption: \n$f$ is a function from $\\mathbb{Q}$ to $\\mathbb{R}$,\nFor all $x, y \\in \\mathbb{Q}$, $|f(x) - f(y)| \\le (x - y)^2$.\nProblem: \nProve $f$ is constant.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $f$ is a function from $\\mathbb{Q}$ to $\\mathbb{R}$,\nAssumption 2: For all $x, y \\in \\mathbb{Q}$, $|f(x) - f(y)| \\le (x - y)^2$.\nProblem: \nProve $f$ is constant.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$|f(x)-f(y)|≤\\frac {(x-y)^2}{2^n}$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $f$ is a function from $\\mathbb{Q}$ to $\\mathbb{R}$,\nAssumption 2: For all $x, y \\in \\mathbb{Q}$, $|f(x) - f(y)| \\le (x - y)^2$.\nAssumption 3: $$|f(x)-f(y)|≤\\frac {(x-y)^2}{2^n}$$\nProblem: \nProve $f$ is constant."
}