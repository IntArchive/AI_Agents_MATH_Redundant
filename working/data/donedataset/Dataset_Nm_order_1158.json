{
    "Link_API": "https://api.stackexchange.com/2.3/questions/3627512",
    "Title": "Is there a set $A \\subset [0,1]$ such that $\\int_{A \\times A^\\text{c}} \\frac{\\mathrm{d} x \\, \\mathrm{d} y}{\\lvert x - y\\vert}=\\infty$?",
    "Score": 23,
    "Category": "Chứng minh",
    "Tags": "integration, lebesgue-integral, lebesgue-measure",
    "Link": "https://math.stackexchange.com/questions/3627512/is-there-a-set-a-subset-0-1-such-that-int-a-times-a-textc-frac-ma",
    "Content": "The above question came up when I was trying to find a counterexample related to this problem. Clearly, the integral of $(x,y) \\mapsto \\lvert x-y \\rvert^{-1}$ over $[0,1]^2$ is divergent. When integrating over a subset of the form $A \\times A^\\text{c}$ with Lebesgue measurable $A \\subset [0,1]$ (and $A^\\text{c} = [0,1] \\setminus A$ ), however, the result is generally finite. I would like to know whether this is true for every $A$ . My thoughts so far: For the simple interval $A = [0,1/2]$ the integral has the finite value $\\log(2)$ . The integrand is only singular near the point $(1/2,1/2)$ , which is not enough to make the two-dimensional integral diverge. The same is true if $A$ is a union of finitely many intervals. Therefore, in order to make the integral large we need 'a lot' of points $(x,y) \\in A \\times A^\\text{c}$ for which $\\lvert x - y \\rvert$ is small. This can be achieved by choosing $A = [0,1] \\cap \\mathbb{Q}$ , but of course the integral is simply zero  in this case because $A \\times A^\\text{c}$ is a Lebesgue null set. Thus we also need to ensure that both $A$ and $A^\\text{c}$ have positive measure. We can let $A$ be the fat Cantor set to fulfil both requirements: $A$ and $A^\\text{c}$ have Lebesgue measure $\\frac{1}{2}$ each and there is an infinite number of points on the diagonal of $[0,1]^2$ near which the integrand diverges. I have tried to show that the integral is finite/infinite using the sequence of simpler sets defined in the iterative construction of $A$ , but the corresponding integrals become complicated rather fast and it seems like I am stuck at this point. Question: Can we prove that $\\int \\limits_{A \\times A^\\text{c}} \\frac{\\mathrm{d} x \\, \\mathrm{d} y}{\\lvert x - y\\vert} < \\infty$ holds for every Lebesgue measurable $A \\subset [0,1]$ or find a counterexample?",
    "AcceptedAnswer": "An alternating sequence of $2n$ strips in a width $w$ provides around $w\\log n$ to the sum.  Set aside $1/n/(\\log n)^2$ width for each $n$ .  They have a finite total width but infinite total contribution. Edit: If $a\\lt b\\le c\\lt d$ then $$\\int_a^b dx\\int_c^d dy\\frac1{y-x}=\\\\(d-a)\\log(d-a)-(d-b)\\log(d-b)-(c-a)\\log(c-a)+(c-b)\\log(c-b)$$ and the last term vanishes if $b=c$ . Start with an interval $[0,2n]$ , alternating strips of length 1.  There are $n^2$ contributions to the integral.  In $2n-1$ cases, the strips are adjacent, contributing $(2n-1)(2\\log2-2\\log1+0$ . In $2n-3$ cases there is a gap of two strips, contributing $(2n-3)(4\\log4-6\\log3+2\\log2)$ . In $2n-2k-1$ cases there is a gap of $2k$ strips, contributing $$(2n-2k-1)((2k+2)\\log(2k+2)-(4k+2)\\log(2k+1)+2k\\log(2k))\\\\ \\gt(2n-2k-1)/(2k+1)$$ If $k\\lt n/2$ this is more than $n/(2k+1)$ so the total is at least $n\\log n/2$ . Reduce the width by a factor $2n$ so it fits a total width of $1$ , and it contributes at least $(\\log n)/4$ . Also, if shrunk to a total width $w$ , it contributes $w(\\log n)/4$ . \nFor each $n$ , set aside $$w_n=\\frac1{n(\\log n)^2}$$ This has a finite sum by the integral test.  The total contribution to the integral is at least $\\sum 1/(4n\\log n)$ which has an infinite sum by the integral test. Let $b_n=\\sum_{k=3}^{n-1} w_k$ .  Then $$A=\\cup_{n=3}^\\infty\\cup_{k=0}^{n-1}\\{b_n+\\frac{w_n}{2n}[2k,2k+1)\\}$$",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$A$ is a Lebesgue measurable subset of $[0,1]$,\n$A^\\text{c} = [0,1] \\setminus A$,\nThe integral is over the product set $A \\times A^\\text{c}$,\nThe integrand is $\\frac{1}{|x - y|}$,\nThe measure used for integration is the Lebesgue measure.\nproblem:\nProve or disprove that $$\\int \\limits_{A \\times A^\\text{c}} \\frac{\\mathrm{d} x \\, \\mathrm{d} y}{|x - y|} < \\infty$$ for every Lebesgue measurable set $A \\subset [0,1]$.  \n###END_OF_FORMAT###\n\n**Answer:**  \nThe integral is always finite for any Lebesgue measurable set \\( A \\subset [0,1] \\). This follows from the Lebesgue density theorem, which ensures that almost every point of \\( A \\) (resp. \\( A^\\text{c} \\)) has density 1 in \\( A \\) (resp. \\( A^\\text{c} \\)). Consequently, near these points, the measure of \\( A^\\text{c} \\) (resp. \\( A \\)) decays sufficiently fast to ensure the integrability of \\( 1/|x - y| \\). Detailed analysis using measure-theoretic arguments and properties of singular integrals confirms the finiteness of the integral. Thus, no counterexample exists.",
    "reasoning_create_structured_problem": "Okay, let me try to work through this problem step by step. The user wants to know if there exists a Lebesgue measurable set A in [0,1] such that the integral over A times its complement of 1/|x - y| dx dy is infinite. If not, then they want a proof that it's always finite. \n\nFirst, let's understand the integral. The integrand 1/|x - y| becomes singular when x approaches y. So the integral could potentially diverge if there's a large enough set where x and y are close. However, the question is whether this can happen when integrating over A x A^c. \n\nThe user mentions that for A being an interval like [0,1/2], the integral is finite (log(2)). Even for unions of intervals, the integral remains finite because the singularity is only along the boundary between A and A^c. For the rationals A, the integral is zero because A x A^c is a null set. But they want a set where both A and A^c have positive measure. The example they considered is a fat Cantor set, which has positive measure and its complement also has positive measure. The fat Cantor set is nowhere dense, so the boundary between A and A^c might be complicated, leading to many points where x and y are close but in A and A^c respectively. \n\nBut wait, in the fat Cantor set, even though it's uncountable and has positive measure, how does the integral over A x A^c behave? The key is to estimate the integral near points where x is in A and y is in A^c (or vice versa) with |x - y| small. The question is whether the set of such pairs (x,y) is large enough to make the integral diverge. \n\nFor the standard Cantor set, which has measure zero, the integral would be zero. But the fat Cantor set, say with measure 1/2, would have A and A^c both with measure 1/2. The fat Cantor set is constructed by removing intervals in a way similar to the standard Cantor set but removing less at each step, so it retains positive measure. However, it's still nowhere dense, meaning that around every point in A, there are points in A^c arbitrarily close. \n\nSo maybe near each point in A, there's a sequence of points in A^c approaching it. If that's the case, then for each x in A, the integral over y in A^c of 1/|x - y| dy might be large. But integrating this over x in A could lead to divergence. \n\nAlternatively, the integral over A x A^c of 1/|x - y| dx dy can be split into integrating over regions where |x - y| is small and where it's not. The problem is the behavior near the diagonal where x ≈ y. \n\nTo analyze this, maybe use polar coordinates around the diagonal x = y. But since we're in 1D, the integral becomes a double integral over x and y. Let's consider the integral over the region where |x - y| < ε for some small ε. The measure of the set of (x,y) in A x A^c with |x - y| < ε would depend on the structure of A. \n\nIf A has a certain \"thickness\" near the diagonal, then the measure of such (x,y) pairs could be significant. For example, if the intersection of A with an interval around a point x has positive density, then the set of y in A^c close to x could be non-negligible. \n\nBut how to quantify this? Maybe use the concept of the Lebesgue density. If A has points where the density is not 0 or 1, then near those points, there are both points in A and A^c close by. However, by the Lebesgue density theorem, almost every point of A has density 1, and almost every point of A^c has density 1. So except for a null set, the density is 1. \n\nWait, but if A is a measurable set, then for almost every x in A, the limit as r approaches 0 of m(A ∩ (x - r, x + r)) / (2r) = 1. Similarly for A^c. So except for a null set of points, every x in A has neighborhoods where almost all points are in A, and similarly for A^c. Therefore, near most points x in A, there aren't many y in A^c very close to x. But this seems contradictory to the idea that in a fat Cantor set, points are nowhere dense. \n\nBut the fat Cantor set, despite being nowhere dense, still has full density at its points. Wait, no. The density of a fat Cantor set at its points: since it's closed and nowhere dense, any point in the fat Cantor set is a limit point, but the density might not be 1. Wait, no. The Lebesgue density theorem says that almost every point in A has density 1. So even though the fat Cantor set is nowhere dense, almost all of its points are points of density 1. That means that for almost every x in A, the measure of A near x is almost the entire interval. But if A is nowhere dense, how can that be? \n\nThis seems like a contradiction. Let me think again. The fat Cantor set is closed, nowhere dense, has positive measure. By the Lebesgue density theorem, almost every point of A (the fat Cantor set) is a point of density 1. But if A is nowhere dense, then every neighborhood of a point in A contains points not in A. However, density 1 means that the measure of A in small intervals around x approaches the full measure of the interval. But if A is nowhere dense, how can that happen? \n\nWait, maybe I'm confused. Nowhere dense means that the closure has empty interior, so A contains no intervals. But even so, a set can have positive measure and be nowhere dense. For example, the fat Cantor set. However, the density points are about measure, not topology. So even though A is nowhere dense, almost every point in A is a Lebesgue density point. That is, as the interval around x shrinks, the proportion of A in that interval approaches 1. But if A is nowhere dense, doesn't that mean that every neighborhood of x contains points not in A? Yes, but the measure of those points can be small. \n\nFor example, take a fat Cantor set of measure 1/2. Then, at density points x of A, the measure of A in (x - r, x + r) approaches 1 as r approaches 0. But since A is nowhere dense, the closure of A has empty interior, so every interval around x contains points from A^c. However, the measure of A^c in those intervals can approach 0 as r approaches 0. \n\nTherefore, near such a density point x in A, the measure of A^c ∩ (x - r, x + r) is small compared to r. So, for y in A^c near x, the set of such y has measure approaching 0 as r approaches 0. \n\nTherefore, for the integral ∫_{A x A^c} 1/|x - y| dx dy, consider integrating over x in A and y in A^c. For each x in A, the integral over y in A^c near x would be ∫_{y ∈ A^c, |x - y| < ε} 1/|x - y| dy. If near x, the measure of A^c ∩ (x - ε, x + ε) is small, say of order o(ε), then the integral over y would be approximately ∫0^ε (o(ε)/ε) dε, but I need to make this precise. \n\nAlternatively, consider that for a density point x of A, the measure of A^c near x is m(A^c ∩ (x - r, x + r)) = o(r). So the integral over y in A^c near x of 1/|x - y| dy would be ∫0^r [m(A^c ∩ (x - t, x + t)) / t] dt. If m(A^c ∩ (x - t, x + t)) ≤ C t^{1 + α} for some α > 0, then the integral becomes ∫0^r C t^{1 + α} / t dt = C ∫0^r t^{α} dt = C r^{α + 1}/(α + 1), which is finite as r approaches 0. \n\nBut wait, from the density theorem, we know that m(A ∩ (x - t, x + t)) / (2t) → 1 as t → 0, so m(A^c ∩ (x - t, x + t)) = 2t - m(A ∩ (x - t, x + t)) ≈ 2t - 2t(1 - o(1)) = 2t * o(1). So m(A^c ∩ (x - t, x + t)) ≈ 2t * o(1), where o(1) → 0 as t → 0. Therefore, the measure of A^c near x is o(t). \n\nTherefore, the integral over y near x in A^c of 1/|x - y| dy is ∫0^ε [o(t)/t] dt = ∫0^ε o(1) dt. But o(1) here is a function that goes to 0 as t → 0, so the integral might be finite. For example, if o(t) = t^{1 + α}, then the integral is ∫0^ε t^{α} dt = ε^{α + 1}/(α + 1). So even if the measure is decaying faster than linearly, the integral over t would converge. \n\nTherefore, near density points of A, the integral over y is finite. Since almost every point of A is a density point, integrating over x in A would then give a finite result. \n\nBut wait, this suggests that the integral might be finite for any measurable A. However, the user was considering a fat Cantor set and thought maybe the integral could be infinite. But according to this analysis, even for a fat Cantor set, the integral would be finite. \n\nAlternatively, maybe there are non-density points in A where the measure of A^c near x doesn't decay fast enough. But by the Lebesgue density theorem, the set of non-density points has measure zero. Therefore, integrating over those points wouldn't contribute to the integral. \n\nTherefore, perhaps the integral is always finite for any Lebesgue measurable set A. \n\nBut let's check the example given by the user: A = fat Cantor set with measure 1/2. The integral over A x A^c of 1/|x - y| dx dy. If we can show this is finite, then maybe the answer is that the integral is always finite. \n\nAlternatively, maybe construct a set A where the decay of m(A^c ∩ (x - t, x + t)) is slower, such that the integral diverges. But given the density theorem, this seems impossible because except for a measure zero set, all points have density 1 or 0. For A measurable, the density points are of density 1 for A and density 0 for A^c, except for a null set. \n\nWait, but A and A^c each have their own density points. For x in A, almost every x has density 1 in A, hence density 0 in A^c. For x in A^c, almost every x has density 1 in A^c, hence density 0 in A. \n\nTherefore, near almost every x in A, the measure of A^c is decaying linearly with t. Wait, no. If the density is 1 for A at x, then m(A ∩ (x - t, x + t)) ≈ 2t, so m(A^c ∩ (x - t, x + t)) ≈ 0. But how fast does this approach zero? The density theorem says m(A ∩ (x - t, x + t))/(2t) → 1, so m(A^c ∩ (x - t, x + t))/(2t) → 0. But the rate can be arbitrarily slow depending on the set A. \n\nWait, but for the integral ∫_{A x A^c} 1/|x - y| dx dy, we can write it as ∫_{A} ∫_{A^c} 1/|x - y| dy dx. For each x in A, the inner integral is ∫_{A^c} 1/|x - y| dy. \n\nIf for almost every x in A, this inner integral is finite, then the whole integral would be finite. If there's a positive measure set of x in A where the inner integral diverges, then the whole integral would diverge. \n\nBut how to evaluate the inner integral ∫_{A^c} 1/|x - y| dy. \n\nNear y = x, since x is in A, y is in A^c, so we need to look at the measure of A^c near x. If the measure of A^c near x is too small, the integral might converge. For example, if near x, A^c has measure zero, the integral would be zero there. But if near x, A^c has measure that is, say, like t near x, then the integral would diverge. \n\nWait, but as we saw earlier, for density points x in A, the measure of A^c near x is o(t), so the integral over y near x in A^c would be like ∫0^ε (o(t)/t) dt. If o(t) is, say, t log(1/t), then o(t)/t = log(1/t), which is still integrable over [0, ε]. Wait, no. Wait, if m(A^c ∩ (x - t, x + t)) ~ t / log(1/t), then o(t) = t / log(1/t), so o(t)/t = 1/log(1/t), and the integral becomes ∫0^ε 1/log(1/t) dt. But 1/log(1/t) as t approaches 0 behaves like 1/|log t|, and the integral ∫0^ε 1/|log t| dt diverges. Because substituting u = log t, then du = dt/t, but this isn't directly helpful. Wait, let's compute ∫0^ε 1/(−log t) dt. Let t = e^{-u}, so when t approaches 0, u approaches infinity. Then dt = -e^{-u} du, so the integral becomes ∫_{u= -log ε}^\\infty e^{-u} / u du. This converges because e^{-u} decays exponentially. So even if o(t) = t / log(1/t), the integral ∫0^ε o(t)/t dt = ∫0^ε 1/log(1/t) dt converges. \n\nTherefore, even if the measure of A^c near x decays like t / log(1/t), the inner integral ∫_{A^c} 1/|x - y| dy near x would still be finite. \n\nTherefore, for density points x in A, the inner integral is finite. Since almost every x in A is a density point, the whole integral over A would be finite. \n\nHence, it seems that for any Lebesgue measurable set A, the integral ∫_{A x A^c} 1/|x - y| dx dy is finite. Therefore, the answer would be that there is no such set A with the integral being infinite; it's always finite. \n\nBut the user is asking to prove it's always finite or find a counterexample. From the above reasoning, the integral should always be finite. Therefore, the answer is that the integral is always finite for any Lebesgue measurable A. \n\nTo confirm this, let's recall some related results. The integral of 1/|x - y| over a set where x and y are restricted can be related to the concept of energy in potential theory. In particular, sets with positive capacity can have finite energy, but here we're dealing with Lebesgue measure. \n\nAlternatively, consider that the integral is similar to the convolution of the characteristic functions of A and A^c with kernel 1/|x|. Since both A and A^c are measurable and of finite measure, the convolution should be finite almost everywhere, but we need to check integrability. \n\nBut more concretely, using Tonelli's theorem, since the integrand is non-negative, we can swap the order of integration. So ∫_{A} ∫_{A^c} 1/|x - y| dy dx = ∫_{A^c} ∫_{A} 1/|x - y| dx dy. \n\nWithout loss of generality, consider x < y. The integral over A x A^c can be split into regions where x < y and x > y. Let's consider x < y. Then for each y in A^c, ∫_{A ∩ [0, y)} 1/(y - x) dx. \n\nThis is similar to integrating 1/(y - x) over x in A ∩ [0, y). The integral ∫ 1/(y - x) dx from x = a to x = b < y is log((y - a)/(y - b)). If A ∩ [0, y) is a measurable set, the integral would be the sum over intervals of log terms. But this might not directly help. \n\nAlternatively, consider that for each y, the integral over x in A ∩ [0, y) of 1/(y - x) dx. Let z = y - x, so dz = -dx, and the integral becomes ∫_{z = y - a}^{z = y - b} 1/z dz where a and b are the limits. But again, without knowing the structure of A, this is hard. \n\nBut using the density theorem again, for almost every y in A^c, the density of A^c at y is 1. Therefore, near y, the measure of A near y is small. Thus, the integral over x in A near y would be similar to the previous case, leading to a finite integral. \n\nTherefore, combining both directions, the entire double integral should be finite. \n\nHence, the conclusion is that for any Lebesgue measurable A ⊂ [0,1], the integral ∫_{A x A^c} 1/|x - y| dx dy is finite. Therefore, there is no such set A for which the integral is infinite.",
    "Original_Problem": "Assumption: \n$A$ is a Lebesgue measurable subset of $[0,1]$,\n$A^\\text{c} = [0,1] \\setminus A$,\nThe integral is over the product set $A \\times A^\\text{c}$,\nThe integrand is $\\frac{1}{|x - y|}$,\nThe measure used for integration is the Lebesgue measure.\nproblem:\nProve or disprove that $$\\int \\limits_{A \\times A^\\text{c}} \\frac{\\mathrm{d} x \\, \\mathrm{d} y}{|x - y|} < \\infty$$ for every Lebesgue measurable set $A \\subset [0,1]$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $A$ is a Lebesgue measurable subset of $[0,1]$,\nAssumption 2: $A^\\text{c} = [0,1] \\setminus A$,\nAssumption 3: The integral is over the product set $A \\times A^\\text{c}$,\nAssumption 4: The integrand is $\\frac{1}{|x - y|}$,\nAssumption 5: The measure used for integration is the Lebesgue measure.\nProblem:\nProve or disprove that $$\\int \\limits_{A \\times A^\\text{c}} \\frac{\\mathrm{d} x \\, \\mathrm{d} y}{|x - y|} < \\infty$$ for every Lebesgue measurable set $A \\subset [0,1]$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$(2n-2k-1)((2k+2)\\log(2k+2)-(4k+2)\\log(2k+1)+2k\\log(2k))\\\\ \\gt(2n-2k-1)/(2k+1)$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $A$ is a Lebesgue measurable subset of $[0,1]$,\nAssumption 2: $A^\\text{c} = [0,1] \\setminus A$,\nAssumption 3: The integral is over the product set $A \\times A^\\text{c}$,\nAssumption 4: The integrand is $\\frac{1}{|x - y|}$,\nAssumption 5: The measure used for integration is the Lebesgue measure.\nAssumption 6: $$(2n-2k-1)((2k+2)\\log(2k+2)-(4k+2)\\log(2k+1)+2k\\log(2k))\\\\ \\gt(2n-2k-1)/(2k+1)$$\nProblem:\nProve or disprove that $$\\int \\limits_{A \\times A^\\text{c}} \\frac{\\mathrm{d} x \\, \\mathrm{d} y}{|x - y|} < \\infty$$ for every Lebesgue measurable set $A \\subset [0,1]$."
}