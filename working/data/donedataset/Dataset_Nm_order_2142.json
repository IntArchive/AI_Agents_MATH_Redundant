{
    "Link_API": "https://api.stackexchange.com/2.3/questions/1681886",
    "Title": "Rolling $n$ $k$-sided dice and discarding the lowest $m$ of them.",
    "Score": 16,
    "Category": "Chá»©ng minh",
    "Tags": "combinatorics, dice",
    "Link": "https://math.stackexchange.com/questions/1681886/rolling-n-k-sided-dice-and-discarding-the-lowest-m-of-them",
    "Content": "In this question I will use the notation $\\Bbb{E}(n,k,m)$ to refer to the expected average of rolling $n$ $k$-sided dice and discarding the lowest $m$ of them. The most trivial response happens when $m = 0$, in which case we discard no dice and we arrive at the result: $$\\Bbb{E}(n,k,0) = \\frac{k}{2} + \\frac{1}{2}$$ When $m = 1$, I considered a sample case to give some intuition for this problem. Looking at the case of $\\Bbb{E}(2, 6, 1)$, I found the following pattern. There are one $1$s, three $2$s, five $3$s, etc. The sum of these outcomes is: $$\\sum_{i=1}^{6} i(2i-1)$$ In general, the expected outcome for $\\Bbb{E}(2,k,1)$ is: $$\\frac{\\sum_{i=1}^{k} i(2i-1)}{k^2} = \\frac{\\sum_{i=1}^{k} 2i^2 - \\sum_{i=1}^{k} i}{k^2} = \\frac{\\frac{2k(k+1)(2k+1)}{6} - \\frac{k(k+1)}{2}}{k^2} = \\frac{2}{3}k + \\frac{1}{2} - \\frac{1}{6k}$$ Now I want to consider $\\Bbb{E}(3,k,2)$. In the previous case each value $i$ occurred $2i - 1$ number of times. Where did $2i - 1$ come from? It looks like the frequency of occurrence is the difference of consecutive squares. $$i^2 - (i-1)^2 = 2i - 1$$ This seems intuitive based on the image I provided. We can reason that in the case of $n = 3$, the frequency of occurrence will be the difference of consecutive cubes . $$i^3 - (i-1)^3 = 3i^2 - 3i + 1$$ The expected outcome of $\\Bbb{E}(3,k,2)$ is messy, so I'll just write the initial expression and the simplified expression. $$\\frac{\\sum_{i=1}^{k} i(3i^2-3i+1)}{k^3} = \\frac{3}{4}k + \\frac{1}{2} - \\frac{1}{4k}$$ Let's finally look at the case of $\\Bbb{E}(n,k,n-1)$. Based on the previous results, I conjecture that it looks like: $$\\frac{\\sum_{i=1}^{k} i(i^n - (i-1)^n))}{k^n} = \\frac{n}{n+1}k + \\frac{1}{2} - \\mathcal{O}(\\frac{1}{k})$$ My two questions are this: Is my conjecture for $\\Bbb{E}(n,k,n-1)$ correct, and if so, how can I prove this? What happens when $m \\ne n-1$? How can I adjust my analysis to account for discarding dice such that I leave not just the maximum value?",
    "AcceptedAnswer": "If $M$ is the maximum value on the $n$ dice thrown, then $\\mathbb{P}(M\\leq x)=(x/k)^n$ so that $\\mathbb{E}(M)=\\sum_{x=0}^{k-1} \\left(1-\\left({x\\over k}\\right)^n\\right)=k-{1\\over k^n}\\sum_{x=0}^{k-1}x^n.$ Using Faulhaber's formula you can show that \n$$\\sum_{x=0}^{k-1}x^n\n={1\\over n+1}\\left[k^{n+1}-{1\\over 2}(n+1)k^n+O(k^{n-1})\\right]$$\nand putting these together gives, as you expected,\n$$\\mathbb{E}(M)={n\\over n+1}\\,k+{1\\over 2}+O(1/k).$$ Here is a more general argument. For any $1\\leq j\\leq n$ let $X_{(j)}$ be the $j$th order statistic of the $n$ \ndice rolls. For $0\\leq x<k$, let $Y$ be the number of dice rolls that take \nvalues in $\\{1,2,\\dots, x\\}$. We have $X_{(j)}>x$ if and only if $Y<j$ so that\n$$ \\mathbb{P}(X_{(j)}>x)=\\mathbb{P}(Y<j)=\\sum_{y=0}^{j-1}{n\\choose y} \\left({x\\over k}\\right)^y\n\\left(1-{x\\over k}\\right)^{n-y}.$$ Therefore we have the explicit formula\n$$\\mathbb{E}(X_{(j)})=\\sum_{x=0}^{k-1}\\sum_{y=0}^{j-1}{n\\choose y} \\left({x\\over k}\\right)^y\n\\left(1-{x\\over k}\\right)^{n-y}.\\tag1$$ For large $k$ asymptotics, exchange the order of summation and rewrite as \na Riemann sum to get \n$$\\mathbb{E}(X_{(j)})=k\\sum_{y=0}^{j-1}\\sum_{x=0}^{k-1}{n\\choose y} \\left({x\\over k}\\right)^y\n\\left(1-{x\\over k}\\right)^{n-y}{1\\over k}\\approx k\\sum_{y=0}^{j-1} \\int_0^1 {n\\choose y} w^y(1-w)^{n-y}\\,dw={k\\,j\\over n+1}.$$ Using the Euler-Maclaurin formula, you can get more terms in \nthe asymptotic expansion, for example, \n$$\\mathbb{E}(X_{(j)})={k\\,j\\over n+1}+{1\\over 2}+O(1/k).$$ Asymptotics are nice, but the formula (1) also allows us to derive \nthe bounds \n$${kj\\over n+1}\\leq \\mathbb{E}(X_{(j)})\\leq {kj\\over n+1}+1.$$",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \nn is a positive integer,\nk is a positive integer,\nm is a non-negative integer,\nm is less than n,\nEach die is a fair k-sided die with faces numbered 1 through k,\nWhen rolling n dice, the lowest m values are discarded,\nThe expected value $\\Bbb{E}(n,k,m)$ is the average of the remaining $(n - m)$ dice.\nProblem:\nProve or disprove the conjecture that $$\\Bbb{E}(n,k,n-1) = \\frac{n}{n+1}k + \\frac{1}{2} - \\mathcal{O}\\left(\\frac{1}{k}\\right).$$ Additionally, determine how to compute $\\Bbb{E}(n,k,m)$ when $m \\ne n-1$.\n###",
    "reasoning_create_structured_problem": "Okay, let's tackle this problem. The user is asking about the expected value when rolling n k-sided dice and discarding the lowest m of them. They have specific conjectures for cases when m = 0, m = 1 with n = 2, m = 2 with n = 3, and then a general conjecture for m = n-1. They also want to know how to adjust the analysis for other values of m.\n\nFirst, I need to parse the original question and filter out the unnecessary parts. The example given by the user shows that assumptions should list each condition line by line, applied to one object. The problem statement should then be concise.\n\nLooking at the original problem, the key elements are:\n\n- The notation ð”¼(n,k,m) is defined as the expected average of rolling n k-sided dice and discarding the lowest m.\n- The user has specific results for m=0, m=1 (n=2), m=2 (n=3), and conjectures for m = n-1.\n- The two questions are: Is the conjecture for ð”¼(n,k,n-1) correct, and how to prove it? What happens when m â‰  n-1, and how to adjust the analysis?\n\nBut in the user's example, the assumption section lists the conditions. In the example given by the user, the original problem mentioned that n is an integer and divisible by 7, so those became assumptions. However, in this problem, the assumptions are about the setup of the problem. Let's see:\n\nWhat are the assumptions here?\n\n- n dice are rolled, each die is k-sided.\n- The lowest m dice are discarded, keeping the remaining (n - m) dice.\n- The expected value ð”¼(n,k,m) is calculated based on the remaining dice.\n\nBut do these need to be listed as assumptions? The problem is about proving the conjecture for ð”¼(n,k,n-1) and handling other m. The user's conjecture might have some implicit assumptions, like the dice are fair, each face from 1 to k, etc. But in their problem statement, do they mention any restrictions on n, k, m? For example, m must be less than n? Yes, because you can't discard more dice than you have. So assumptions would include that m is a non-negative integer, m < n, each die is k-sided with faces 1 to k, etc.\n\nBut in the example provided by the user, the assumptions were specific to the problem. For instance, in the example, the original problem had n being an integer and divisible by 7, but the formatted problem only listed n is an integer and n is divisible by 7. So in this case, perhaps the assumptions for the problem are:\n\n- n, k, m are integers.\n- m is a non-negative integer such that m < n.\n- Each die is fair and has k sides labeled from 1 to k.\n- When rolling n dice, the lowest m are discarded, and the average of the remaining (n - m) is taken.\n\nBut the user's example included assumptions as line by line. Let's check the original problem again. The user's original problem in the example had n as an integer, and then n divisible by 7. But in this case, the problem here doesn't have such specific conditions. The problem is more general. The user is asking about the conjecture for general n, k, and m = n-1, and then m â‰  n-1.\n\nSo perhaps the assumptions for the problem are:\n\n- n is a positive integer,\n- k is a positive integer,\n- m is a non-negative integer,\n- m is less than n,\n- each die is k-sided with faces numbered 1 through k,\n- dice are fair,\n- when rolling n dice, the lowest m values are discarded,\n- the expected value is calculated as the average of the remaining (n - m) dice.\n\nBut maybe some of these are already part of the problem's setup and don't need to be listed. The example given by the user lists only the assumptions that are directly relevant to the problem's conditions. For the example, it's about divisibility by 91, which requires n being an integer and divisible by 7. So perhaps here, the key assumptions are that m is a non-negative integer less than n, and the dice are fair, etc.\n\nBut the user's original problem in the example didn't list all the implicit assumptions, only the ones that were mentioned in the problem. For instance, in the example, the problem statement was about proving divisibility by 91 for A(n). The assumptions were that n is an integer and divisible by 7. The fact that it's a number defined by that expression is part of the problem statement.\n\nSo for the current problem, the user is asking about ð”¼(n,k,m). The assumptions would include the definitions given in the problem. The problem's main focus is on the conjecture for ð”¼(n,k,n-1) and adjusting m. The problem mentions the notation ð”¼(n,k,m) as defined, so the assumptions would be:\n\n- ð”¼(n,k,m) is the expected average of rolling n k-sided dice and discarding the lowest m.\n\nAdditionally, the problem mentions specific cases, but the main assumptions for the problem to be formatted are the conditions under which the problem is posed.\n\nWait, the example given by the user included \"n is an integer\" and \"n is divisible by 7\" as assumptions. So each assumption is a single property applied to one object. For the current problem, the assumptions would be:\n\n- n is a positive integer,\n- k is a positive integer,\n- m is a non-negative integer,\n- m is less than n,\n- each die has k sides labeled 1 through k,\n- dice rolls are independent and fair.\n\nBut the original problem may not state all of these explicitly, but they are necessary for the problem's context. However, in the user's example, they didn't list all the implicit assumptions like the dice being fair, etc., unless specified. The example problem had the original problem stating \"for every integer n\", so that became an assumption. Then the user had another assumption that n is divisible by 7, which was part of their problem.\n\nBut in the current problem, the user hasn't stated any restrictions on n, k, m except that m is less than n (since you can't discard more than n dice). But in their examples, they considered m=0,1,2, etc., so m is a non-negative integer less than n.\n\nSo the assumptions would be:\n\n- n is a positive integer,\n- k is a positive integer,\n- m is a non-negative integer,\n- m is less than n,\n- each die is k-sided (faces 1 to k),\n- dice are fair and independent.\n\nThese are the necessary assumptions for the problem. Each of these is a single property applied to one object.\n\nThen the problem is the two questions:\n\n1. Is the conjecture for ð”¼(n,k,n-1) correct, and if so, how to prove it?\n2. What happens when m â‰  n-1, and how to adjust the analysis?\n\nBut in the user's example, the problem statement was a single statement. So perhaps we need to combine the two questions into one problem statement.\n\nSo the problem would be: \"Verify the conjecture for ð”¼(n,k,n-1) and determine the expected value when m â‰  n-1.\"\n\nBut the original problem's exact questions are:\n\n\"Is my conjecture for ð”¼(n,k,n-1) correct, and if so, how can I prove this? What happens when m â‰  n-1? How can I adjust my analysis to account for discarding dice such that I leave not just the maximum value?\"\n\nWe need to structure the problem part to capture both questions concisely.\n\nSo perhaps:\n\nProblem: Verify the conjecture that ð”¼(n,k,n-1) equals (n/(n+1))k + 1/2 - O(1/k) and prove it. Determine how to compute ð”¼(n,k,m) when m â‰  n-1.\n\nBut maybe more precisely, the conjecture is given as (sum_{i=1}^k i(i^n - (i-1)^n))/k^n = (n/(n+1))k + 1/2 - O(1/k). So the problem is to verify and prove this, and then handle the case when m is not n-1.\n\nSo the formatted problem should capture both questions. Let's check the user's example again: the problem part was a single sentence. Here, the user has two questions, but the format requires the problem to be stated. The example had \"Prove that... is divisible by 91.\" So the problem should be a single statement, but perhaps combining the two questions.\n\nAlternatively, maybe the problem can be split into two parts. However, the user's format example shows a single problem statement. Therefore, perhaps the problem should be written as:\n\nProblem: Determine whether the conjecture for ð”¼(n,k,n-1) is correct and prove it. Additionally, analyze how to compute ð”¼(n,k,m) when m â‰  n-1.\n\nBut the original conjecture is more specific, so the problem statement should mention the conjecture's form.\n\nAlternatively, restate the conjecture as part of the problem.\n\nThe user's conjecture is that:\n\nð”¼(n,k,n-1) = [sum_{i=1}^k i(i^n - (i-1)^n)] / k^n = (n/(n+1))k + 1/2 - O(1/k)\n\nTherefore, the problem is to prove or disprove this conjecture and extend the analysis to general m.\n\nSo putting it all together:\n\nAssumptions:\n\n- n, k are positive integers,\n- m is a non-negative integer,\n- m is less than n,\n- each die is k-sided with faces numbered 1 to k,\n- dice are fair and rolled independently,\n- when rolling n dice, the lowest m are discarded, and the average of the remaining (n - m) is calculated.\n\nProblem: Prove or disprove the conjecture that ð”¼(n,k,n-1) equals (n/(n+1))k + 1/2 - O(1/k). Additionally, determine how to compute ð”¼(n,k,m) when m â‰  n-1.\n\nBut the assumptions need to be line by line, each addressing one property or condition applied to one object. So:\n\nAssumption: n is a positive integer,\n\nAssumption: k is a positive integer,\n\nAssumption: m is a non-negative integer,\n\nAssumption: m is less than n,\n\nAssumption: Each die has k sides labeled from 1 to k,\n\nAssumption: Each die is fair,\n\nAssumption: Dice rolls are independent,\n\nAssumption: When rolling n dice, the lowest m values are discarded,\n\nAssumption: The expected value ð”¼(n,k,m) is the average of the remaining (n - m) dice.\n\nBut this may be too granular. For example, \"When rolling n dice, the lowest m values are discarded\" and \"The expected value is the average...\" can be part of the problem statement. However, according to the user's example, assumptions are the conditions given. In the example, the assumption was n is an integer and n divisible by 7. The problem was to prove A(n) is divisible by 91. So in that case, the assumptions were specific conditions on n. Similarly, here, the problem's assumptions would be the conditions necessary for the problem to be posed, such as m being less than n, dice being fair, etc.\n\nTherefore, the assumptions would be:\n\n- n is a positive integer,\n\n- k is a positive integer,\n\n- m is a non-negative integer,\n\n- m is less than n,\n\n- Each die is a fair k-sided die with faces numbered 1 through k,\n\n- When rolling n dice, the lowest m are discarded,\n\n- The expected value ð”¼(n,k,m) is the average of the remaining (n - m) dice.\n\nEach of these is a separate line. Then the problem is the two questions: verifying the conjecture and handling m â‰  n-1.\n\nSo the final formatted problem would be:\n\nAssumption:\n\nn is a positive integer,\n\nk is a positive integer,\n\nm is a non-negative integer,\n\nm is less than n,\n\nEach die is a fair k-sided die with faces numbered 1 through k,\n\nWhen rolling n dice, the lowest m are discarded,\n\nThe expected value ð”¼(n,k,m) is the average of the remaining (n - m) dice.\n\nProblem: Prove or disprove the conjecture that ð”¼(n,k,n-1) = (n/(n+1))k + 1/2 - O(1/k). Additionally, determine how to compute ð”¼(n,k,m) when m â‰  n-1.\n\nBut need to check if the problem statement in the original question mentions discarding the lowest m and taking the average. Yes, the user defines ð”¼(n,k,m) as the expected average. So that's covered in assumptions.\n\nAlso, the user's conjecture includes the expression with the sum, so maybe the problem should state the conjecture as given.\n\nWait, the user's conjecture is written as:\n\nsum_{i=1}^k i(i^n - (i-1)^n)/k^n = (n/(n+1))k + 1/2 - O(1/k)\n\nSo the problem is to verify if this is correct for ð”¼(n,k,n-1), and then handle other m.\n\nTherefore, the problem statement would be:\n\nProve or disprove that for ð”¼(n,k,n-1), the expression (sum_{i=1}^k i(i^n - (i-1)^n))/k^n equals (n/(n+1))k + 1/2 - O(1/k). Additionally, analyze ð”¼(n,k,m) for general m.\n\nBut in the user's example, the problem was concise. So maybe:\n\nProblem: Prove or disprove the conjecture that ð”¼(n,k,n-1) = (n/(n+1))k + 1/2 - O(1/k). Also, determine how to compute ð”¼(n,k,m) when m â‰  n-1.\n\nYes, that's concise and captures both questions.",
    "Original_Problem": "Assumption: \nn is a positive integer,\nk is a positive integer,\nm is a non-negative integer,\nm is less than n,\nEach die is a fair k-sided die with faces numbered 1 through k,\nWhen rolling n dice, the lowest m values are discarded,\nThe expected value $\\Bbb{E}(n,k,m)$ is the average of the remaining $(n - m)$ dice.\nProblem:\nProve or disprove the conjecture that $$\\Bbb{E}(n,k,n-1) = \\frac{n}{n+1}k + \\frac{1}{2} - \\mathcal{O}\\left(\\frac{1}{k}\\right).$$ Additionally, determine how to compute $\\Bbb{E}(n,k,m)$ when $m \\ne n-1$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: n is a positive integer,\nAssumption 2: k is a positive integer,\nAssumption 3: m is a non-negative integer,\nAssumption 4: m is less than n,\nAssumption 5: Each die is a fair k-sided die with faces numbered 1 through k,\nAssumption 6: When rolling n dice, the lowest m values are discarded,\nAssumption 7: The expected value $\\Bbb{E}(n,k,m)$ is the average of the remaining $(n - m)$ dice.\nProblem:\nProve or disprove the conjecture that $$\\Bbb{E}(n,k,n-1) = \\frac{n}{n+1}k + \\frac{1}{2} - \\mathcal{O}\\left(\\frac{1}{k}\\right).$$ Additionally, determine how to compute $\\Bbb{E}(n,k,m)$ when $m \\ne n-1$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\\sum_{x=0}^{k-1}x^n\n={1\\over n+1}\\left[k^{n+1}-{1\\over 2}(n+1)k^n+O(k^{n-1})\\right]$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: n is a positive integer,\nAssumption 2: k is a positive integer,\nAssumption 3: m is a non-negative integer,\nAssumption 4: m is less than n,\nAssumption 5: Each die is a fair k-sided die with faces numbered 1 through k,\nAssumption 6: When rolling n dice, the lowest m values are discarded,\nAssumption 7: The expected value $\\Bbb{E}(n,k,m)$ is the average of the remaining $(n - m)$ dice.\nAssumption 8: $$\\sum_{x=0}^{k-1}x^n\n={1\\over n+1}\\left[k^{n+1}-{1\\over 2}(n+1)k^n+O(k^{n-1})\\right]$$\nProblem:\nProve or disprove the conjecture that $$\\Bbb{E}(n,k,n-1) = \\frac{n}{n+1}k + \\frac{1}{2} - \\mathcal{O}\\left(\\frac{1}{k}\\right).$$ Additionally, determine how to compute $\\Bbb{E}(n,k,m)$ when $m \\ne n-1$."
}