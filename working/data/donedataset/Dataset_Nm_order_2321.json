{
    "Link_API": "https://api.stackexchange.com/2.3/questions/703817",
    "Title": "The Probabilistic Pigeon Hole Principle",
    "Score": 15,
    "Category": "Chứng minh",
    "Tags": "probability, limits, pigeonhole-principle",
    "Link": "https://math.stackexchange.com/questions/703817/the-probabilistic-pigeon-hole-principle",
    "Content": "Many people are aware of the Pigeonhole Principle: If we distribute $n+1$ pigeons into $n$ pigeonholes, at least one hole will contain at least two pigeons. However, much fewer are aware of the $\\bf{Probabilistic}$ Pigeonhole Principle, which answers the question, 'How many do we usually need?' Those familiar with the famous birthday problem might have good intuition for this. Let's recall the birthday problem: How many (randomly chosen) people do you need in a room for the probability that some two share a birthday to be more than 1/2? Wikipedia has a nice article on this here . (If this is the first time you've heard the question, it's a great one to think about.) For most  people, the answer is quite a surprise, as it is only 23. Returning to the general problem, if we randomly distribute $n^{1/2}$ pigeons into $n$ pigeonholes, the probability of some overlap approaches 1, as $n \\to \\infty$. Let's state that more precisely: Take any $\\epsilon > 0.$ Randomly place $\\lfloor n^{1/2 + \\epsilon} \\rfloor$ pigeons into $n$ holes. (Each is placed independently of the others and with uniform distribution.) Let $\\Pr{(n,\\epsilon)}$ be the probability that at least two pigeons are placed in the same hole. Then we have, \n$$\\lim_{n \\to \\infty} \\Pr{(n,\\epsilon)} = 1.$$ \nI'm having some trouble proving this, and I also haven't found a proof online. In any case, the proof itself should not be difficult. Here is what I have so far: Let $m = \\lfloor n^{1/2 + \\epsilon} \\rfloor$. Then we have, $$\\Pr{(n,\\epsilon)} = 1 - \\frac{(n)_m}{n^m},$$ where $(n)_m$ is the falling factorial. i.e. $(n)_m = n(n-1)\\times \\ldots \\times (n-(m-1))$. I tried applying Stirling's formula but after doing some algebraic manipulatoin, I couldn't quite finish the proof. (I also crunched some numbers with Python, providing some numerical evidence.) So, what would be a proof of this? Here is an extra note on my background to the question. I first became acquainted with it at a math conference when two people, (Piotr Przytycki and another person, whose name I don't recall), gave a short introduction to random (finitely presented) groups. The above principle is used to prove part of a basic result. You can read it in the literature on the bottom of page 31 of the excellent 2005 survey article (on random groups) which Yann Ollivier wrote.",
    "AcceptedAnswer": "Suggestion: Forget about the pigeons and holes and think about balls and bins instead! (an equivalent but more common model in the probabilistic literature). The following is an outline of a proof you may find here : Let $C(n,m)$ be the collision probability when randomly throwing $m < n$ balls into $n$ bins (or $m$ pigeons into $n$ holes?!). Then we have:\n$$1-C(n,m) = \\prod_{i=1}^{m-1} \\left(1-\\frac i n\\right)$$\nSince $\\frac i n <1$, we can apply the inequality $1-x\\le e^{-x}$ to get:\n$$\\prod_{i=1}^{m-1} \\left(1-\\frac i n\\right) \\le  \\exp\\left(-\\frac {m(m-1)}{2n}\\right)$$ In your case, $m$ is asymptotically bigger than $\\sqrt{n}$ which means $m(m-1)$ is asymptotically bigger than $n$; hence $\\exp\\left(-\\frac {m(m-1)}{2n}\\right)$ - or the probability of having no collision - tends to zero as $n$ goes to infinity.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \nEach pigeon is placed into one of $n$ pigeonholes with uniform distribution,\nPlacements of pigeons are independent events,\nThe number of pigeons is $m = \\lfloor n^{1/2 + \\epsilon} \\rfloor$,\n$\\epsilon$ is a positive real number ($\\epsilon > 0$),\n$\\Pr{(n,\\epsilon)}$ is the probability that at least two pigeons occupy the same hole,\nThe limit is evaluated as $n \\to \\infty$.\nProblem: \nProve that $$\\lim_{n \\to \\infty} \\Pr{(n,\\epsilon)} = 1.$$\n###",
    "reasoning_create_structured_problem": "Okay, let me try to parse this problem. The user is talking about the Probabilistic Pigeonhole Principle, relating it to the birthday problem. The main goal is to prove that if you randomly place a certain number of pigeons into n pigeonholes, the probability that at least two pigeons end up in the same hole approaches 1 as n becomes large. Specifically, the number of pigeons is the floor of n raised to the power (1/2 + ε), where ε is any positive number. \n\nFirst, I need to extract the assumptions. Let's see. The problem states that each pigeon is placed independently with a uniform distribution across the n holes. The number of pigeons is m = floor(n^{1/2 + ε}). The probability Pr(n, ε) is the probability of at least one collision. The user also mentions that the proof involves using the expression 1 - (n)_m / n^m, where (n)_m is the falling factorial. \n\nSo, for the assumptions, each point should address one condition or property. Let's list them:\n\n1. Pigeons are placed randomly into n pigeonholes.\n2. Each pigeon is placed independently of the others.\n3. The distribution of each pigeon's placement is uniform over the n holes.\n4. The number of pigeons is m = floor(n^{1/2 + ε}).\n5. ε is any positive real number (ε > 0).\n6. Pr(n, ε) is the probability that at least two pigeons are in the same hole.\n7. The limit as n approaches infinity of Pr(n, ε) is to be proven equal to 1.\n\nWait, the original problem says \"Take any ε > 0.\" So ε is given as an arbitrary positive number. Also, m is floor(n^{1/2 + ε}), which is roughly n^{1/2 + ε} for large n. The problem is to show that the probability approaches 1 as n goes to infinity.\n\nNow, the user's attempt uses the expression 1 - (n)_m / n^m, which is correct because (n)_m / n^m is the probability that all m pigeons are in distinct holes. So 1 minus that is the probability of at least one collision. The challenge is to show that this tends to 1 as n grows. \n\nThe user tried using Stirling's formula but couldn't finish. Maybe the key here is to approximate the falling factorial divided by n^m and show that it tends to 0. Taking the logarithm might help. Let me think. The logarithm of (n)_m / n^m is the sum from k=0 to m-1 of ln(1 - k/n). Then approximate this sum for large n. Since m is n^{1/2 + ε}, which is much smaller than n (since 1/2 + ε > 1/2, but if ε is positive, say 0.1, then it's n^{0.6}), then k/n is roughly n^{-0.4} for each term. Then ln(1 - k/n) ≈ -k/n - (k/n)^2 / 2 - ... So summing from k=1 to m-1, the sum would be approximately - sum_{k=1}^{m-1} k/n = - m(m-1)/(2n) ≈ - m²/(2n). Since m is n^{1/2 + ε}, m² = n^{1 + 2ε}. Then m²/n = n^{2ε}. Since ε > 0, this exponent is positive, so m²/(2n) tends to infinity as n grows. Therefore, the logarithm tends to -infinity, so the original expression (n)_m / n^m tends to 0, hence the probability 1 - that tends to 1. \n\nTherefore, the key step is approximating the logarithm of the probability and showing that it tends to -infinity. But the user mentioned Stirling's formula, so maybe they tried expanding (n)_m as n! / (n - m)! and then applying Stirling? Not sure. Alternatively, using the approximation ln(n)_m = sum ln(n - k) from k=0 to m-1, which can be approximated by integrals. \n\nIn any case, the main assumptions are as I listed above. Let me structure them properly:\n\nAssumption 1: Each pigeon is placed into one of n pigeonholes uniformly at random. (Uniform distribution)\nAssumption 2: Placement of each pigeon is independent of others. (Independence)\nAssumption 3: The number of pigeons is m = floor(n^{1/2 + ε}). (m defined in terms of n and ε)\nAssumption 4: ε is a positive real number. (ε > 0)\nAssumption 5: Pr(n, ε) is the probability that at least two pigeons share a hole. (Definition of the probability)\nAssumption 6: The limit is taken as n approaches infinity. (n → ∞)\n\nEach of these addresses a single property. Now, the problem is to prove that the limit of Pr(n, ε) as n approaches infinity is 1.",
    "Original_Problem": "Assumption: \nEach pigeon is placed into one of $n$ pigeonholes with uniform distribution,\nPlacements of pigeons are independent events,\nThe number of pigeons is $m = \\lfloor n^{1/2 + \\epsilon} \\rfloor$,\n$\\epsilon$ is a positive real number ($\\epsilon > 0$),\n$\\Pr{(n,\\epsilon)}$ is the probability that at least two pigeons occupy the same hole,\nThe limit is evaluated as $n \\to \\infty$.\nProblem: \nProve that $$\\lim_{n \\to \\infty} \\Pr{(n,\\epsilon)} = 1.$$",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: Each pigeon is placed into one of $n$ pigeonholes with uniform distribution,\nAssumption 2: Placements of pigeons are independent events,\nAssumption 3: The number of pigeons is $m = \\lfloor n^{1/2 + \\epsilon} \\rfloor$,\nAssumption 4: $\\epsilon$ is a positive real number ($\\epsilon > 0$),\nAssumption 5: $\\Pr{(n,\\epsilon)}$ is the probability that at least two pigeons occupy the same hole,\nAssumption 6: The limit is evaluated as $n \\to \\infty$.\nProblem: \nProve that $$\\lim_{n \\to \\infty} \\Pr{(n,\\epsilon)} = 1.$$",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\\prod_{i=1}^{m-1} \\left(1-\\frac i n\\right) \\le  \\exp\\left(-\\frac {m(m-1)}{2n}\\right)$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: Each pigeon is placed into one of $n$ pigeonholes with uniform distribution,\nAssumption 2: Placements of pigeons are independent events,\nAssumption 3: The number of pigeons is $m = \\lfloor n^{1/2 + \\epsilon} \\rfloor$,\nAssumption 4: $\\epsilon$ is a positive real number ($\\epsilon > 0$),\nAssumption 5: $\\Pr{(n,\\epsilon)}$ is the probability that at least two pigeons occupy the same hole,\nAssumption 6: The limit is evaluated as $n \\to \\infty$.\nAssumption 7: $$\\prod_{i=1}^{m-1} \\left(1-\\frac i n\\right) \\le  \\exp\\left(-\\frac {m(m-1)}{2n}\\right)$$\nProblem: \nProve that $$\\lim_{n \\to \\infty} \\Pr{(n,\\epsilon)} = 1.$$"
}