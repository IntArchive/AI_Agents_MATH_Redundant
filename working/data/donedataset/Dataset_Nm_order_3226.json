{
    "Link_API": "https://api.stackexchange.com/2.3/questions/267258",
    "Title": "Easy but hard question regarding concave functions!",
    "Score": 12,
    "Category": "Chứng minh",
    "Tags": "real-analysis, convex-analysis",
    "Link": "https://math.stackexchange.com/questions/267258/easy-but-hard-question-regarding-concave-functions",
    "Content": "I have a question about concave functions. Let $f:[0,T]\\rightarrow \\mathbb{R}^+$ is a concave function. Let $S=\\int_0 ^ T f(x)dx$ and $R=\\frac S T$ . Show that there is an interval $[a,b]$ , where $0\\leq a \\leq b \\leq T$ and $b-a\\geq \\frac T 2$ such that for every $x\\in [a,b]$ we have: $f(x) \\geq R$ . If $f$ is non-decreasing function it is quite simple since by use of Jensen's inequality one can argue that $\\frac 1 T \\int_0 ^T f(x)dx \\leq f(\\frac T 2)$ . Also I could prove this for piecewise linear concave functions. My proof is by induction on the number of line segments in the piecewise linear concave function. It is messy and use lots of geometric stuff. I wonder if there are any nice and tidy proofs for general concave functions. Any comments is much appreciated!",
    "AcceptedAnswer": "I liked this problem, it takes me way back! Here's my approach. It does rely on a few geometric notions but I like to think it is reasonably elementary and not too ugly (and that there are no mistakes). Set $$\na := \\inf \\left\\{ x \\in [0,T] \\; : \\; f(x) \\geq R \\right\\}\n$$ $$\nb := \\sup\\left\\{ x \\in [0,T] \\; : \\; f(x) \\geq R \\right\\}\n$$ Let us focus on the general case in which $f(a) = f(b) = R$ (this will always happen if, say, $a$ and $b$ fall in the interior of $[0,T]$). In view of the concativity, there are constants $T_a, T_b > 0$ ($T$ for \"tangent\") such that $$\nf(x) \\leq T_a(x-a) + R\n$$ and $$\nf(x) \\leq T_b(b-x) + R\n$$ for all $x \\in [0,T]$. Do draw a diagram and then consider the (measurable) curvilinear sets: $$\nX := \\left\\{ (x,y) \\in \\mathbb{R}^2 \\; : \\; 0 \\leq x \\leq a, \\; f(x) \\leq y \\leq R \\right\\}\n$$ $$\nY := \\left\\{ (x,y) \\in \\mathbb{R}^2 \\; : \\; a \\leq x \\leq b, \\; R \\leq y \\leq f(x) \\right\\}\n$$ $$\nZ := \\left\\{ (x,y) \\in \\mathbb{R}^2 \\; : \\; b \\leq x \\leq T, \\; f(x) \\leq y \\leq R \\right\\}\n$$ Note that the constant $R$ is the mean value of $f$ and is such that $\\mathscr{L}^2(Y) = \\mathscr{L}^2(X) + \\mathscr{L}^2(Z)$, with $\\mathscr{L}^2$ denoting Lebesgue measure. Our linear concativity estimates above allow us to further estimate these measures from above and below by the measures of certain triangles (looking at your diagram is going to help here). In particular, we may estimate $\\mathscr{L}^2(Y)$ from above by the area of the triangle determined by the lines $y = T_a(x-a)+R$, $y = T_b(b-x)+R$, and $y = R$. Some basic Euclidean geometry then gives $$\n\\mathscr{L}^2(Y) \\leq \\frac{1}{2} \\frac{(b-a)^2 T_a T_b}{T_a+T_b}\n$$ (The right hand side is simply the area of the triangle.) Similarly bound $\\mathscr{L}^2(X)$ from below by the area of the orthogonal triangle $x = 0$, $y = R$, $y = T_a(x-a)+R$, and $\\mathscr{L}^2(Z)$ from below by the area of the corresponding triangle on the right determined by $x = T$, $y = R$, $y = T_b(b-x)+R$. $$\n\\mathscr{L}^2(X) + \\mathscr{L}^2(Z) \\geq \\frac{1}{2} a^2 T_a + \\frac{1}{2} (T-b)^2 T_b\n$$ Since $\\mathscr{L}^2(Y) = \\mathscr{L}^2(X) + \\mathscr{L}^2(Z)$, we need have $$\n\\frac{1}{2} \\frac{(b-a)^2 T_a T_b}{T_a + T_b} \\geq \\frac{1}{2} a^2 T_a + \\frac{1}{2} (T-b)^2 T_b\n$$ Things start to look a little hopeful around here; indeed we are close. Canceling the $\\frac{1}{2}$ factor and multiplying through by $\\frac{T_a+T_b}{T_a T_b}$ we get $$\n(b-a)^2 \\geq a^2 \\frac{T_a + T_b}{T_b} + (T-b)^2 \\frac{T_a + T_b}{T_a} = a^2 + (T-b)^2 + a^2 \\frac{T_a}{T_b} + (T-b)^2 \\frac{T_b}{T_a}\n$$ We may of course estimate the last two terms by AM-GM (or $x^2 + y^2 \\geq 2xy$) and get $$\n(b-a)^2 \\geq a^2 + (T-b)^2 + 2a(T-b) = (T-b+a)^2\n$$ from where it follows that $b-a \\geq \\frac{1}{2} T$. This settles the \"general case\" where $f(a) = f(b) = R$. In some situations $f(a)$ or $f(b)$ (but not both) may fail to equal $R$. This boundary situation is easily amenable. In that case we have $f(a) = R$, $f(b) > R$, $b = T$ (or with $a$ and $0$ in place of $b$ and $T$). Then instead of comparing the areas of three triangles (one scalene, two orthogonal), we just compare the areas of two orthogonal triangles (one defined by $x = 0$, $y = R$, $y = T_a(x-a)+R$, and the other one defined by $x = T$, $y = R$, $y = T_a(x-a)+R$). This is much easier and immediately gives $a \\leq \\frac{1}{2} T$, $b = T$.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \nf is a function defined on the interval $[0, T]$,\nThe codomain of $f$ is $\\mathbb{R}^+$,\n$f$ is concave on $[0, T]$,\n$S$ is the integral of $f$ over $[0, T]$,\n$R$ is defined as $\\frac{S}{T}$.\nProblem: \nShow that there exists an interval $[a, b]$ where $0 \\leq a \\leq b \\leq T$ and $b - a \\geq \\frac{T}{2}$ such that for every $x \\in [a, b]$, $f(x) \\geq R$.\n###",
    "reasoning_create_structured_problem": "Okay, let me try to parse this problem. The user is asking about concave functions on an interval [0, T]. The function f is concave, defined from [0, T] to the positive real numbers. They define S as the integral of f from 0 to T, and R is S divided by T, which is like the average value of f over the interval. The goal is to show there's an interval [a, b] where the length b - a is at least T/2, and for every x in [a, b], f(x) is at least R. \n\nThe user mentions that if f is non-decreasing, it's straightforward using Jensen's inequality, leading to the average being less than or equal to f(T/2). They also handled piecewise linear concave functions with induction but want a general proof. \n\nSo, first, let's list the assumptions. The function f is concave on [0, T], maps to R⁺. Then, S is the integral, R is S/T. The problem is to find an interval [a, b] with length ≥ T/2 where f(x) ≥ R for all x in [a, b]. \n\nWait, the original problem says f is concave. The user's example had assumptions for the problem, not necessarily the user's attempt. So in the assumptions, we need to list all the given conditions. Let's check:\n\nAssumptions:\n1. f is a function defined on the interval [0, T].\n2. The codomain of f is ℝ⁺ (positive real numbers).\n3. f is concave on [0, T].\n4. S is the integral of f over [0, T].\n5. R is defined as S divided by T.\n\nProblem statement: Show there exists an interval [a, b] with 0 ≤ a ≤ b ≤ T, b - a ≥ T/2, such that for all x in [a, b], f(x) ≥ R.\n\nWait, but the original question's problem part is: Show that there is an interval [a,b], where 0 ≤a ≤b ≤T and b−a ≥ T/2 such that for every x ∈ [a,b] we have: f(x) ≥ R.\n\nSo in the formatted problem, we need to list all assumptions given in the problem, not the user's attempts. The user mentions that f is concave, defined on [0,T] to R⁺, and the definitions of S and R. The problem is to show the existence of such an interval.\n\nSo the assumptions should be:\n\n- f: [0, T] → ℝ⁺ is a concave function.\n- S is the integral of f over [0, T].\n- R is defined as S/T.\n\nWait, but maybe splitting each assumption line by line. Let's check the example given. In the example, the original problem had \"for every integer n\", and the assumption listed \"n is an integer\" and \"n is divisible by 7\". Wait, but in the original problem, the user had the problem without the divisibility by 7. Wait, the example given by the user might be their own problem. Wait, in the example, the original problem says \"for every integer n\", but the formatted problem's assumption includes \"n is divisible by 7\". Hmm, so maybe the example is a different case. Wait, perhaps the user gave an example where they added an assumption. But perhaps in our case, the problem as stated doesn't have any hidden assumptions except those given. So the problem's assumptions are:\n\n- The domain of f is [0, T].\n- The codomain of f is ℝ⁺.\n- f is concave on [0, T].\n- S = ∫₀^T f(x)dx.\n- R = S/T.\n\nBut each assumption should address only one property or condition applied to one object. So breaking them down:\n\n1. f is a function with domain [0, T].\n2. The codomain of f is ℝ⁺.\n3. f is concave on [0, T].\n4. S is the integral of f over [0, T].\n5. R is equal to S divided by T.\n\nBut the problem statement is to show the existence of the interval [a, b] with those properties.\n\nWait, but maybe 4 and 5 can be combined as \"R is defined as (1/T) times the integral of f over [0, T].\" But according to the example, each assumption is a separate line. So S is the integral, R is S/T. So perhaps each definition is an assumption.\n\nTherefore, the formatted problem would be:\n\nAssumption:\nf is a function from [0, T] to ℝ⁺,\nf is concave on [0, T],\nS is the integral of f over [0, T],\nR is equal to S divided by T.\n\nProblem:\nShow that there exists an interval [a, b] with 0 ≤ a ≤ b ≤ T and b - a ≥ T/2 such that for every x ∈ [a, b], f(x) ≥ R.\n\nBut the example in the user's instruction had \"n is an integer\" and \"n is divisible by 7\". Wait, the original problem in the example was \"for every integer n\", but the formatted problem had an assumption that \"n is divisible by 7\". So perhaps the user modified the original problem in the example. Therefore, the key is to extract only the assumptions given in the problem, not the user's attempts or additional conditions. In the current problem, the user states the problem as:\n\n\"Show that there is an interval [a,b], where 0 ≤ a ≤ b ≤ T and b-a ≥ T/2 such that for every x ∈ [a,b] we have: f(x) ≥ R.\"\n\nGiven that, the assumptions are:\n\n- f: [0, T] → ℝ⁺ is concave.\n- S = ∫₀^T f(x) dx.\n- R = S / T.\n\nSo each of these should be separate assumptions. Hence:\n\nAssumption:\nf is a function defined on the interval [0, T],\nThe codomain of f is ℝ⁺,\nf is concave on [0, T],\nS is the integral of f over [0, T],\nR is defined as S divided by T.\n\nProblem:\nShow that there exists an interval [a, b] where 0 ≤ a ≤ b ≤ T and b - a ≥ T/2 such that for every x ∈ [a, b], f(x) ≥ R.\n\nYes, that seems correct. Each assumption is a single line, each addressing one property or condition of one object. So the answer should follow this structure.",
    "Original_Problem": "Assumption: \nf is a function defined on the interval $[0, T]$,\nThe codomain of $f$ is $\\mathbb{R}^+$,\n$f$ is concave on $[0, T]$,\n$S$ is the integral of $f$ over $[0, T]$,\n$R$ is defined as $\\frac{S}{T}$.\nProblem: \nShow that there exists an interval $[a, b]$ where $0 \\leq a \\leq b \\leq T$ and $b - a \\geq \\frac{T}{2}$ such that for every $x \\in [a, b]$, $f(x) \\geq R$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: f is a function defined on the interval $[0, T]$,\nAssumption 2: The codomain of $f$ is $\\mathbb{R}^+$,\nAssumption 3: $f$ is concave on $[0, T]$,\nAssumption 4: $S$ is the integral of $f$ over $[0, T]$,\nAssumption 5: $R$ is defined as $\\frac{S}{T}$.\nProblem: \nShow that there exists an interval $[a, b]$ where $0 \\leq a \\leq b \\leq T$ and $b - a \\geq \\frac{T}{2}$ such that for every $x \\in [a, b]$, $f(x) \\geq R$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\n(b-a)^2 \\geq a^2 + (T-b)^2 + 2a(T-b) = (T-b+a)^2\n$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: f is a function defined on the interval $[0, T]$,\nAssumption 2: The codomain of $f$ is $\\mathbb{R}^+$,\nAssumption 3: $f$ is concave on $[0, T]$,\nAssumption 4: $S$ is the integral of $f$ over $[0, T]$,\nAssumption 5: $R$ is defined as $\\frac{S}{T}$.\nAssumption 6: $$\n(b-a)^2 \\geq a^2 + (T-b)^2 + 2a(T-b) = (T-b+a)^2\n$$\nProblem: \nShow that there exists an interval $[a, b]$ where $0 \\leq a \\leq b \\leq T$ and $b - a \\geq \\frac{T}{2}$ such that for every $x \\in [a, b]$, $f(x) \\geq R$."
}