{
    "Link_API": "https://api.stackexchange.com/2.3/questions/1357982",
    "Title": "On the inequality $\\frac{1+p(1)+p(2) + \\dots + p(n-1)}{p(n)} \\leq \\sqrt {2n}.$",
    "Score": 20,
    "Category": "Chứng minh",
    "Tags": "combinatorics, inequality, contest-math, integer-partitions",
    "Link": "https://math.stackexchange.com/questions/1357982/on-the-inequality-frac1p1p2-dots-pn-1pn-leq-sqrt-2n",
    "Content": "For all positive integers $n$, $p(n)$ is the number of partitions of $n$ as the sum of positive integers (the partition numbers ); e.g. $p(4)=5$ since \n  $4=1+1+1+1=1+1+2=1+3=2+2=4.$ Prove that: $\\dfrac{1+p(1)+p(2) + \\dots + p(n-1)}{p(n)} \\leq \\sqrt {2n}.$ This problem is from a Turkish contest. Maybe it's a well known result. More information about the partition numbers can be found at OEIS . Any help would be appreciated.",
    "AcceptedAnswer": "We give a proof of the strict inequality\n$$\n\\frac{1 + p(1) + p(2) + \\cdots + p(n-1)}{p(n)} < \\sqrt{2n}.\n$$\nThe square root arises by first proving an upper bound\n$(k-1)/2 + (n/k)$ for any integer $k \\geq 1$, and then minimizing over $k$;\nthis kind of thing is seen often in analysis, but isn't a common tactic\nin the inequalities that appear in competition math. It is convenient and natural to extend the definition of $p(n)$\nto all integers by setting $p(n) = 0$ for all $n < 0$ and $p(0) = 1$.\nIn particular, the numerator $1 + p(1) + p(2) + p(3) + \\cdots$\nin the fraction of interest is\n$$\ns_1 := \\sum_{n' < n} p(n') = \\sum_{m=1}^\\infty p(n-m).\n$$\nThen for all $n$ the $p(n)$ partitions of $n$ can be identified with\nsolutions of\n$$\nn = \\sum_{i=1}^\\infty i a_i = a_1 + 2 a_2 + 3 a_3 + 4 a_4 + \\cdots\n$$\nin nonnegative integers $a_i$ that vanish for all but finitely many $i$.\n(Each $a_i$ is the number of times that $i$ occurs in the partition.)\nOf course $p(n)$ is the sum of $1$ over such solutions $(a_1,a_2,a_3,\\ldots)$.\nThe first key point is: Lemma 1. $s_1$ is the sum of $a_1$ over\npartitions $(a_1,a_2,a_3,\\ldots)$ of $n$. This can be proved using generating functions, or combinatorially from Lemma 2. $p(n) - p(n-1)$ is the number of\npartitions $(a_1,a_2,a_3,\\ldots)$ of $n$ with $a_1 = 0$. Proof : The partitions with $a_1 > 0$ are in bijection with the\npartitions of $n-1$ by $(a_1,a_2,a_3,\\ldots) \\mapsto (a_1-1,a_2,a_3,\\ldots)$.\n$\\Box$ ( Corollary 1 : $p(n) \\geq p(n-1)$ for all $n$, with equality iff $n=1$. ) Now Lemma 1 can be proved by bijecting, for each $m$, the\npartitions of $n$ with $a_1 = m$ with partitions of $n-m$ with $a_1=0$,\nand summing over $m$. The next point is to generalize Lemma 1 to a formula for the sum of\n$a_i$ over partitions of $n$: Lemma 3. For $i \\geq 1$ define\n$$\ns_i := \\sum_{m=1}^\\infty p(n-im).\n$$\nThen $s_i$ is the sum of $a_m$ over partitions $(a_1,a_2,a_3,\\ldots)$ of $n$. Proof as before, generalizing Lemma 2 to: $p(n) - p(n-i)$ is the number of\npartitions $(a_1,a_2,a_3,\\ldots)$ of $n$ with $a_i = 0$. $\\Box$ Lemma 4. $\\sum_{i\\geq 1} i s_i = n p(n)$. Proof : By Lemma 3 $\\sum_{i\\geq 1} i s_i$ is the sum,\nagain over partitions of $n$, of $\\sum_i i a_i$, which is $n$. $\\Box$ [ David Speyer notes in a comment that this too can be obtained from the\ngenerating function\n$\\sum_{n\\geq 0} p(n) x^n = \\prod_{i \\geq 1} (1-x^i)^{-1}$,\nhere by applying the operator $x \\frac{d}{dx}$.] Corollary 2. For any $k$ we have $\\sum_{i=1}^k i s_i \\leq n p(n)$. That's an inequality on a linear combination of $s_1,\\ldots,s_k$.\nTo reach an inequality on just $s_1$, we use: Lemma 5. For all $i\\geq 1$ we have $s_1 + p(n) \\leq i(s_i + p(n))$. Proof : Note that $s_i + p(n) = \\sum_{i \\geq 0} p(n-im)$.  Hence $ i (s_i + p(n)) = \\sum_{i \\geq 0} i p(n-im) $ $ \\phantom{i (s_i + p(n))} \\leq \\sum_{i \\geq 0}\n   \\bigl(p(n-im) + p(n-im-1) + p(n-im-2) + \\cdots + p(n-im-(i-1) \\bigr)$ $ \\phantom{i (s_i + p(n))} = s_1 + p(n),$ using Corollary 1 in the middle step. $\\Box$ Combining Lemma 5 with Corollary 2 yields\n$$\nnp(n) \\geq \\sum_{i=1}^k i s_i \\geq \\sum_{i=1}^k (s_1 - (i-1) p_n)\n= k s_1 - {k \\choose 2} p(n),\n$$\nwhence\n$$\ns_1 \\leq \\left( \\frac{k-1}{2} + \\frac{n}{k} \\right) p(n).\n$$\nIt remains to choose the integer $k$ so as to minimize the upper bound\n$(k-1)/2 + (n/k)$.  The final lemma is elementary but takes some verbiage\nto prove in full, and this post is already quite long,\nso I'll leave it as an exercise: Lemma 6 : The minimal value of $\\frac{k-1}{2} + \\frac{n}{k}$ over\nintegers $k \\geq 1$ is attained iff ${k \\choose 2} \\leq n \\leq {k+1 \\choose 2}$.  This minimal value\nis smaller than $\\sqrt{2n}$ for all $n$. (Note that if $n = {\\kappa \\choose 2}$ then there are two choices of $k$,\nnamely $k=\\kappa$ and $k = \\kappa-1$; else the choice is unique.\nFor large $n$, the optimal value(s) of $k$ grow(s) as $\\sqrt{n/2}$,\nwhich is indeed where $k/2 + n/k$ attains its minimum of $\\sqrt{2n}$.) Combining Lemmas 6 with the inequality for $s_1$ (displayed below Lemma 5)\nyields the desired inequality $s_1 / p(n) < \\sqrt{2n}$, QED .",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \nn is a positive integer,\np(n) is the number of partitions of n as the sum of positive integers.\nproblem:\nProve that $$\\dfrac{1+p(1)+p(2) + \\dots + p(n-1)}{p(n)} \\leq \\sqrt {2n}.$$\n###END_OF_FORMAT###",
    "reasoning_create_structured_problem": "Okay, let's tackle this problem. So, the goal is to prove that for all positive integers n, the ratio of the sum of partition numbers up to p(n-1) plus 1, divided by p(n), is less than or equal to the square root of 2n. Hmm, partition numbers grow pretty quickly, right? I remember that p(n) increases exponentially or something like that. So the sum in the numerator is like the cumulative number of partitions for all numbers up to n-1, plus 1. The denominator is just the partition number for n. \n\nFirst, I need to recall some properties of partition numbers. I know there's the Hardy-Ramanujan-Rademacher formula for the asymptotic behavior of p(n). Maybe that could help here. The asymptotic formula is something like p(n) ~ (1/(4n√3)) * e^(π√(2n/3)). That's an exponential growth, so p(n) grows much faster than the sum of previous terms? Wait, but the sum in the numerator is 1 + p(1) + p(2) + ... + p(n-1). If each term p(k) is growing exponentially, then the sum might be comparable to p(n-1) itself? Or maybe even dominated by the last few terms?\n\nAlternatively, perhaps there's an inequality or recursive relation for partition numbers that can be used here. Let's see, for example, the generating function for partitions is the product over k >= 1 of 1/(1 - x^k). But I'm not sure how that directly helps here. Maybe induction is a possible approach? If we can show that the inequality holds for n=1, and then assume it holds for some n and prove for n+1?\n\nLet's test for small n. For n=1: numerator is 1 + p(0) (but p(0) is 1 by convention?), so 1 + p(0) = 1 +1=2. Denominator is p(1)=1. So 2/1 = 2, and sqrt(2*1)=sqrt(2)≈1.414. But 2 > sqrt(2), which contradicts the inequality. Wait, but the problem statement says \"for all positive integers n\". Wait, maybe p(0) is not included? The original question says \"1 + p(1) + p(2) + ... + p(n-1)\". So when n=1, it's 1 + p(1-1)=1+p(0). But if p(0) is considered as 1, then numerator is 1 +1=2. Denominator is p(1)=1. So 2/1=2 > sqrt(2). That's a problem. But maybe the original problem has a typo, or maybe p(0) is not counted? Wait, the user wrote \"for all positive integers n\", so maybe starting from n=1. But p(0) is 1. Hmm. Alternatively, maybe the sum is from p(1) to p(n-1), but with the 1 added. Wait, the problem states: \"1 + p(1) + p(2) + ... + p(n-1)\". So for n=1, the sum is 1 + p(0) [since n-1=0]. But if p(0)=1, then sum is 1 +1=2. Then p(1)=1. So 2/1=2 > sqrt(2). That contradicts the inequality. So maybe there's a mistake in the problem statement? Or maybe the original contest problem starts from n>=2? Or perhaps the user made a typo. Alternatively, maybe p(0) isn't considered here. Wait, but partition numbers are defined for n>=0, with p(0)=1. Hmm. Let me check the original question again. The user wrote: \"For all positive integers n, p(n) is the number of partitions of n... e.g. p(4)=5... Prove that: (1 + p(1) + p(2) + ... + p(n-1))/p(n) <= sqrt(2n).\" So for n=1, the sum is 1 + p(1-1)=1 + p(0)=1+1=2. But p(1)=1, so ratio is 2/1=2, which is greater than sqrt(2*1)=1.414... So the inequality does not hold for n=1. That's a problem. Maybe the original problem intended n>=2? Or perhaps there's a miscalculation here. Alternatively, maybe the user in the contest problem had a different definition. Maybe the sum starts from p(1) without the 1. Let me check the original problem statement again. The user wrote: \"the inequality (1 + p(1) + p(2) + ... + p(n-1))/p(n) <= sqrt(2n)\". So as per the problem, for n=1, the sum is 1 + p(0). If in their definition p(0) is 0, then 1 +0=1, and p(1)=1, so 1/1=1 <= sqrt(2). But typically p(0)=1. So this suggests either the problem has a typo, or maybe the original contest problem had different indexing. Alternatively, maybe the user made a mistake in transcribing the problem. Because if the inequality is supposed to hold for all positive integers n, but fails at n=1, then something is wrong. Alternatively, maybe the problem is correct, and there's a different approach here. Wait, perhaps I'm miscalculating something. Let me check p(1). Partition of 1 is just 1, so p(1)=1. p(0) is indeed 1. So for n=1, the left side is (1 + p(0))/p(1) = (1 +1)/1=2. The right side is sqrt(2*1)=sqrt(2). So 2 > sqrt(2). Therefore, the inequality is false for n=1. So perhaps the problem is for n>=2? Then the user might have mistyped the original problem. Alternatively, maybe the 1 in the numerator is a typo. If instead, the numerator was p(1) + p(2) + ... + p(n-1), then for n=1, the sum would be empty (since n-1=0), so numerator is 0, and 0/p(1)=0 <= sqrt(2). But then for n=2, numerator is p(1)=1, denominator p(2)=2, so 1/2=0.5 <= sqrt(4)=2. True. For n=3, numerator is p(1)+p(2)=1+2=3, denominator p(3)=3, so 3/3=1 <= sqrt(6)=~2.45. True. For n=4, numerator is 1+2+3=6, denominator 5, so 6/5=1.2 <= sqrt(8)=~2.828. True. But if the original problem includes the 1, then n=1 case is problematic. Maybe the problem is from a Turkish contest and maybe in their problem statement, n starts from 2? Or perhaps the user mistyped the numerator as 1 + ... instead of something else. Alternatively, maybe the problem is correct as stated, but there's a different interpretation. Wait, maybe the definition of p(n) in the contest is different? For example, maybe p(n) counts only partitions with at least two parts? But no, the example given by the user is p(4)=5, which is the standard number. So p(4)=5, which includes the single part 4. So p(n) is standard. Therefore, perhaps the original problem has a typo. But since the user provided the problem as is, I need to structure it according to the given format. \n\nSo, the problem is to prove that for all positive integers n, [1 + p(1) + p(2) + ... + p(n-1)] / p(n) <= sqrt(2n). The example given in the problem is p(4)=5. So, perhaps the user intended n to start from 2, but the problem statement says \"for all positive integers n\". The Assumptions section should list the conditions. The problem statement mentions that n is a positive integer, and p(n) is the partition function. \n\nTherefore, in the Assumption section, we should list:\n\n- n is a positive integer.\n- p(n) is the number of partitions of n as the sum of positive integers.\n\nBut wait, the original example had \"n is an integer, n is divisible by 7.\" But in this problem, there's no such divisibility condition. So the assumptions here are that n is a positive integer, and p(n) is defined as the partition function. The problem is to prove the inequality. So, following the example, the Assumptions should be each on their own line. So:\n\nAssumption:\nn is a positive integer,\np(n) is the number of partitions of n.\n\nProblem:\nProve that $$\\dfrac{1+p(1)+p(2) + \\dots + p(n-1)}{p(n)} \\leq \\sqrt {2n}.$$\n\nBut the original example included a specific condition (divisible by 7) but here there's no such condition. So the only assumptions are that n is a positive integer and p(n) is the partition function. The problem is as stated. However, note that the user's example had redundant assumptions? Wait, in the example, the original problem was to prove divisibility by 91 for every integer n, but in the formatted problem, an assumption was added that n is divisible by 7. Wait, no, the original problem was to prove for every integer n, but in the formatted problem, the assumption was that n is an integer and n is divisible by 7. But that seems incorrect. Wait, the original problem says \"for every integer n\", so the assumption should not add \"n is divisible by 7\". So maybe there was an error in the example. Wait, looking back:\n\nOriginal problem: Prove that for every integer $n$, the number  \n$$A(n) = 5^n \\left( 5^n + 1 \\right) - 6^n \\left( 3^n + 2^n \\right)$$  \nis divisible by 91.\n\nFormatted problem:\nAssumption: \n$n$ is an integer,\n$n$ is divisible by $7$.\nProblem:\nProve that $$A(n) = 5^n \\left( 5^n + 1 \\right) - 6^n \\left( 3^n + 2^n \\right)$$  \nis divisible by 91.\n\nWait, that seems like a mistake. The original problem says \"for every integer n\", but the formatted problem adds an assumption that n is divisible by 7, which restricts n. That would make the problem incorrect. So maybe the example provided by the user is flawed. Therefore, when structuring the problem, we should only list the assumptions inherent in the problem statement, not introduce new ones. In the current problem, the assumptions are that n is a positive integer and p(n) is the partition function. There are no additional conditions, so we shouldn't add any. Hence, the formatted problem should have those two assumptions. \n\nTherefore, the correct formatted problem is:\n\nAssumption:\nn is a positive integer,\np(n) is the number of partitions of n.\n\nProblem:\nProve that $$\\dfrac{1+p(1)+p(2) + \\dots + p(n-1)}{p(n)} \\leq \\sqrt {2n}.$$\n\nEven though there's an issue with n=1, as the user provided the problem as stated, we should follow that. Perhaps in the contest, they considered n starting from 2, but according to the problem statement, it's for all positive integers n. Therefore, the assumptions are as above.",
    "Original_Problem": "Assumption: \nn is a positive integer,\np(n) is the number of partitions of n as the sum of positive integers.\nproblem:\nProve that $$\\dfrac{1+p(1)+p(2) + \\dots + p(n-1)}{p(n)} \\leq \\sqrt {2n}.$$",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: n is a positive integer,\nAssumption 2: p(n) is the number of partitions of n as the sum of positive integers.\nProblem:\nProve that $$\\dfrac{1+p(1)+p(2) + \\dots + p(n-1)}{p(n)} \\leq \\sqrt {2n}.$$",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\nn = \\sum_{i=1}^\\infty i a_i = a_1 + 2 a_2 + 3 a_3 + 4 a_4 + \\cdots\n$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: n is a positive integer,\nAssumption 2: p(n) is the number of partitions of n as the sum of positive integers.\nAssumption 3: $$\nn = \\sum_{i=1}^\\infty i a_i = a_1 + 2 a_2 + 3 a_3 + 4 a_4 + \\cdots\n$$\nProblem:\nProve that $$\\dfrac{1+p(1)+p(2) + \\dots + p(n-1)}{p(n)} \\leq \\sqrt {2n}.$$"
}