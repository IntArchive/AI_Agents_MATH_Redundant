{
    "Link_API": "https://api.stackexchange.com/2.3/questions/24095",
    "Title": "$h!\\:\\!(p-1-h)! \\equiv (-1)^{h+1}\\!\\pmod{p}$ [Wilson Reflection Formula]",
    "Score": 12,
    "Category": "Chứng minh",
    "Tags": "elementary-number-theory, prime-numbers, modular-arithmetic",
    "Link": "https://math.stackexchange.com/questions/24095/h-p-1-h-equiv-1h1-pmodp-wilson-reflection-formula",
    "Content": "Suppose that $p$ is a prime. Suppose further that $h$ and $k$ are non-negative integers such that\n$h + k = p − 1$. I want to prove that $h!k! + (−1)^h \\equiv 0 \\pmod{p}$ My first thought is that by Wilson's theorem, $(p-1)! \\equiv -1 \\pmod{p}$, and $h!k!$ divides $(p-1)!$ (definition of a binomial). Where would I go from here?",
    "AcceptedAnswer": "Use the fact that $$h! = (-1)^h (p-1)(p-2) \\dots (p-h) \\mod p$$",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$p$ is a prime,\n$h$ and $k$ are non-negative integers,\n$h + k = p - 1$.\nproblem:\nProve that $$h!k! + (-1)^h \\equiv 0 \\pmod{p}.$$\n###",
    "reasoning_create_structured_problem": "Okay, let's tackle this problem. So, the user wants to prove that for a prime p and non-negative integers h and k such that h + k = p − 1, the expression h!k! + (−1)^h is congruent to 0 modulo p. \n\nFirst, I need to recall Wilson's theorem, which states that (p-1)! ≡ -1 mod p. The user mentioned that h!k! divides (p-1)! because of the binomial coefficient. Wait, the binomial coefficient C(p-1, h) is equal to (p-1)!/(h!k!) since h + k = p -1. So maybe there's a connection here.\n\nLet me think. If C(p-1, h) is an integer, then (p-1)! must be divisible by h!k!, which makes sense. But how does that relate to the problem? The problem is about h!k! + (-1)^h ≡ 0 mod p. So perhaps we can express h!k! in terms of (p-1)! and use Wilson's theorem.\n\nGiven that h + k = p -1, we can write k = p -1 - h. So, h!k! = h!(p -1 - h)! The original problem is h!(p -1 - h)! + (-1)^h ≡ 0 mod p. So rearranged, h!(p -1 - h)! ≡ (-1)^{h+1} mod p. That's the reflection formula mentioned in the title.\n\nHow do we connect this with Wilson's theorem? Well, we know that (p-1)! = h!k! * C(p-1, h). But (p-1)! ≡ -1 mod p. So substituting, h!k! * C(p-1, h) ≡ -1 mod p. Therefore, h!k! ≡ -1 / C(p-1, h) mod p. But division in modular arithmetic is multiplication by the inverse. So if we can find C(p-1, h) inverse mod p, maybe that helps.\n\nAlternatively, maybe there's a way to express C(p-1, h) in terms of powers of -1. Let's recall that in modulo p, binomial coefficients can sometimes be related to such expressions. For example, C(p-1, h) ≡ (-1)^h mod p. Wait, is that a known theorem? Let me verify.\n\nC(p-1, h) = (p-1)(p-2)...(p - h)/h! Expanding the numerator, each term p - m ≡ -m mod p. So (p-1)(p-2)...(p - h) ≡ (-1)^h h! mod p. Therefore, C(p-1, h) ≡ (-1)^h h! / h! = (-1)^h mod p. So yes, C(p-1, h) ≡ (-1)^h mod p.\n\nTherefore, going back, we have h!k! * C(p-1, h) ≡ -1 mod p. But C(p-1, h) ≡ (-1)^h mod p, so substituting:\n\nh!k! * (-1)^h ≡ -1 mod p.\n\nMultiply both sides by (-1)^h:\n\nh!k! ≡ -1 * (-1)^{-h} mod p.\n\nBut (-1)^{-h} is the same as (-1)^h since (-1)^{-h} = [(-1)^h]^{-1} and (-1)^h is either 1 or -1, which are their own inverses mod p (since p is an odd prime, except p=2, but in p=2 case, h + k =1, which can be checked separately). So:\n\nh!k! ≡ -1 * (-1)^{-h} ≡ -1 * (-1)^h ≡ (-1)^{h +1} mod p.\n\nTherefore, h!k! ≡ (-1)^{h +1} mod p, which implies h!k! + (-1)^h ≡ (-1)^{h +1} + (-1)^h ≡ 0 mod p. Hence, the result is proven.\n\nSo the key steps were using Wilson's theorem, expressing the binomial coefficient in terms of (-1)^h, and then manipulating the equation to get the desired congruence.",
    "Original_Problem": "Assumption: \n$p$ is a prime,\n$h$ and $k$ are non-negative integers,\n$h + k = p - 1$.\nproblem:\nProve that $$h!k! + (-1)^h \\equiv 0 \\pmod{p}.$$",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $p$ is a prime,\nAssumption 2: $h$ and $k$ are non-negative integers,\nAssumption 3: $h + k = p - 1$.\nProblem:\nProve that $$h!k! + (-1)^h \\equiv 0 \\pmod{p}.$$",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$h! = (-1)^h (p-1)(p-2) \\dots (p-h) \\mod p$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $p$ is a prime,\nAssumption 2: $h$ and $k$ are non-negative integers,\nAssumption 3: $h + k = p - 1$.\nAssumption 4: $$h! = (-1)^h (p-1)(p-2) \\dots (p-h) \\mod p$$\nProblem:\nProve that $$h!k! + (-1)^h \\equiv 0 \\pmod{p}.$$"
}