{
    "Link_API": "https://api.stackexchange.com/2.3/questions/331233",
    "Title": "Showing two graphs isomorphic using their adjacency matrices",
    "Score": 17,
    "Category": "Chứng minh",
    "Tags": "graph-theory",
    "Link": "https://math.stackexchange.com/questions/331233/showing-two-graphs-isomorphic-using-their-adjacency-matrices",
    "Content": "I don't know how to solve the following problem: Show that two simple graphs $G$ and $H$ are isomorphic if and only if there exists a permutation matrix $P$ such that $A_G=PA_HP^t$. Here $A$ is the adjacency matrix. I have a feeling this shouldn't be very difficult, but my linear algebra is not very good, am I missing something obvious?",
    "AcceptedAnswer": "Here’s an example that may get you thinking in the right direction. Consider $PAP^t$, where $P$ is the permutation matrix $$\\begin{bmatrix}\n0&0&0&1\\\\\n1&0&0&0\\\\\n0&0&1&0\\\\\n0&1&0&0\n\\end{bmatrix}$$ and, as an illustrative example, $$A=\\begin{bmatrix}\n1&2&3&4\\\\\n2&3&4&5\\\\\n0&1&2&3\\\\\n3&2&1&0\n\\end{bmatrix}\\;.$$ We have $$PA=\\begin{bmatrix}\n0&0&0&1\\\\\n1&0&0&0\\\\\n0&0&1&0\\\\\n0&1&0&0\n\\end{bmatrix}\n\\begin{bmatrix}\n1&2&3&4\\\\\n2&3&4&5\\\\\n0&1&2&3\\\\\n3&2&1&0\n\\end{bmatrix}=\n\\begin{bmatrix}\n3&2&1&0\\\\\n1&2&3&4\\\\\n0&1&2&3\\\\\n2&3&4&5\n\\end{bmatrix}\\;,\n$$ and then $$\nPAP^t=\\begin{bmatrix}\n3&2&1&0\\\\\n1&2&3&4\\\\\n0&1&2&3\\\\\n2&3&4&5\n\\end{bmatrix}\n\\begin{bmatrix}\n0&1&0&0\\\\\n0&0&0&1\\\\\n0&0&1&0\\\\\n1&0&0&0\n\\end{bmatrix}=\n\\begin{bmatrix}\n0&3&1&2\\\\\n4&1&3&2\\\\\n3&0&2&1\\\\\n5&2&4&3\n\\end{bmatrix}\\;.\n$$ The first row of $A$ is the second row of $PAP^t$, and the first column of $A$ is the second column of $PAP^t$. The second row and second column of $A$ are the fourth row and column of $PAP^t$. The fourth row and column of $A$ are the first row and column of $PAP^t$. And the third row and column of $A$ are still the third row and column of $PAP^t$. In other words, both the rows and columns have been permuted by the permutation $(1,2,4)$ in cycle notation or $$\\pmatrix{1&2&3&4\\\\2&4&3&1}\\tag{1}$$ in two-line notation. If $A$ is the adjacency matrix of a graph, $PAP^t$ is just the adjacency matrix of the same graph after the vertices have been renumbered according to the permutation $(1)$.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \nG is a simple graph,\nH is a simple graph.\nProblem:\nShow that two simple graphs $G$ and $H$ are isomorphic if and only if there exists a permutation matrix $P$ such that $A_G = P A_H P^T$, where $A_G$ and $A_H$ are the adjacency matrices of $G$ and $H$, respectively.\n###",
    "reasoning_create_structured_problem": "Okay, so the user wants me to structure this Math Stack Exchange question into the specified format. Let me start by reading the original question carefully.\n\nThe title is \"Showing two graphs isomorphic using their adjacency matrices\". The question asks to show that two simple graphs G and H are isomorphic if and only if there's a permutation matrix P such that A_G = P A_H P^t. The user mentions they're struggling and think it's not too hard but their linear algebra isn't strong.\n\nFirst, I need to extract the assumptions. The problem is about graph isomorphism and adjacency matrices. The key points here are:\n\n1. G and H are simple graphs. So each assumption should list properties of G and H. Since they're simple, they have no loops or multiple edges.\n\n2. The problem involves permutation matrices. A permutation matrix is a square matrix with exactly one entry of 1 in each row and column, and 0s elsewhere. So the existence of such a P is crucial.\n\n3. The adjacency matrices A_G and A_H are given. The adjacency matrix of a simple graph is a symmetric matrix with 0s on the diagonal and entries indicating adjacency.\n\nNow, breaking down the assumptions line by line, each addressing one property of one object.\n\nAssumptions:\n- G is a simple graph.\n- H is a simple graph.\n- There exists a permutation matrix P.\n- The adjacency matrix of G is A_G.\n- The adjacency matrix of H is A_H.\n- The equation A_G = P A_H P^T holds.\n\nWait, but the problem is an \"if and only if\" statement. So actually, the problem has two parts: proving that if G and H are isomorphic, then such a P exists, and conversely, if such a P exists, then G and H are isomorphic. But the way the problem is stated in the original question is as an equivalence. However, in the formatting example given, the original problem had some assumptions and then the problem statement. So here, the problem is to show the equivalence. But the assumptions would be the conditions given for each direction.\n\nBut the example given in the user's instruction was a problem where the assumption was that n is an integer and divisible by 7. But in this case, the problem is an equivalence. How to handle that?\n\nWait, the original problem states: \"Show that two simple graphs G and H are isomorphic if and only if there exists a permutation matrix P such that A_G=PA_H P^t\". So the assumptions here would be that G and H are simple graphs. Then the problem is to show the equivalence.\n\nBut according to the example, the assumptions are listed line by line. So in the example, the user listed \"n is an integer\" and \"n is divisible by 7\" as assumptions, even though the original problem was to prove divisibility by 91 for every integer n. But in that example, there was an error? Wait, in the original problem, the user had written \"Prove that for every integer n, the number A(n) = ... is divisible by 91.\" But in the formatted version, the assumptions included \"n is an integer\" and \"n is divisible by 7\". Wait, that seems incorrect because the original problem was for every integer n, but the formatted problem added an extra assumption that n is divisible by 7. That seems like a mistake. Maybe the example was incorrect. But regardless, I have to follow the user's instruction.\n\nSo according to the example, even if the problem states \"for every integer n\", the formatted assumption lists the conditions on n. But in that case, maybe the example was wrong, but perhaps the user wants to extract all the conditions from the problem, even if they are universal.\n\nBut in the current problem, the problem is about two graphs G and H. The assumptions would be that G and H are simple graphs. Then the problem is the equivalence between isomorphism and the existence of permutation matrix P with A_G = P A_H P^T.\n\nWait, but in the problem statement, the \"if and only if\" condition is the main problem. So perhaps the assumptions are just the basic properties of G and H, and the problem is to show the equivalence.\n\nSo in the formatted problem:\n\nAssumption:\nG is a simple graph,\nH is a simple graph.\n\nProblem:\nShow that G and H are isomorphic if and only if there exists a permutation matrix P such that A_G = P A_H P^T.\n\nBut wait, the original question says \"Show that two simple graphs G and H are isomorphic if and only if...\". So the fact that they are simple graphs is part of the problem's premise. Therefore, the assumptions should list that G and H are simple graphs. Then the problem is the equivalence statement.\n\nAlternatively, maybe the user wants each assumption to be a single property for one object, so:\n\nAssumption:\nG is a simple graph,\nH is a simple graph,\nThere exists a permutation matrix P,\nA_G is the adjacency matrix of G,\nA_H is the adjacency matrix of H.\n\nBut no, the existence of P is part of the conclusion in one direction. So actually, the problem is structured as: Given two simple graphs G and H, show that they are isomorphic iff there exists a permutation matrix P such that A_G = P A_H P^T.\n\nTherefore, the assumptions are that G and H are simple graphs. The problem is the equivalence statement. The permutation matrix P is part of the conclusion in one direction, not an assumption.\n\nIn the example given by the user, the original problem was to prove for every integer n, the number A(n) is divisible by 91. The formatted problem included assumptions that n is an integer and n is divisible by 7. But that seems contradictory because the original problem states \"for every integer n\", which would mean that the divisibility by 7 isn't an assumption but part of the proof. So perhaps the example is incorrect. However, in this current problem, we need to stick to the correct structure.\n\nThus, for the current problem, the assumptions are:\n\n- G is a simple graph.\n- H is a simple graph.\n\nAnd the problem is to show the isomorphism equivalence with the permutation matrix.\n\nTherefore, the formatted problem should be:\n\nAssumption:\nG is a simple graph,\nH is a simple graph.\n\nProblem:\nShow that G and H are isomorphic if and only if there exists a permutation matrix P such that $A_G = P A_H P^T$.\n\nBut let me double-check. The original question says \"Show that two simple graphs G and H are isomorphic if and only if there exists a permutation matrix P such that A_G=PA_H P^t\". So the problem is about two simple graphs, and the conditions for their isomorphism in terms of adjacency matrices. Therefore, the assumptions are that G and H are simple graphs. The rest is the problem statement.\n\nYes, that makes sense. So the answer should be as above.",
    "Original_Problem": "Assumption: \nG is a simple graph,\nH is a simple graph.\nProblem:\nShow that two simple graphs $G$ and $H$ are isomorphic if and only if there exists a permutation matrix $P$ such that $A_G = P A_H P^T$, where $A_G$ and $A_H$ are the adjacency matrices of $G$ and $H$, respectively.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: G is a simple graph,\nAssumption 2: H is a simple graph.\nProblem:\nShow that two simple graphs $G$ and $H$ are isomorphic if and only if there exists a permutation matrix $P$ such that $A_G = P A_H P^T$, where $A_G$ and $A_H$ are the adjacency matrices of $G$ and $H$, respectively.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$A=\\begin{bmatrix}\n1&2&3&4\\\\\n2&3&4&5\\\\\n0&1&2&3\\\\\n3&2&1&0\n\\end{bmatrix}\\;.$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: G is a simple graph,\nAssumption 2: H is a simple graph.\nAssumption 3: $$A=\\begin{bmatrix}\n1&2&3&4\\\\\n2&3&4&5\\\\\n0&1&2&3\\\\\n3&2&1&0\n\\end{bmatrix}\\;.$$\nProblem:\nShow that two simple graphs $G$ and $H$ are isomorphic if and only if there exists a permutation matrix $P$ such that $A_G = P A_H P^T$, where $A_G$ and $A_H$ are the adjacency matrices of $G$ and $H$, respectively."
}