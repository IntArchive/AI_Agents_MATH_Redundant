{
    "Link_API": "https://api.stackexchange.com/2.3/questions/681477",
    "Title": "Using the cocycle condition to glue sheaves",
    "Score": 33,
    "Category": "Chứng minh",
    "Tags": "algebraic-geometry, sheaf-theory",
    "Link": "https://math.stackexchange.com/questions/681477/using-the-cocycle-condition-to-glue-sheaves",
    "Content": "Given a cover $\\{U_i\\}$ of a space $X$ and for each $U_i$ a sheaf $\\mathcal{F}_i$ and isomorphisms $\\phi_{ij}:\\mathcal{F_j}|_{U_i \\cap U_j} \\rightarrow \\mathcal{F_i}|_{U_i \\cap U_j}$ satisfying the cocycle condition $\\phi_{ij}\\phi_{jk}\\phi_{ki} = id$, I want to show that there is a sheaf $\\mathcal{F}$ on $X$ whose restriction to each $U_i$ is isomorphic to $\\mathcal{F_i}$. I understand that $\\mathcal{F}(U)$ should consist of tuples $(s_i)$ of sections from the various sheaves, then I need to define restriction maps, prove the presheaf axioms and then the sheaf axioms. I have at least a vague idea of how the proof should go. Unfortunately, on my way to proving the result I get utterly lost in an unholy mess of details, so that even once I \"finished\" my proof I was nowhere near certain my proof was correct. I've searched around for proofs to examine, but any proof I can find is either lacking many details or required as an exercise. Here are my questions: 1) Can someone show me a proof of this result? I am interested to see both a direct proof checking all the details and also a more intuitive proof, possibly appealing to results about gluing morphisms or whatnot. 2) Should the tuples $(s_i)$ be leaving in the product or the disjoint union of the $\\mathcal{F_i}(U\\cap U_i)$? I thought it would be product, but I saw union on Google Books in Introduction to Singularities and Deformations by Greuel, Lossen, and Shustin. 3) Where does the cocycle condition come into play? 4) How can I prevent all these messy sheaves from deterring me from the beautiful subject of algebraic geometry? Thanks in advance.",
    "AcceptedAnswer": "You should really be able to do this directly. The calculations are not messy at all, in my opinion. Also, they are straight forward. It is also a good idea to simplify the notation and to use words more than formulas. This way you really understand what is going on. You define $F(U)$ to be the set of all families $s=(s_i)$ of sections $s_i \\in F_i(U \\cap U_i)$ which are compatible in the sense that $\\phi_{ij}(s_j)=s_i$ for all $i,j$. I have simplified the notation here: Of course we restrict $s_i$ and $s_j$ to $U \\cap U_i \\cap U_j$, and of course we apply $\\phi_{ij}$ at this open subset. The restriction maps of $F$ are induced by the ones for $F_i$. They are well-defined because the asserted compatibility is preserved by restriction, which in turn works since $\\phi_{ij}$ commutes with restriction maps. After having checked this, it is obvious that $F$ becomes a presheaf, using the presheaf properties of the $F_i$. Now as for the first sheaf condition, let $s=(s_i)$ be as above, and $U = \\cup_p W_p$ be an open cover. If $s$ is trivial on each $W_p$, this means that $s_i \\in F_i(U \\cap U_i)$ is trivial on each $W_p \\cap U_i$. But since these cover $U \\cap U_i$, it follows $s_i=0$, for all $i$, hence $s=0$. (For sheaves of sets, you can adjust this argument easily.) For the second sheaf condition, let $s^p \\in F(W_p)$ be a family of compatible sections (compatiblity means that $s^p$ and $s^q$ agree on $W_p \\cap W_q$). This means that for every $i$ we have a family of compatible sections $s^p_i \\in F_i(W_p \\cap U_i)$ with respect to the cover $\\{W_p \\cap U_i\\}$ of $W \\cap U_i$. Since $F_i$ is a sheaf, these glue to a section $s_i \\in F_i(W \\cap U_i)$. We have $\\phi_{ij}(s_j)=s_i$ in $F_i(U \\cap U_i \\cap U_j)$, since this is true when restricted to each $W_p \\cap U_i \\cap U_j$, since $s^p \\in F(W_p)$. Hence, $s:=(s_i) \\in F(U)$ and $s$ restricts to $s^p$ on $W_p$ by construction. Thus, $F$ is a sheaf. The cocycle condition is not needed to make this construction work. We don't even need that the $\\phi_{ij}$ are isomorphisms! This is especially clear in the category-theoretic construction of $F$, see for example Zhen Lin's answer here . But there is a reason why one usually demands this condition: We would like to have that the projection $F|_{U_i} \\to F_i$ mapping a section $s$ to $s_i$ is an isomorphism. We simply construct an inverse by mapping $s_i$ to $s$ defined by $s_j = \\phi_{ij}^{-1}(s_i)$ (here we need that $\\phi_{ij}$ is an isomorphism). This is consistent when $\\phi_{ii}=\\mathrm{id}$ (which would follow from the cocycle condition). By construction $\\phi_{ij}(s_j)=s_i$, but in order to be a section of $F$, we also need $\\phi_{kj}(s_j)=s_k$ for all $k$, i.e. $\\phi_{kj} = \\phi_{ki} \\circ  \\phi_{ij}$, which is precisely the cocycle condition. One then checks that this describes a map $F_i \\to F|_{U_i}$ which is inverse to the projection. There is even an a priori motivation for the cocycle condition. Given a gluing datum of sheaves $(F_i,\\phi_{ij})$, we want to find a sheaf $F$ with isomorphisms $F|_{U_i} \\cong F_i$, but in such a way that the induced isomorphisms $F_j|_{U_i \\cap U_j} \\cong F|_{U_i \\cap U_j} \\cong F_i|_{U_i \\cap U_j}$ really equal $\\phi_{ij}$. But these isomorphisms obviously satisfy the cocycle condition: If we compose (let me again simplify the notation) $F_k \\to F \\to F_j$ with $F_j \\to F \\to F_i$, then $F \\to F_j \\to F$ cancels to the identity, so that we get $F_k \\to F \\to F_i$. In other words, in the following diagram, the outer triangle commutes because all three inner triangles commute:",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$\\{U_i\\}$ is an open cover of the space $X$,\nFor each $U_i$, there exists a sheaf $\\mathcal{F}_i$ on $U_i$,\nFor each pair $U_i, U_j$, there exists an isomorphism $\\phi_{ij}: \\mathcal{F}_j|_{U_i \\cap U_j} \\to \\mathcal{F}_i|_{U_i \\cap U_j}$,\nThe isomorphisms $\\phi_{ij}$ satisfy the cocycle condition $\\phi_{ij} \\circ \\phi_{jk} \\circ \\phi_{ki} = \\text{id}$ on $U_i \\cap U_j \\cap U_k$.\nProblem: \nShow that there exists a sheaf $\\mathcal{F}$ on $X$ such that $\\mathcal{F}|_{U_i}$ is isomorphic to $\\mathcal{F}_i$ for each $U_i$.\n###",
    "reasoning_create_structured_problem": "Okay, let me try to parse this Math Stack Exchange question. The user wants to glue sheaves using the cocycle condition. The main problem is to show that given a cover {U_i} of X, sheaves F_i on each U_i, and isomorphisms φ_ij satisfying the cocycle condition, there exists a sheaf F on X that restricts to F_i on each U_i. \n\nFirst, I need to extract the assumptions. The original question mentions a cover {U_i} of X. Each U_i has a sheaf F_i. There are isomorphisms φ_ij between the restrictions of F_j and F_i on the intersection U_i ∩ U_j. These isomorphisms satisfy the cocycle condition φ_ij φ_jk φ_ki = id. So each of these should be separate assumptions.\n\nThe problem is to prove the existence of such a sheaf F on X. The user also has specific questions, but the main task here is to structure the problem as per the given format, focusing on the assumptions and the problem statement. The other questions (about product vs. disjoint union, where the cocycle condition is used, etc.) are part of the original question but not the main problem to be formatted. So I need to filter those out and only include the core problem.\n\nLooking at the example provided, assumptions are listed as separate lines, each addressing one property applied to one object. So for this case:\n\nAssumption 1: {U_i} is an open cover of X.\nAssumption 2: For each U_i, there is a sheaf F_i on U_i.\nAssumption 3: For each U_i and U_j, there is an isomorphism φ_ij: F_j|_(U_i ∩ U_j) → F_i|_(U_i ∩ U_j).\nAssumption 4: The isomorphisms φ_ij satisfy the cocycle condition φ_ij ◦ φ_jk ◦ φ_ki = id on U_i ∩ U_j ∩ U_k.\n\nProblem: Show that there exists a sheaf F on X such that F|_U_i is isomorphic to F_i for each U_i.\n\nI need to check if these assumptions are correctly extracted. The original question mentions \"the cocycle condition φ_ijφ_jkφ_ki = id\", so that's covered. Each assumption is about one property. The problem is to construct F. The other parts of the user's question (like the tuples in product vs. union) are part of their thought process but not part of the core problem statement. So the formatted problem should include the four assumptions and the problem as constructing F.",
    "Original_Problem": "Assumption: \n$\\{U_i\\}$ is an open cover of the space $X$,\nFor each $U_i$, there exists a sheaf $\\mathcal{F}_i$ on $U_i$,\nFor each pair $U_i, U_j$, there exists an isomorphism $\\phi_{ij}: \\mathcal{F}_j|_{U_i \\cap U_j} \\to \\mathcal{F}_i|_{U_i \\cap U_j}$,\nThe isomorphisms $\\phi_{ij}$ satisfy the cocycle condition $\\phi_{ij} \\circ \\phi_{jk} \\circ \\phi_{ki} = \\text{id}$ on $U_i \\cap U_j \\cap U_k$.\nProblem: \nShow that there exists a sheaf $\\mathcal{F}$ on $X$ such that $\\mathcal{F}|_{U_i}$ is isomorphic to $\\mathcal{F}_i$ for each $U_i$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $\\{U_i\\}$ is an open cover of the space $X$,\nAssumption 2: For each $U_i$, there exists a sheaf $\\mathcal{F}_i$ on $U_i$,\nAssumption 3: For each pair $U_i, U_j$, there exists an isomorphism $\\phi_{ij}: \\mathcal{F}_j|_{U_i \\cap U_j} \\to \\mathcal{F}_i|_{U_i \\cap U_j}$,\nAssumption 4: The isomorphisms $\\phi_{ij}$ satisfy the cocycle condition $\\phi_{ij} \\circ \\phi_{jk} \\circ \\phi_{ki} = \\text{id}$ on $U_i \\cap U_j \\cap U_k$.\nProblem: \nShow that there exists a sheaf $\\mathcal{F}$ on $X$ such that $\\mathcal{F}|_{U_i}$ is isomorphic to $\\mathcal{F}_i$ for each $U_i$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$U = \\cup_p W_p$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $\\{U_i\\}$ is an open cover of the space $X$,\nAssumption 2: For each $U_i$, there exists a sheaf $\\mathcal{F}_i$ on $U_i$,\nAssumption 3: For each pair $U_i, U_j$, there exists an isomorphism $\\phi_{ij}: \\mathcal{F}_j|_{U_i \\cap U_j} \\to \\mathcal{F}_i|_{U_i \\cap U_j}$,\nAssumption 4: The isomorphisms $\\phi_{ij}$ satisfy the cocycle condition $\\phi_{ij} \\circ \\phi_{jk} \\circ \\phi_{ki} = \\text{id}$ on $U_i \\cap U_j \\cap U_k$.\nAssumption 5: $U = \\cup_p W_p$\nProblem: \nShow that there exists a sheaf $\\mathcal{F}$ on $X$ such that $\\mathcal{F}|_{U_i}$ is isomorphic to $\\mathcal{F}_i$ for each $U_i$."
}