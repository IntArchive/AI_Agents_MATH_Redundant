{
    "Link_API": "https://api.stackexchange.com/2.3/questions/334146",
    "Title": "Natural numbers objects in topoi: Recursion in a parameter",
    "Score": 15,
    "Category": "Chứng minh",
    "Tags": "category-theory, topos-theory",
    "Link": "https://math.stackexchange.com/questions/334146/natural-numbers-objects-in-topoi-recursion-in-a-parameter",
    "Content": "I am currently trying to prove an exercise from Sheaves in Geometry and Logic: A First Introduction to Topos Theory by Mac Lane and Moerdijk about natural numbers objects. First, we have the following definition: Definition. A natural numbers object in a topos $\\mathcal E$ is an object $N$ with arrows\n  $$\n1\\overset 0 \\longrightarrow N \\overset s \\longrightarrow N\n$$\n  such that for any object $X$ of $\\mathcal E$ with arrows $x$ and $f$, as below, there is a unique arrow $h$ which makes the following diagram commute:\n  $$\n\\begin{array}{cclcl}\n1 & \\overset 0 \\longrightarrow & N & \\overset s \\longrightarrow & N \\\\\n|| & & \\downarrow h & & \\downarrow h \\\\\n1 & \\underset x \\longrightarrow & X & \\underset f \\longrightarrow & X.\n\\end{array}\n$$ Next, the exercise in question is as follows: Exercise. Let $N$, with arrows $0:1\\to N$ and $s:N\\to N$, be a natural numbers object in a topos $\\mathcal E$.\n  Prove that the following form of recursion \"in a parameter\":\n  for objects $X$ and $Y$ of $\\mathcal E$ and maps $g:X\\to Y$ and $h:Y\\times X\\to Y$, there is a unique $f:N\\times X\\to Y$ such that the following diagrams commute:\n  $$\n\\begin{array}{ccccclcc}\n\\phantom{\\cong}1\\times X & \\overset{0\\times\\mathrm{id}}\\longrightarrow & N\\times X\\phantom{f}\n& &\n\\phantom{(f,\\pi_2)}N\\times X & \\overset{s\\times\\mathrm{id}}\\longrightarrow & N\\times X\n\\\\\n\\cong\\downarrow & & \\downarrow f && (f,\\pi_2)\\downarrow && \\downarrow f\n\\\\\n\\phantom{\\cong}X & \\underset g \\longrightarrow & Y \\phantom{f!}\n&& \\phantom{(f,\\pi_2)}Y\\times X & \\underset h \\longrightarrow & Y. \\phantom{f}\n\\end{array}\n$$\n  [In $\\mathbf{Sets}$, this would mean that $f$ is the function defined by $f(0,x)=g(x)$, $f(n+1,x)=h(f(n,x),x)$.] Now, the proof is very straightforward in $\\mathbf{Sets}$, but I can't figure it out for a general topos. It seems like there should be some sort of exponential/adjunction argument, but I'm not getting it. I hope I'm not missing anything obvious! I'm looking forward to peoples' responses. Thanks in advance! Edit (2013-03-24): For completeness, I decided to include my proof of the exercise that works in $\\mathbf{Sets}$. Proof .\nLet $N$ be a natural numbers object in $\\mathbf{Sets}$ (with the necessary functions $0:1\\to N$ and $s:N\\to N$), let $X$ and $Y$ be sets, and let\n$$\ng: X \\to Y\n\\qquad\\text{and}\\qquad\nh : Y \\times X \\to Y\n$$\nbe functions.\nWe wish to show that there exists a unique function $f:N\\times X\\to Y$ such that\n$$\nf(0,x) = g(x)\n\\qquad\\text{and}\\qquad\nf(n+1,x) = h(f(n,x),x)\n$$\nfor all $n\\in N$ and $x\\in X$. Given $x\\in X$, define $h_x:Y\\to Y$ by $h_x(y)=h(y,x)$ (this implicitly uses the\n$$\n\\mathrm{Hom}_{\\mathbf{Sets}}(Y\\times X,Y)\n\\cong\n\\mathrm{Hom}_{\\mathbf{Sets}}(X, Y^Y)\n$$\nadjunction). \nThen for each $x\\in X$ we have a diagram\n$$\n1 \\overset{g(x)} \\longrightarrow Y \\overset{h_x} \\longrightarrow Y\n$$\nwhich induces a unique arrow $f_x:N\\to Y$ such that the following diagram commutes:\n$$\n\\begin{array}{cclcl}\n1 & \\overset 0 \\longrightarrow & N & \\overset s \\longrightarrow & N \\\\\n|| & & \\downarrow f_x & & \\downarrow f_x \\\\\n1 & \\underset{g(x)} \\longrightarrow & Y & \\underset {h_x} \\longrightarrow & Y.\n\\end{array}\n$$\nThen we define $f:N\\times X\\to Y$ by $f(n,x)=f_x(n)$, and it is easy to see that this $f$ satisfies the desired properties and is unique. This is the proof that I am struggling to generalize.\nMaybe this is the wrong approach altogether for a general proof, although I feel like it should generalize.\nAny help would be greatly appreciated.",
    "AcceptedAnswer": "Your struggles, I think, are that the definition of a NNO is given externally; but a direct translation of your proof requires an internal version in the form of a map $r:Y \\times Y^Y \\to Y^N$ that takes a \"generalized element\" of $Y$ and a \"generalized map\" from $Y$ to $Y$ and produces a \"generalized map\" $N \\to Y$. Set theoretically, this map would be given by $$ r(y,h)(n) = k^{(n)}(y) $$ where $k^{(n)}$ is the $n$-fold iterate of $k$. If we have this map $r$, then your argument is constructing the map $X \\to Y \\times Y^Y \\to Y^N$, which you transpose to get $f$. (phrase things in terms of generalized elements if you like) In the interest of preserving the specific argument you wish to make, let's see if we can construct $r$. There are lots of ways we can rewrite things with natural isomorphisms. This one seems most promising to me: $$ \\hom(Y \\times Y^Y, Y^N)\n\\cong \\hom(N \\times Y \\times Y^Y, Y)\n\\cong \\hom(N, Y^{Y \\times Y^Y}) $$ Set theoretically, $r$ would correspond to the map $$ n \\mapsto \\left( (y,k) \\mapsto k^{(n)}(y) \\right) $$ This one is promising, because it looks like I can define this one by recursion! If I attach $k$ to the output so that I can \"remember\" it, I can recursively define a function $s_n$ by: $s_0(y,k) = (y,k)$ $s_{n+1}(y,k) = (k(y), k)$ So we set up the corresponding diagram $$1 \\to (Y \\times Y^Y)^{Y \\times Y^Y} \\to (Y \\times Y^Y)^{Y \\times Y^Y}$$ Obtain $$N \\to (Y \\times Y^Y)^{Y \\times Y^Y} $$ Then convert to $$ N \\times Y \\times Y^Y \\to Y \\times Y^Y \\to Y $$ (the last map is projection, not evaluation). If there's any justice in the world, the transpose of this is $r : Y \\times Y^Y \\to Y^N$. I'm too exhausted (and rusty) by this point to verify it all works out. With that said, attacking the problem from scratch I probably would have curried differently: try to define a function $N \\to Y^X$. Although it's plausible I would have wound up making a similar argument as to the one above.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$\\mathcal{E}$ is a topos,\n$N$ is a natural numbers object in $\\mathcal{E}$ with arrows $0:1 \\to N$ and $s:N \\to N$,\n$X$ is an object of $\\mathcal{E}$,\n$Y$ is an object of $\\mathcal{E}$,\n$g:X \\to Y$ is a morphism in $\\mathcal{E}$,\n$h:Y \\times X \\to Y$ is a morphism in $\\mathcal{E}$.\nProblem:\nProve that there exists a unique morphism $f:N \\times X \\to Y$ such that the following diagrams commute:\n$$\n\\begin{array}{ccc}\n1\\times X & \\xrightarrow{0 \\times \\mathrm{id}} & N \\times X \\\\\n\\downarrow{\\cong} & & \\downarrow{f} \\\\\nX & \\xrightarrow{g} & Y\n\\end{array}\n$$\nand\n$$\n\\begin{array}{ccc}\nN \\times X & \\xrightarrow{s \\times \\mathrm{id}} & N \\times X \\\\\n\\downarrow{(f, \\pi_2)} & & \\downarrow{f} \\\\\nY \\times X & \\xrightarrow{h} & Y.\n\\end{array}\n$$\n###END_OF_FORMAT###",
    "reasoning_create_structured_problem": "Okay, so I need to help structure this problem from Math Stack Exchange into the specified format. Let me start by understanding the original question and the user's requirements.\n\nThe user wants me to act as a bilingual mathematics professor, read the question, filter out unrelated information, and structure it with Assumptions and Problem sections. The example provided shows that each assumption is a single property or condition applied to one object. The problem is then stated clearly.\n\nLooking at the original problem:\n\nThe exercise is about proving a form of recursion in a parameter for a natural numbers object (NNO) in a topos. The user provided a definition of an NNO and the specific exercise. They also included their attempt in the category of Sets but are struggling to generalize it to an arbitrary topos. They mention possible use of exponential/adjunction arguments but can't see it.\n\nFirst, I need to extract the assumptions. The problem is set in a topos ε. The NNO is given as an object N with arrows 0:1→N and s:N→N, satisfying the universal property for recursion. The exercise is to prove that given objects X and Y, and maps g:X→Y and h:Y×X→Y, there exists a unique f:N×X→Y making certain diagrams commute.\n\nAssumptions should list each condition. Let's parse:\n\n1. The topos ε has a natural numbers object N with arrows 0:1→N and s:N→N.\n2. For any object X in ε with arrows x:1→X and f:X→X, there's a unique h:N→X making the NNO diagram commute.\n3. We are given objects X and Y in ε.\n4. We have maps g:X→Y and h:Y×X→Y.\n5. The problem is to prove there's a unique f:N×X→Y such that two diagrams commute: one involving 0×id and g, and another involving s×id and h.\n\nWait, but the problem statement doesn't explicitly state assumptions about X and Y beyond being objects in ε. The given maps g and h are part of the problem's data. So the assumptions would be:\n\n- ε is a topos.\n- N is a natural numbers object in ε with arrows 0:1→N and s:N→N.\n- X and Y are objects of ε.\n- g: X → Y is a morphism.\n- h: Y × X → Y is a morphism.\n\nThen the problem is to prove the existence and uniqueness of f: N × X → Y such that the two diagrams commute.\n\nThe user's own proof in Sets uses the adjunction between products and exponentials, which is available in a topos due to Cartesian closedness. So the key is to use the universal property of the NNO but in the context of the parameter X. In Sets, they curried h to get h_x: Y → Y for each x, then used recursion on each x. In a general topos, exponentials exist, so maybe we can use the adjunction Hom(Y×X, Y) ≅ Hom(X, Y^Y) to get a morphism X → Y^Y, then use the NNO property on Y^Y to induce a map N → Y^Y, then uncurry to get N×X → Y.\n\nBut the assumptions for the problem don't include the properties of a topos beyond having an NNO. However, a topos is Cartesian closed, so the adjunction is available. But maybe that's considered part of the topos structure, so the key assumptions are the existence of NNO and the given maps g and h.\n\nSo structuring the problem:\n\nAssumptions:\n- ε is a topos.\n- N is a natural numbers object in ε with arrows 0:1→N and s:N→N.\n- X and Y are objects in ε.\n- g:X→Y is a morphism in ε.\n- h:Y×X→Y is a morphism in ε.\n\nProblem:\nProve that there exists a unique morphism f:N×X→Y such that the following diagrams commute:\n1. The diagram involving 0×id and g:\n1×X → N×X via 0×id, then f down to Y, which should equal X ≅ 1×X via the isomorphism, then g to Y.\n2. The diagram involving s×id and h:\nN×X → N×X via s×id, then f down to Y, which should equal (f, π2): N×X → Y×X composed with h.\n\nBut I need to ensure each assumption is a single line, each addressing one property or condition on one object.\n\nSo:\n\nAssumption:\n- $\\mathcal{E}$ is a topos,\n- $N$ is a natural numbers object in $\\mathcal{E}$ with arrows $0:1\\to N$ and $s:N\\to N$,\n- $X$ is an object of $\\mathcal{E}$,\n- $Y$ is an object of $\\mathcal{E}$,\n- $g:X\\to Y$ is a morphism in $\\mathcal{E}$,\n- $h:Y\\times X\\to Y$ is a morphism in $\\mathcal{E}$.\n\nProblem:\nProve that there exists a unique morphism $f:N\\times X\\to Y$ such that the following diagrams commute:\n$$\n\\begin{array}{ccccclcc}\n1\\times X & \\overset{0\\times\\mathrm{id}}\\longrightarrow & N\\times X \\\\\n\\cong\\downarrow & & \\downarrow f \\\\\nX & \\underset{g}\\longrightarrow & Y \n\\end{array}\n$$\nand\n$$\n\\begin{array}{ccccclcc}\nN\\times X & \\overset{s\\times\\mathrm{id}}\\longrightarrow & N\\times X \\\\\n(f,\\pi_2)\\downarrow & & \\downarrow f \\\\\nY\\times X & \\underset{h}\\longrightarrow & Y \n\\end{array}\n$$\n\nWait, the problem statement in the original question already has the diagrams, so I need to transcribe them correctly. The user's problem mentions the two diagrams with the isomorphisms and the commuting conditions. The challenge is to structure this without LaTeX errors, but in the format provided.\n\nAlso, in the original problem, the first diagram has 1×X → N×X via 0×id, then f down to Y. The left vertical arrow is the isomorphism 1×X ≅ X, and the bottom arrow is g:X→Y. So the first diagram commutes if f∘(0×id) = g∘(isomorphism).\n\nSimilarly, the second diagram has N×X → N×X via s×id, then f down to Y. The left vertical arrow is (f,π₂): N×X → Y×X (where π₂ is the projection to X), and the bottom arrow is h: Y×X → Y. So the second diagram commutes if f∘(s×id) = h∘(f,π₂).\n\nSo the problem is to prove existence and uniqueness of f making these two diagrams commute.\n\nTherefore, the structured problem would list all these assumptions and state the problem as proving the existence and uniqueness of f with those commutative diagrams.\n\nSo final answer should be:\n\n###BEGIN_OF_FORMAT###\nAssumption: \n$\\mathcal{E}$ is a topos,\n$N$ is a natural numbers object in $\\mathcal{E}$ with arrows $0:1 \\to N$ and $s:N \\to N$,\n$X$ is an object of $\\mathcal{E}$,\n$Y$ is an object of $\\mathcal{E}$,\n$g:X \\to Y$ is a morphism in $\\mathcal{E}$,\n$h:Y \\times X \\to Y$ is a morphism in $\\mathcal{E}$.\nProblem:\nProve that there exists a unique morphism $f:N \\times X \\to Y$ such that the following diagrams commute:\n$$\n\\begin{array}{ccccclcc}\n1\\times X & \\overset{0\\times\\mathrm{id}}\\longrightarrow & N\\times X \\\\\n\\cong\\downarrow & & \\downarrow f \\\\\nX & \\underset{g}\\longrightarrow & Y \n\\end{array}\n$$\nand\n$$\n\\begin{array}{ccccclcc}\nN\\times X & \\overset{s\\times\\mathrm{id}}\\longrightarrow & N\\times X \\\\\n(f,\\pi_2)\\downarrow & & \\downarrow f \\\\\nY\\times X & \\underset{h}\\longrightarrow & Y.\n\\end{array}\n$$\n###END_OF_FORMAT###",
    "Original_Problem": "Assumption: \n$\\mathcal{E}$ is a topos,\n$N$ is a natural numbers object in $\\mathcal{E}$ with arrows $0:1 \\to N$ and $s:N \\to N$,\n$X$ is an object of $\\mathcal{E}$,\n$Y$ is an object of $\\mathcal{E}$,\n$g:X \\to Y$ is a morphism in $\\mathcal{E}$,\n$h:Y \\times X \\to Y$ is a morphism in $\\mathcal{E}$.\nProblem:\nProve that there exists a unique morphism $f:N \\times X \\to Y$ such that the following diagrams commute:\n$$\n\\begin{array}{ccc}\n1\\times X & \\xrightarrow{0 \\times \\mathrm{id}} & N \\times X \\\\\n\\downarrow{\\cong} & & \\downarrow{f} \\\\\nX & \\xrightarrow{g} & Y\n\\end{array}\n$$\nand\n$$\n\\begin{array}{ccc}\nN \\times X & \\xrightarrow{s \\times \\mathrm{id}} & N \\times X \\\\\n\\downarrow{(f, \\pi_2)} & & \\downarrow{f} \\\\\nY \\times X & \\xrightarrow{h} & Y.\n\\end{array}\n$$",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $\\mathcal{E}$ is a topos,\nAssumption 2: $N$ is a natural numbers object in $\\mathcal{E}$ with arrows $0:1 \\to N$ and $s:N \\to N$,\nAssumption 3: $X$ is an object of $\\mathcal{E}$,\nAssumption 4: $Y$ is an object of $\\mathcal{E}$,\nAssumption 5: $g:X \\to Y$ is a morphism in $\\mathcal{E}$,\nAssumption 6: $h:Y \\times X \\to Y$ is a morphism in $\\mathcal{E}$.\nProblem:\nProve that there exists a unique morphism $f:N \\times X \\to Y$ such that the following diagrams commute:\n$$\n\\begin{array}{ccc}\n1\\times X & \\xrightarrow{0 \\times \\mathrm{id}} & N \\times X \\\\\n\\downarrow{\\cong} & & \\downarrow{f} \\\\\nX & \\xrightarrow{g} & Y\n\\end{array}\n$$\nand\n$$\n\\begin{array}{ccc}\nN \\times X & \\xrightarrow{s \\times \\mathrm{id}} & N \\times X \\\\\n\\downarrow{(f, \\pi_2)} & & \\downarrow{f} \\\\\nY \\times X & \\xrightarrow{h} & Y.\n\\end{array}\n$$",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$ n \\mapsto \\left( (y,k) \\mapsto k^{(n)}(y) \\right) $$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $\\mathcal{E}$ is a topos,\nAssumption 2: $N$ is a natural numbers object in $\\mathcal{E}$ with arrows $0:1 \\to N$ and $s:N \\to N$,\nAssumption 3: $X$ is an object of $\\mathcal{E}$,\nAssumption 4: $Y$ is an object of $\\mathcal{E}$,\nAssumption 5: $g:X \\to Y$ is a morphism in $\\mathcal{E}$,\nAssumption 6: $h:Y \\times X \\to Y$ is a morphism in $\\mathcal{E}$.\nAssumption 7: $$ n \\mapsto \\left( (y,k) \\mapsto k^{(n)}(y) \\right) $$\nProblem:\nProve that there exists a unique morphism $f:N \\times X \\to Y$ such that the following diagrams commute:\n$$\n\\begin{array}{ccc}\n1\\times X & \\xrightarrow{0 \\times \\mathrm{id}} & N \\times X \\\\\n\\downarrow{\\cong} & & \\downarrow{f} \\\\\nX & \\xrightarrow{g} & Y\n\\end{array}\n$$\nand\n$$\n\\begin{array}{ccc}\nN \\times X & \\xrightarrow{s \\times \\mathrm{id}} & N \\times X \\\\\n\\downarrow{(f, \\pi_2)} & & \\downarrow{f} \\\\\nY \\times X & \\xrightarrow{h} & Y.\n\\end{array}\n$$"
}