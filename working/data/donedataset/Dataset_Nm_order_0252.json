{
    "Link_API": "https://api.stackexchange.com/2.3/questions/3149428",
    "Title": "Does $(n+1)(n-2)x_{n+1}=n(n^2-n-1)x_n-(n-1)^3x_{n-1}$ with $x_2=x_3=1$ define a sequence that is integral at prime indices?",
    "Score": 44,
    "Category": "Chứng minh",
    "Tags": "sequences-and-series, elementary-number-theory, prime-numbers, recurrence-relations, primality-test",
    "Link": "https://math.stackexchange.com/questions/3149428/does-n1n-2x-n1-nn2-n-1x-n-n-13x-n-1-with-x-2-x-3-1-define-a",
    "Content": "My son gave me the following recurrence formula for $x_n$ ( $n\\ge2$ ): $$(n+1)(n-2)x_{n+1}=n(n^2-n-1)x_n-(n-1)^3x_{n-1}\\tag{1}$$ $$x_2=x_3=1$$ The task I got from him: The sequence has an interesting property, find it out. Make a conjecture and prove it. Obviously I had to start with a few values and calculating them by hand turned out to be difficult. So I used Mathematica and defined the sequence as follows: b[n_] := b[n] = n (n^2 - n - 1) a[n] - (n - 1)^3 a[n - 1];\na[n_] := a[n] = b[n - 1]/(n (n - 3));\na[2] = 1;\na[3] = 1; And I got the following results: $$ a_4=\\frac{7}{4}, \\ a_5=5, \\ a_6=\\frac{121}{6}, \\ a_7=103, \\ a_8=\\frac{5041}{8}, \\ a_9=\\frac{40321}{9}, \\\\ a_{10}=\\frac{362881}{10}, \\ a_{11}=329891, \\ a_{12}=\\frac{39916801}{12}, \\ a_{13}=36846277, \\ a_{14}=\\frac{6227020801}{14}\\dots$$ Numbers don't make any sense but it's strange that the sequence produces integer values from time to time. It's not something that I expected from a pretty complex definition like (1). So I decided to find the values of $n$ producing integer values of $a_n$ . I did an experiment for $2\\le n \\le 100$ : table = Table[{i, a[i]}, {i, 2, 100}];\nintegers = Select[table, (IntegerQ[#[[2]]]) &];\nitegerIndexes = Map[#[[1]] &, integers] ...and the output was: {2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, \n59, 61, 67, 71, 73, 79, 83, 89, 97} Conjecture (pretty amazing, at least to me): $a_n$ is an integer if and only if $n$ is prime. Interesting primality test, isn't it? The trick is to prove that it's correct. I have started with the substitution: $$y_n=n x_n$$ ...which simplifies (1) a bit: $$(n-2)y_{n+1}=(n^2-n-1)y_n-(n-1)^2y_{n-1}$$ ...but I did not get much further (the next step, I guess, should be rearrangement).",
    "AcceptedAnswer": "The given difference equation can be solved in the following way. We have for $n\\ge 3$ , $$\n(n-2)(y_{n+1}-y_n) = (n-1)^2(y_n-y_{n-1}),\\\\\n\\frac{y_{n+1}-y_n}{n-1}=(n-1)\\frac{y_{n}-y_{n-1}}{n-2}.\n$$ If we let $\\displaystyle z_n=\\frac{y_{n}-y_{n-1}}{n-2}$ , it follows that $$\nz_{n+1}=(n-1)z_n=(n-1)(n-2)z_{n-1}=\\cdots =(n-1)!z_3=(n-1)!\\frac{3x_3-2x_2}{1}=(n-1)!\n$$ This gives $$\ny_{n+1}-y_n=(n-1)(n-1)!=n!-(n-1)!,\n$$ hence $y_n = nx_n = (n-1)!+c$ for some $c$ . Plugging $n=2$ yields $2=1!+c$ , thus we have that $$\\displaystyle x_n =\\frac{(n-1)!+1}{n}.$$",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \nThe sequence $x_n$ is defined by the recurrence $(n+1)(n-2)x_{n+1}=n(n^2-n-1)x_n-(n-1)^3x_{n-1}$ for $n \\ge 2$,\n$x_2 = 1$,\n$x_3 = 1$.\nProblem:\nProve that $x_n$ is an integer if and only if $n$ is a prime number.\n###",
    "reasoning_create_structured_problem": "Okay, let me try to parse this problem. The user is asking about a recurrence relation given for a sequence x_n. The problem is to determine if the sequence x_n is integral at prime indices, given the recurrence and initial conditions.\n\nFirst, the original recurrence is (n+1)(n-2)x_{n+1} = n(n² - n -1)x_n - (n-1)^3x_{n-1} for n ≥ 2, with x₂ = x₃ = 1. Then, the user computed several terms and noticed that x_n is integer when n is prime. The conjecture is that x_n is integer if and only if n is prime.\n\nSo, the task is to structure this problem into the required format. Let me recall the example given. The Assumption section lists each assumption line by line, each addressing one property or condition applied to one object. The Problem section states the problem clearly.\n\nLooking at the original problem, the assumptions would include the recurrence relation, the initial conditions, and the observation that primes lead to integral terms. Wait, but the problem is to prove that x_n is integer if and only if n is prime. So the assumptions would be the given recurrence and the initial conditions. The conjecture is part of the problem statement. The user's conjecture is the problem to be proven.\n\nWait, in the example provided, the original problem was to prove divisibility by 91, but the formatted problem included the assumptions like n is integer and n is divisible by 7, which are given in the problem. Here, the problem states the recurrence and initial conditions, which are the assumptions. The conjecture that x_n is integer iff n is prime is the problem to be proven.\n\nSo, structuring this:\n\nAssumptions:\n- The sequence x_n is defined by the recurrence: (n+1)(n-2)x_{n+1} = n(n² - n -1)x_n - (n-1)³x_{n-1} for n ≥ 2,\n- The initial conditions are x_2 = 1 and x_3 = 1,\n- The conjecture is that x_n is an integer if and only if n is a prime number.\n\nBut according to the example, the Assumptions should list each condition one by one. So:\n\nAssumption:\nThe sequence x_n is defined by the recurrence relation (n+1)(n-2)x_{n+1} = n(n² - n -1)x_n - (n-1)^3x_{n-1} for n ≥ 2,\nThe initial terms are x_2 = 1 and x_3 = 1,\nThe conjecture is that x_n is integer if and only if n is prime.\n\nWait, but in the example, the assumption included \"n is an integer\" and \"n is divisible by 7\". Here, the problem is about the sequence defined by the recurrence with x_2 and x_3 given. So the assumptions are the recurrence and the initial terms. The conjecture is part of the problem statement.\n\nBut in the example, the problem was to prove divisibility by 91 given that n is integer and divisible by 7. So perhaps in this case, the problem is to prove the conjecture, which is that x_n is integer iff n is prime. So the assumptions would be the recurrence and the initial conditions. The problem is the conjecture.\n\nBut the user also mentions that they transformed the recurrence by substituting y_n = n x_n, leading to a different recurrence. However, that might be part of their attempt, not part of the original problem. The original problem is just the recurrence with x_2 and x_3 =1, and the conjecture.\n\nSo, the formatted problem should list all the given assumptions (the recurrence relation, initial conditions) and then state the problem as proving the conjecture. But in the example, the assumption included that n is divisible by 7, which was part of the problem's conditions. Here, the problem's conditions are the recurrence and initial terms. The conjecture is the problem.\n\nSo:\n\nAssumptions:\n- The recurrence relation for x_n: (n+1)(n-2)x_{n+1} = n(n² - n -1)x_n - (n-1)³x_{n-1} for n ≥ 2,\n- Initial conditions: x_2 = 1 and x_3 = 1,\n- The conjecture: x_n is integer if and only if n is a prime number.\n\nBut according to the example format, each assumption is a single line, addressing one property. So each part of the recurrence, initial conditions, etc., should be separate lines. However, the problem statement is the conjecture. Wait, but in the example, the problem is stated as \"Prove that A(n) is divisible by 91\", which was the original question.\n\nIn this case, the user's problem is to prove that the sequence defined by the recurrence with x2 and x3=1 has x_n integer if and only if n is prime.\n\nTherefore, the problem part should be \"Prove that x_n is an integer if and only if n is a prime number.\"\n\nBut the example's problem statement included the expression, so here it's similar. The assumptions are the recurrence and the initial conditions. The conjecture is the problem.\n\nTherefore, the formatted problem would be:\n\nAssumption:\nThe sequence x_n is defined by the recurrence relation (n+1)(n-2)x_{n+1} = n(n² - n -1)x_n - (n-1)^3x_{n-1} for n ≥ 2,\nThe initial terms are x_2 = 1 and x_3 = 1,\nx_n is an integer if and only if n is a prime number.\n\nWait, no. The conjecture is not an assumption. The assumptions are the given conditions. The problem is to prove the conjecture. So the assumptions are the recurrence and the initial conditions. The problem is to prove that x_n is integer iff n is prime.\n\nTherefore:\n\nAssumption:\nThe sequence x_n satisfies the recurrence (n+1)(n-2)x_{n+1} = n(n² - n -1)x_n - (n-1)^3x_{n-1} for n ≥ 2,\nx_2 = 1,\nx_3 = 1.\n\nProblem:\nProve that x_n is an integer if and only if n is a prime number.\n\nYes, that seems correct. Each assumption is a separate line, each addressing one condition. The first line states the recurrence, the next two lines the initial conditions. The problem is to prove the iff statement.\n\nBut in the example, the assumption had \"n is divisible by 7\" which was part of the problem's conditions. Here, the problem's conditions are the recurrence and initial terms. The conjecture is the problem to be proven. Therefore, the formatted problem is:\n\nAssumption:\nThe sequence x_n is defined for n ≥ 2 by the recurrence (n+1)(n-2)x_{n+1} = n(n² - n -1)x_n - (n-1)^3x_{n-1},\nx_2 = 1,\nx_3 = 1.\n\nProblem:\nProve that x_n is an integer if and only if n is a prime number.\n\nYes, this seems right. Each assumption is a separate line. The problem is the conjecture to be proven.",
    "Original_Problem": "Assumption: \nThe sequence $x_n$ is defined by the recurrence $(n+1)(n-2)x_{n+1}=n(n^2-n-1)x_n-(n-1)^3x_{n-1}$ for $n \\ge 2$,\n$x_2 = 1$,\n$x_3 = 1$.\nProblem:\nProve that $x_n$ is an integer if and only if $n$ is a prime number.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: The sequence $x_n$ is defined by the recurrence $(n+1)(n-2)x_{n+1}=n(n^2-n-1)x_n-(n-1)^3x_{n-1}$ for $n \\ge 2$,\nAssumption 2: $x_2 = 1$,\nAssumption 3: $x_3 = 1$.\nProblem:\nProve that $x_n$ is an integer if and only if $n$ is a prime number.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\n(n-2)(y_{n+1}-y_n) = (n-1)^2(y_n-y_{n-1}),\\\\\n\\frac{y_{n+1}-y_n}{n-1}=(n-1)\\frac{y_{n}-y_{n-1}}{n-2}.\n$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: The sequence $x_n$ is defined by the recurrence $(n+1)(n-2)x_{n+1}=n(n^2-n-1)x_n-(n-1)^3x_{n-1}$ for $n \\ge 2$,\nAssumption 2: $x_2 = 1$,\nAssumption 3: $x_3 = 1$.\nAssumption 4: $$\n(n-2)(y_{n+1}-y_n) = (n-1)^2(y_n-y_{n-1}),\\\\\n\\frac{y_{n+1}-y_n}{n-1}=(n-1)\\frac{y_{n}-y_{n-1}}{n-2}.\n$$\nProblem:\nProve that $x_n$ is an integer if and only if $n$ is a prime number."
}