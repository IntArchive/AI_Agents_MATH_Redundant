{
    "Link_API": "https://api.stackexchange.com/2.3/questions/90340",
    "Title": "Proving $(p \\to (q \\to r)) \\to ((p \\to q) \\to (p \\to r))$",
    "Score": 17,
    "Category": "Chứng minh",
    "Tags": "logic",
    "Link": "https://math.stackexchange.com/questions/90340/proving-p-to-q-to-r-to-p-to-q-to-p-to-r",
    "Content": "I'm looking for a way to prove $$\n(p \\to (q \\to r)) \\to ((p \\to q) \\to (p \\to r))\n$$\nfrom the axioms $$\n\\begin{align}\n& p \\to (q \\to p) \\\\\n& (p \\to (p \\to q)) \\to (p \\to q) \\\\\n& (p \\to q) \\to ((q \\to r) \\to (p \\to r)) \\\\\n& (\\sim p \\to \\, \\sim q) \\to (q \\to p) \\\\\n\\end{align}\n$$\nusing universal substitution and modus ponens I suspect the fourth axiom is not necessary for the proof. I have been working in Tarski's Introduction to Logic and am trying to establish the equivalence of his axiom system with the axioms used at us.metamath.org $$\n\\begin{align}\n& p \\to (q \\to p) \\\\\n& (p \\to (q \\to r)) \\to ((p \\to q) \\to (p \\to r)) \\\\\n& ( \\sim p  \\to  \\, \\sim q) \\to (q \\to p) \\\\\n\\end{align}\n$$\nwhich will allow me to connect Tarski's 4 axioms with all sorts of interesting proofs on that site.",
    "AcceptedAnswer": "As you suspected, this can be proved from the first three axioms only. I couldn't find a short proof, though – I tried brute force enumeration of the theorems deducible from the three axioms (by taking all pairs of theorems already proved and unifying one with the premise of the other), but didn't find your target in the first $80000$ theorems proved. I then found some guidance in the article on relevance logic in the Handbook of Philosophical Logic . Relevance logic focuses on the fragment of logic in which, roughly speaking, the premises are relevant to the conclusions. It doesn't include the axiom $p\\to(q\\to p)$, which allows us to add an irrelevant premise to a theorem already proved without that premise, and is thus strictly weaker than the system you're using, but we can nevertheless make use of the results cited in that article. I'll first describe the structure of the proof and how I found it, and then give the proof in detail. Here are the names I'll use for the axioms; the first column names the corresponding axioms of combinator logic, for comparison with the discussion in the comments under the question: $$\n\\begin{array}{c|l|l}\n\\mathbf I&\\text{self-implication}&p\\to p\\\\\n\\mathbf K&\\text{weakening}& p \\to (q \\to p) \\\\\n\\hline\n\\mathbf B&\\text{prefixing}& (p \\to q) \\to ((r \\to p) \\to (r \\to q)) \\\\\n\\mathbf A&\\text{suffixing}& (p \\to q) \\to ((q \\to r) \\to (p \\to r)) \\\\\n\\hline\n\\mathbf W&\\text{contraction}& (p \\to (p \\to q)) \\to (p \\to q) \\\\\n\\mathbf S&\\text{self-distribution}&(p \\to (q \\to r)) \\to ((p \\to q) \\to (p \\to r))\\\\\n\\hline\n\\mathbf C&\\text{permutation}&(p\\to(q\\to r))\\to(q\\to(p\\to r))\\\\\n&\\text{assertion}&p\\to((p\\to q)\\to q)\n\\end{array}\n$$ (The names are the ones used in the article, except I use \"weakening\" instead of \"positive paradox\", since it's shorter and makes more sense to me.) Theorem $1$ of the article states that, with modus ponens (and implicitly universal substitution), the axiom sets formed by self-implication and one each from the three pairs prefixing/suffixing, contraction/self-distribution and permutation/assertion lead to the same theory. What you have is weakening, suffixing and contraction. Self-implication can be deduced from weakening and contraction in a single step (by substituting $p$ for $q$ everywhere). Thus, if we can deduce assertion in your system, the theorem will tell us that we can deduce everything else, including your target, self-distribution. I did find a proof for assertion by brute force search. The article doesn't give a proof of its Theorem $1$ and only says that it can be proved by consulting a book that isn't available online and doing some \"fiddling\", so we still have to show how to get from self-implication, suffixing, contraction and assertion to self-distribution. I found a deduction of self-distribution online that uses prefixing and permutation. It turns out that prefixing is deducible in a single step from suffixing and permutation, so the problem remained only to deduce permutation. Again, I found a proof for this by brute force search. So here's the entire proof put together, starting with your three axioms and ending with your target. First, a high-level description similar to the actual calls in my Java code: assertion = t (t (weakening,suffixing),contraction);\npermutation = t (suffixing,m (assertion,suffixing));\nprefixing = m (suffixing,permutation);\ntarget = t (m (prefixing,prefixing),t (permutation,m (contraction,prefixing))); Each call to m is an application of modus ponens , in which the first argument is $A$, the second argument is $A\\to B$ and the most general unifier that makes the $A$s coincide is used. Each call to t is an invocation of transitivity (i.e. deducing $A\\to C$ from $A\\to B$ and $B\\to C$), which can be implemented as t (A->B,B->C) = m (B->C,m (A->B,suffixing)) using suffixing, or as t (A->B,B->C) = m (A->B,m (B->C,prefixing)) once prefixing is available. Here's the proof spelled out in $14$ steps. The first table shows the theorems used to generate the antecedents $A$ and the implications $A\\to B$ for modus ponens , as well as the resulting theorems $B$: $$\n\\begin{array}{c|c|c|c|c}\n&&A&A\\to B&B\\\\\\hline\n\\text{(a)}&\\text{weakening}&&&p \\to (q \\to p)\\\\\n\\text{(b)}&\\text{suffixing}&&&(p \\to q) \\to ((q \\to r) \\to (p \\to r))\\\\\n\\text{(c)}&\\text{contraction}&&&(p \\to (p \\to q)) \\to (p \\to q)\\\\\n\\hline\n\\text{(d)}&\\text{*}&\\text{(a)}&\\text{(b)}&((p \\to q) \\to r) \\to (q \\to r)\\\\\n\\text{(e)}&&\\text{(b)}&\\text{(d)}&p \\to ((p \\to q) \\to (r \\to q))\\\\\n\\text{(f)}&\\text{*}&\\text{(e)}&\\text{(b)}&(((p \\to q) \\to (r \\to q)) \\to s) \\to (p \\to s)\\\\\n\\text{(g)}&\\text{assertion}&\\text{(c)}&\\text{(f)}&p \\to ((p \\to q) \\to q)\\\\\n\\text{(h)}&&\\text{(g)}&\\text{(b)}&(((p \\to q) \\to q) \\to r) \\to (p \\to r)\\\\\n\\text{(i)}&\\text{*}&\\text{(b)}&\\text{(b)}&(((p \\to q) \\to (r \\to q)) \\to s) \\to ((r \\to p) \\to s)\\\\\n\\text{(j)}&\\text{permutation}&\\text{(h)}&\\text{(i)}&(p \\to (q \\to r)) \\to (q \\to (p \\to r))\\\\\n\\text{(k)}&\\text{prefixing}&\\text{(b)}&\\text{(j)}&(p \\to q) \\to ((r \\to p) \\to (r \\to q))\\\\\n\\text{(l)}&&\\text{(k)}&\\text{(k)}&(p \\to (q \\to r)) \\to (p \\to ((s \\to q) \\to (s \\to r)))\\\\\n\\text{(m)}&&\\text{(c)}&\\text{(k)}&(p \\to (q \\to (q \\to r))) \\to (p \\to (q \\to r))\\\\\n\\text{(n)}&\\text{*}&\\text{(j)}&\\text{(b)}&((p \\to (q \\to r)) \\to s) \\to ((q \\to (p \\to r)) \\to s)\\\\\n\\text{(o)}&&\\text{(m)}&\\text{(n)}&(p \\to (q \\to (p \\to r))) \\to (q \\to (p \\to r))\\\\\n\\text{(p)}&\\text{*}&\\text{(l)}&\\text{(b)}&((p \\to ((q \\to r) \\to (q \\to s))) \\to t) \\to ((p \\to (r \\to s)) \\to t)\\\\\n\\text{(q)}&\\text{self-distribution}&\\text{(o)}&\\text{(p)}&(p \\to (q \\to r)) \\to ((p \\to q) \\to (p \\to r))\\\\\n\\end{array}\n$$ The asterisks mark intermediate steps in invocations of transitivity. Note that most theorems with more than three variables occur only in such intermediate steps. Substitutions are being performed as late as possible; by performing them as early as possible, the proof could be written using only theorems with at most three variables. The second table shows the substitutions used; you can also find these automatically by unification . The variables are named such that they appear in alphabetical order in the resulting theorems. $$\n\\begin{array}{c|l|l}\n&A&A\\to B\\\\\\hline\n\\text{(d)}&\np\\mapsto q,q\\mapsto p&\np\\mapsto q,q\\mapsto (p \\to q),r\\mapsto r\\\\\n\\text{(e)}&\np\\mapsto r,q\\mapsto p,r\\mapsto q&\np\\mapsto r,q\\mapsto p,r\\mapsto ((p \\to q) \\to (r \\to q))\\\\\n\\text{(f)}&\np\\mapsto p,q\\mapsto q,r\\mapsto r&\np\\mapsto p,q\\mapsto ((p \\to q) \\to (r \\to q)),r\\mapsto s\\\\\n\\text{(g)}&\np\\mapsto (p \\to q),q\\mapsto q&\np\\mapsto p,q\\mapsto q,r\\mapsto (p \\to q),s\\mapsto ((p \\to q) \\to q)\\\\\n\\text{(h)}&\np\\mapsto p,q\\mapsto q&\np\\mapsto p,q\\mapsto ((p \\to q) \\to q),r\\mapsto r\\\\\n\\text{(i)}&\np\\mapsto r,q\\mapsto p,r\\mapsto q&\np\\mapsto (r \\to p),q\\mapsto ((p \\to q) \\to (r \\to q)),r\\mapsto s\\\\\n\\text{(j)}&\np\\mapsto q,q\\mapsto r,r\\mapsto (p \\to r)&\np\\mapsto (q \\to r),q\\mapsto r,r\\mapsto p,s\\mapsto (q \\to (p \\to r))\\\\\n\\text{(k)}&\np\\mapsto r,q\\mapsto p,r\\mapsto q&\np\\mapsto (r \\to p),q\\mapsto (p \\to q),r\\mapsto (r \\to q)\\\\\n\\text{(l)}&\np\\mapsto q,q\\mapsto r,r\\mapsto s&\np\\mapsto (q \\to r),q\\mapsto ((s \\to q) \\to (s \\to r)),r\\mapsto p\\\\\n\\text{(m)}&\np\\mapsto q,q\\mapsto r&\np\\mapsto (q \\to (q \\to r)),q\\mapsto (q \\to r),r\\mapsto p\\\\\n\\text{(n)}&\np\\mapsto q,q\\mapsto p,r\\mapsto r&\np\\mapsto (q \\to (p \\to r)),q\\mapsto (p \\to (q \\to r)),r\\mapsto s\\\\\n\\text{(o)}&\np\\mapsto q,q\\mapsto p,r\\mapsto r&\np\\mapsto q,q\\mapsto p,r\\mapsto (p \\to r),s\\mapsto (q \\to (p \\to r))\\\\\n\\text{(p)}&\np\\mapsto p,q\\mapsto r,r\\mapsto s,s\\mapsto q&\np\\mapsto (p \\to (r \\to s)),q\\mapsto (p \\to ((q \\to r) \\to (q \\to s))),r\\mapsto t\\\\\n\\text{(q)}&\np\\mapsto p,q\\mapsto (p \\to q),r\\mapsto r&\np\\mapsto p,q\\mapsto p,r\\mapsto q,s\\mapsto r,t\\mapsto ((p \\to q) \\to (p \\to r))\\\\\n\\end{array}\n$$",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: The logical system includes the axiom $p \\to (q \\to p)$,  \nThe logical system includes the axiom $(p \\to (p \\to q)) \\to (p \\to q)$,  \nThe logical system includes the axiom $(p \\to q) \\to ((q \\to r) \\to (p \\to r))$,  \nThe logical system includes the axiom $(\\sim p \\to \\, \\sim q) \\to (q \\to p)$.  \nProblem: Prove $$(p \\to (q \\to r)) \\to ((p \\to q) \\to (p \\to r))$$ using the given axioms, universal substitution, and modus ponens.  \n###END_OF_FORMAT###",
    "reasoning_create_structured_problem": "Okay, let's tackle this problem. The user wants to prove the statement (p → (q → r)) → ((p → q) → (p → r)) using the given axioms. The axioms provided are:\n\n1. p → (q → p)\n2. (p → (p → q)) → (p → q)\n3. (p → q) → ((q → r) → (p → r))\n4. (~p → ~q) → (q → p)\n\nThey also mention that the fourth axiom might not be necessary. The goal is to structure the problem according to the specified format. \n\nFirst, I need to list all the assumptions. The problem states that we need to use the four axioms, but the user suspects the fourth isn't needed. However, since the original problem includes all four axioms as given, I should list them as assumptions. Each assumption should be a single line, addressing one property or condition applied to one object. So each axiom is a separate assumption. \n\nThe problem is to prove the given implication using these axioms with substitution and modus ponens. So the assumptions are the four axioms, and the problem is the statement to be proven. The user's thoughts about the fourth axiom not being necessary are part of their reasoning but not part of the problem's assumptions. The problem's explicit assumptions are the four axioms listed.\n\nSo, structuring this:\n\nAssumption: The logical system includes the axiom p → (q → p)\nAssumption: The logical system includes the axiom (p → (p → q)) → (p → q)\nAssumption: The logical system includes the axiom (p → q) → ((q → r) → (p → r))\nAssumption: The logical system includes the axiom (~p → ~q) → (q → p)\nProblem: Prove that (p → (q → r)) → ((p → q) → (p → r)) using the given axioms with universal substitution and modus ponens.\n\nWait, but in the example provided, the assumptions were about n being an integer and divisible by 7. Here, the \"assumptions\" in the problem are the axioms given. However, in the original example, the assumptions were about the properties of the objects in the problem. In this case, the problem's assumptions are the axioms provided. So each axiom is an assumption of the logical system we're working within. Therefore, each axiom is listed as an assumption.\n\nBut the user also wants to connect Tarski's 4 axioms with the 3-axiom system. However, the problem is specifically to prove the given statement using the four axioms. The equivalence part is the broader context but the immediate problem is the proof. So the problem is to prove the formula using those four axioms, even though the user thinks the fourth isn't needed. The problem as stated in the question is to prove the implication from the four axioms. Therefore, the assumptions are the four axioms. \n\nSo the formatted problem should list each axiom as a separate assumption line. Then the problem is to prove the given implication. Therefore, the answer would be structured as per the example.",
    "Original_Problem": "Assumption: The logical system includes the axiom $p \\to (q \\to p)$,  \nThe logical system includes the axiom $(p \\to (p \\to q)) \\to (p \\to q)$,  \nThe logical system includes the axiom $(p \\to q) \\to ((q \\to r) \\to (p \\to r))$,  \nThe logical system includes the axiom $(\\sim p \\to \\, \\sim q) \\to (q \\to p)$.  \nProblem: Prove $$(p \\to (q \\to r)) \\to ((p \\to q) \\to (p \\to r))$$ using the given axioms, universal substitution, and modus ponens.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: The logical system includes the axiom $p \\to (q \\to p)$,  \nAssumption 2: The logical system includes the axiom $(p \\to (p \\to q)) \\to (p \\to q)$,  \nAssumption 3: The logical system includes the axiom $(p \\to q) \\to ((q \\to r) \\to (p \\to r))$,  \nAssumption 4: The logical system includes the axiom $(\\sim p \\to \\, \\sim q) \\to (q \\to p)$.\nProblem: Prove $$(p \\to (q \\to r)) \\to ((p \\to q) \\to (p \\to r))$$ using the given axioms, universal substitution, and modus ponens.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\n\\begin{array}{c|l|l}\n&A&A\\to B\\\\\\hline\n\\text{(d)}&\np\\mapsto q,q\\mapsto p&\np\\mapsto q,q\\mapsto (p \\to q),r\\mapsto r\\\\\n\\text{(e)}&\np\\mapsto r,q\\mapsto p,r\\mapsto q&\np\\mapsto r,q\\mapsto p,r\\mapsto ((p \\to q) \\to (r \\to q))\\\\\n\\text{(f)}&\np\\mapsto p,q\\mapsto q,r\\mapsto r&\np\\mapsto p,q\\mapsto ((p \\to q) \\to (r \\to q)),r\\mapsto s\\\\\n\\text{(g)}&\np\\mapsto (p \\to q),q\\mapsto q&\np\\mapsto p,q\\mapsto q,r\\mapsto (p \\to q),s\\mapsto ((p \\to q) \\to q)\\\\\n\\text{(h)}&\np\\mapsto p,q\\mapsto q&\np\\mapsto p,q\\mapsto ((p \\to q) \\to q),r\\mapsto r\\\\\n\\text{(i)}&\np\\mapsto r,q\\mapsto p,r\\mapsto q&\np\\mapsto (r \\to p),q\\mapsto ((p \\to q) \\to (r \\to q)),r\\mapsto s\\\\\n\\text{(j)}&\np\\mapsto q,q\\mapsto r,r\\mapsto (p \\to r)&\np\\mapsto (q \\to r),q\\mapsto r,r\\mapsto p,s\\mapsto (q \\to (p \\to r))\\\\\n\\text{(k)}&\np\\mapsto r,q\\mapsto p,r\\mapsto q&\np\\mapsto (r \\to p),q\\mapsto (p \\to q),r\\mapsto (r \\to q)\\\\\n\\text{(l)}&\np\\mapsto q,q\\mapsto r,r\\mapsto s&\np\\mapsto (q \\to r),q\\mapsto ((s \\to q) \\to (s \\to r)),r\\mapsto p\\\\\n\\text{(m)}&\np\\mapsto q,q\\mapsto r&\np\\mapsto (q \\to (q \\to r)),q\\mapsto (q \\to r),r\\mapsto p\\\\\n\\text{(n)}&\np\\mapsto q,q\\mapsto p,r\\mapsto r&\np\\mapsto (q \\to (p \\to r)),q\\mapsto (p \\to (q \\to r)),r\\mapsto s\\\\\n\\text{(o)}&\np\\mapsto q,q\\mapsto p,r\\mapsto r&\np\\mapsto q,q\\mapsto p,r\\mapsto (p \\to r),s\\mapsto (q \\to (p \\to r))\\\\\n\\text{(p)}&\np\\mapsto p,q\\mapsto r,r\\mapsto s,s\\mapsto q&\np\\mapsto (p \\to (r \\to s)),q\\mapsto (p \\to ((q \\to r) \\to (q \\to s))),r\\mapsto t\\\\\n\\text{(q)}&\np\\mapsto p,q\\mapsto (p \\to q),r\\mapsto r&\np\\mapsto p,q\\mapsto p,r\\mapsto q,s\\mapsto r,t\\mapsto ((p \\to q) \\to (p \\to r))\\\\\n\\end{array}\n$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: The logical system includes the axiom $p \\to (q \\to p)$,  \nAssumption 2: The logical system includes the axiom $(p \\to (p \\to q)) \\to (p \\to q)$,  \nAssumption 3: The logical system includes the axiom $(p \\to q) \\to ((q \\to r) \\to (p \\to r))$,  \nAssumption 4: The logical system includes the axiom $(\\sim p \\to \\, \\sim q) \\to (q \\to p)$.\nAssumption 5: $$\n\\begin{array}{c|l|l}\n&A&A\\to B\\\\\\hline\n\\text{(d)}&\np\\mapsto q,q\\mapsto p&\np\\mapsto q,q\\mapsto (p \\to q),r\\mapsto r\\\\\n\\text{(e)}&\np\\mapsto r,q\\mapsto p,r\\mapsto q&\np\\mapsto r,q\\mapsto p,r\\mapsto ((p \\to q) \\to (r \\to q))\\\\\n\\text{(f)}&\np\\mapsto p,q\\mapsto q,r\\mapsto r&\np\\mapsto p,q\\mapsto ((p \\to q) \\to (r \\to q)),r\\mapsto s\\\\\n\\text{(g)}&\np\\mapsto (p \\to q),q\\mapsto q&\np\\mapsto p,q\\mapsto q,r\\mapsto (p \\to q),s\\mapsto ((p \\to q) \\to q)\\\\\n\\text{(h)}&\np\\mapsto p,q\\mapsto q&\np\\mapsto p,q\\mapsto ((p \\to q) \\to q),r\\mapsto r\\\\\n\\text{(i)}&\np\\mapsto r,q\\mapsto p,r\\mapsto q&\np\\mapsto (r \\to p),q\\mapsto ((p \\to q) \\to (r \\to q)),r\\mapsto s\\\\\n\\text{(j)}&\np\\mapsto q,q\\mapsto r,r\\mapsto (p \\to r)&\np\\mapsto (q \\to r),q\\mapsto r,r\\mapsto p,s\\mapsto (q \\to (p \\to r))\\\\\n\\text{(k)}&\np\\mapsto r,q\\mapsto p,r\\mapsto q&\np\\mapsto (r \\to p),q\\mapsto (p \\to q),r\\mapsto (r \\to q)\\\\\n\\text{(l)}&\np\\mapsto q,q\\mapsto r,r\\mapsto s&\np\\mapsto (q \\to r),q\\mapsto ((s \\to q) \\to (s \\to r)),r\\mapsto p\\\\\n\\text{(m)}&\np\\mapsto q,q\\mapsto r&\np\\mapsto (q \\to (q \\to r)),q\\mapsto (q \\to r),r\\mapsto p\\\\\n\\text{(n)}&\np\\mapsto q,q\\mapsto p,r\\mapsto r&\np\\mapsto (q \\to (p \\to r)),q\\mapsto (p \\to (q \\to r)),r\\mapsto s\\\\\n\\text{(o)}&\np\\mapsto q,q\\mapsto p,r\\mapsto r&\np\\mapsto q,q\\mapsto p,r\\mapsto (p \\to r),s\\mapsto (q \\to (p \\to r))\\\\\n\\text{(p)}&\np\\mapsto p,q\\mapsto r,r\\mapsto s,s\\mapsto q&\np\\mapsto (p \\to (r \\to s)),q\\mapsto (p \\to ((q \\to r) \\to (q \\to s))),r\\mapsto t\\\\\n\\text{(q)}&\np\\mapsto p,q\\mapsto (p \\to q),r\\mapsto r&\np\\mapsto p,q\\mapsto p,r\\mapsto q,s\\mapsto r,t\\mapsto ((p \\to q) \\to (p \\to r))\\\\\n\\end{array}\n$$\nProblem: Prove $$(p \\to (q \\to r)) \\to ((p \\to q) \\to (p \\to r))$$ using the given axioms, universal substitution, and modus ponens."
}