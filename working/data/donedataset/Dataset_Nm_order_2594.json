{
    "Link_API": "https://api.stackexchange.com/2.3/questions/1017662",
    "Title": "Proof of fundamental lemma of calculus of variation.",
    "Score": 13,
    "Category": "Chứng minh",
    "Tags": "real-analysis, calculus-of-variations",
    "Link": "https://math.stackexchange.com/questions/1017662/proof-of-fundamental-lemma-of-calculus-of-variation",
    "Content": "Suppose $\\Omega$ is an open subset of $\\mathbb{R}^n$ and let $L^1_\\text{Loc}(\\Omega)$ denote all locally integrable functions on $\\Omega$ and $C^{\\infty}_0(\\Omega)$ for smooth functions whose support lie in $\\Omega$ . My teacher tells me the following statement: Suppose $f\\in L_{Loc}^1(\\Omega)$ and $$\\int_\\Omega f\\varphi=0,\\quad\\forall\\varphi\\in C^\\infty_0(\\Omega)$$ Then $f=0\\text{ a.e.}$ on $\\Omega$ . It is known as fundamental lemma of calculus of variation. My teacher told me it suffices to prove this statement holds for the case $f$ is continuous. But I find it's not easy to deduce the lemma from the case $f$ is continuous. Could someone tell me how to do this or how to prove the lemma directly? Thanks a lot!",
    "AcceptedAnswer": "I will now outline a proof I managed to come up with, so as to have this outline available online. It seems a web search does not present a proof that doesn't assume continuity on the part of $f$… Continuous case If $f$ is continuous, the steps are two: Prove the hypothesis stays true if you substitute smooth compactly supported (henceforth cs) functions with characteristics of balls; this is achieved via smooth transitions , which approximate characteristics of balls pointwise (but evidently not uniformly); $f$ is continuous, so if $f(x)\\neq0$ for some $x$, there exists a ball around $x$ where $f$ has constant sign; integrate $f$ times the characteristic of that ball and you should get something nonzero by what I just said, and zero by step 1: a contradiction; so $f=0$ everywhere. General case The proof here is much longer. Approximate continuous functions uniformly (and thus in $L^1$ and pointwise a.e.) by convolutions; in other words, define: $$\\rho_n(x)=\\left\\{\\begin{array}{cc}\nn^Ne^{\\frac{1}{1-\\|x\\|^2}} & \\|x\\|\\leq1 \\\\\n0 & \\text{otherwise}\n\\end{array}\\right.,$$ where $N$ is the dimension of the space $f$ is defined on (i.e., $f:\\Omega\\subseteq\\mathbb{R}^N\\to\\mathbb{R}$); then let: $$\\rho_n\\ast u(x)=\\int_{\\mathrm{supp}(u)}\\rho_n(x-y)u(y)\\mathrm{d}y=\\int_{B(0,\\frac1n)}\\rho_n(y)u(x-y)\\mathrm{d}y.$$ By the first expression, this is a smooth function; the support is the sum of the ball and the support of $u$, thus if $u\\in C_c(\\Omega)$, the support is compact; finally, using the second expression and a few manipulations, one can prove $\\rho_n\\ast u-u$ has $L^1$ norm less than the supremum of $\\|\\tau_yu-u\\|_{L^1}$ over $|y|<\\frac1n$, where $\\tau_yu(x)=u(x-y)$; that $L^1$ norm reduces to integrating over the compact support of $u$, thus $u$ is uniformly continuous there, and this can be used to prove that sup tends to zero, and hence $\\rho_n\\ast u\\to u$ in $L^1$; a subsequence thus converges a.e., everything here is bounded by the sup of $u$ which is continuous and compactly supported therefore bounded, so we have a domination and we conclude $f\\rho_n\\ast u\\to fu$ in $L^1$, so the integrals converge, but the LHS always integrates to 0; For any $\\frac1n$, one has a finite cover of a compact set $K\\subseteq\\Omega$ by balls of radius $\\frac1n$, and thus a partition of unity, i.e. a collection of $\\phi_i^{(n)}$ which are in bijection with those balls, are each zero outside the matching ball, and sum to 1 on $K$ and less than 1 out of it; plus, they are continuous, so $f\\sum\\phi_j^{(n)}$ always integrates to 0; finally, those converge pointwise (at least a.e.) to the indicator of $K$, so since we have a domination we conclude the integrals of $f\\sum\\phi_i^{(n)}$ tend to the integral of $f$ over $K$ as $n\\to\\infty$, but those integrals are all 0 by step 1; hence $f$ integrates to 0 over all compact subsets of $\\Omega$; The Lebesgue measure is inner regular, so there is, for any measurable $M\\subseteq\\Omega$, a sequence $K_n$ of compacts such that $\\mu(K_n)\\to\\mu(M)$; this easily implies $L^1$ convergence of the indicators of those compacts to that of $M$; thus, along a subsequence, there is pointwise a.e. convergence; so I should be able to deduce the integrals of $f$ over those compacts converge to that of $f$ over $M$, but I'm not so sure I can use dominate convergence here; perhaps I can just restrict myself to the sets below…; $f$ is measurable due to integrability, hence $F^+:=\\{f>0\\},F_-:=\\{f<0\\}$ are both measurable; their characteristics are approximated by characteristics of compact subsets as shown above; in those cases, I can apply Fatou if Dominated Convergence doesn't apply; Fatou surely yields $\\int_\\Omega f^+\\leq0$, as well as the integral of $f^-$; but those functions are positive, hence those integrals are 0, and they sum to $\\int_\\Omega|f|$, which is therefore 0; and bingo: this implies -- at long last!! -- $f=0$ a.e.. Can someone please verify these steps, and say if I've gone wrong at some point? In particular, in general case step 3, I'm afraid DC is unavailable in general since if $\\Omega$ is not bounded a constant is no domination, and besides I still have $f$ around which is only locally integrable, so I can use DC if $M$ is contained in a compact set, otherwise $f$ integrated over $M$ might well be infinite… so can I use DC to simplify things or do I have to use Fatou on the sets of point 4?",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$\\Omega$ is an open subset of $\\mathbb{R}^n$,\n$f \\in L^1_{\\text{Loc}}(\\Omega)$,\nFor every $\\varphi \\in C^\\infty_0(\\Omega)$, $\\int_\\Omega f\\varphi \\, dx = 0$.\nProblem: \nProve that $f = 0$ almost everywhere on $\\Omega$.\n###END_OF_FORMAT###",
    "reasoning_create_structured_problem": "Okay, let me try to tackle this problem step by step. So, the user wants me to structure the given Math Stack Exchange question into the specified format. The example provided helps, but I need to make sure I understand the requirements correctly.\n\nFirst, the task is to extract the assumptions from the problem and list them line by line, each addressing only one property or condition of one object. Then, present the problem statement clearly.\n\nLooking at the example, the original problem mentions proving that A(n) is divisible by 91 for every integer n. The formatted version lists two assumptions: n is an integer and n is divisible by 7. Wait, but in the original problem, there was no mention that n is divisible by 7. That seems like an error. Wait, no, maybe the example was different? Let me check again.\n\nWait, no, in the example, the original problem states \"for every integer n,\" but the formatted problem adds an assumption that n is divisible by 7. That might be a mistake in the example. However, the user probably provided that example as part of their instruction, so maybe I shouldn't question it. My job is to apply the same approach to the given problem.\n\nNow, looking at the current problem from Math Stack Exchange. The title is \"Proof of fundamental lemma of calculus of variation.\" The question is about proving that if f is in L^1_loc(Ω) and the integral of fφ over Ω is zero for all φ in C^∞_0(Ω), then f=0 almost everywhere on Ω. The user's teacher suggested proving it first for continuous f and then extending, but the user is stuck on how to do that.\n\nSo, the problem here is to prove the fundamental lemma of calculus of variations under the given conditions. The assumptions need to be broken down. Let's parse the problem statement:\n\nAssumptions from the problem:\n1. Ω is an open subset of ℝ^n.\n2. L^1_Loc(Ω) denotes the space of locally integrable functions on Ω.\n3. C^∞_0(Ω) denotes smooth functions with compact support in Ω.\n4. f ∈ L^1_Loc(Ω).\n5. ∫_Ω fφ = 0 for all φ ∈ C^∞_0(Ω).\n\nThe conclusion to prove is that f = 0 almost everywhere on Ω.\n\nNow, each assumption should be listed line by line, each addressing one property of one object.\n\nSo, breaking it down:\n\n- First, Ω is an open subset of ℝ^n. That's a single condition about Ω.\n- Second, L^1_Loc(Ω) is defined as all locally integrable functions on Ω. But this is more of a definition. However, the problem assumes f is in this space, so perhaps that's the assumption to list.\n- Similarly, C^∞_0(Ω) is defined as smooth functions with compact support in Ω. Again, the problem uses this space in the condition, but the assumption here is that φ belongs to this space.\n- The main assumptions are f ∈ L^1_Loc(Ω) and the integral condition.\n\nBut according to the example, assumptions should list each condition applied to one object. So, for example, \"f is in L^1_Loc(Ω)\" is one assumption. \"The integral of fφ over Ω is zero for all φ in C^∞_0(Ω)\" is another.\n\nAdditionally, the problem might have implicit assumptions like Ω being open, which is stated in the problem setup.\n\nPutting it all together:\n\nAssumption:\nΩ is an open subset of ℝ^n,\nf is an element of L^1_Loc(Ω),\nFor all φ in C^∞_0(Ω), the integral of fφ over Ω equals zero.\n\nThen the problem is to prove that f = 0 almost everywhere on Ω.\n\nWait, but do I need to include the definitions of L^1_Loc and C^∞_0 as separate assumptions? The example didn't include definitions. The example listed \"n is an integer\" as an assumption, which is given in the problem. The other assumption in the example seems to be an added condition (n divisible by 7), which might not have been in the original problem. Wait, the original problem in the example was to prove for every integer n, A(n) is divisible by 91, but the formatted problem added that n is divisible by 7. That seems incorrect. Maybe the example was a mistake, but I should follow the user's instruction regardless.\n\nIn the current problem, the user mentions Ω is open, which is part of the setup, so that's an assumption. The function spaces are defined, but the key assumptions are that f is locally integrable and the integral condition. The definitions of the spaces are part of the problem's context but not assumptions per se. So, perhaps the assumptions are:\n\n1. Ω is an open subset of ℝ^n.\n2. f is a locally integrable function on Ω (i.e., f ∈ L^1_loc(Ω)).\n3. For every smooth function φ with compact support in Ω, the integral of fφ over Ω is zero.\n\nThen the problem is to prove that f = 0 almost everywhere in Ω.\n\nSo each of these is a separate line in the Assumption section. The problem statement is then to prove f=0 a.e. under these conditions.\n\nI think that's the correct breakdown. The teacher's suggestion about reducing to the case where f is continuous is part of the user's struggle but not part of the problem's assumptions. The problem as stated by the user is to prove the lemma as given, so the assumptions are those directly stated in the lemma.",
    "Original_Problem": "Assumption: \n$\\Omega$ is an open subset of $\\mathbb{R}^n$,\n$f \\in L^1_{\\text{Loc}}(\\Omega)$,\nFor every $\\varphi \\in C^\\infty_0(\\Omega)$, $\\int_\\Omega f\\varphi \\, dx = 0$.\nProblem: \nProve that $f = 0$ almost everywhere on $\\Omega$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $\\Omega$ is an open subset of $\\mathbb{R}^n$,\nAssumption 2: $f \\in L^1_{\\text{Loc}}(\\Omega)$,\nAssumption 3: For every $\\varphi \\in C^\\infty_0(\\Omega)$, $\\int_\\Omega f\\varphi \\, dx = 0$.\nProblem: \nProve that $f = 0$ almost everywhere on $\\Omega$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\\rho_n(x)=\\left\\{\\begin{array}{cc}\nn^Ne^{\\frac{1}{1-\\|x\\|^2}} & \\|x\\|\\leq1 \\\\\n0 & \\text{otherwise}\n\\end{array}\\right.,$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $\\Omega$ is an open subset of $\\mathbb{R}^n$,\nAssumption 2: $f \\in L^1_{\\text{Loc}}(\\Omega)$,\nAssumption 3: For every $\\varphi \\in C^\\infty_0(\\Omega)$, $\\int_\\Omega f\\varphi \\, dx = 0$.\nAssumption 4: $$\\rho_n(x)=\\left\\{\\begin{array}{cc}\nn^Ne^{\\frac{1}{1-\\|x\\|^2}} & \\|x\\|\\leq1 \\\\\n0 & \\text{otherwise}\n\\end{array}\\right.,$$\nProblem: \nProve that $f = 0$ almost everywhere on $\\Omega$."
}