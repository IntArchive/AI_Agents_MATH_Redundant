{
    "Link_API": "https://api.stackexchange.com/2.3/questions/653764",
    "Title": "How to either prove or disprove if it is possible to arrange a series of numbers such the sum of any two adjacent number adds up to a prime number",
    "Score": 21,
    "Category": "Chứng minh",
    "Tags": "sequences-and-series, prime-numbers, summation, primality-test",
    "Link": "https://math.stackexchange.com/questions/653764/how-to-either-prove-or-disprove-if-it-is-possible-to-arrange-a-series-of-numbers",
    "Content": "I'm wondering if it's possible to write a theorem to prove or disprove the possibility of arranging a sequence of numbers (1,2,...n) such that the sum of any two numbers adds up to a prime number. An Example: Input: Say n=7. The sequence is 1,2,3,4,5,6,7 Output: 7,6,5,2,1,4,3 Here are a few numbers where a program I wrote seems to fail for n=71\nsolution sequence:\n36 37 52 61 18 19 54 55 58 45 56 11 26 27 44 53 60 67 6 7 10 13 30 31 48 49 64 3 4 15 16 21 22 25 28 33 34 39 40 43 46 51 62 65 66 71 2 5 8 9 14 17 20 23 24 29 32 35 38 41 42 47 50 63 68 69 70 1 12 59 \n But unable to fit: 57 \n\nn=50\nsolution sequence:\n19 12 49 30 31 48 11 50 3 4 15 38 41 42 47 6 7 10 13 18 23 24 29 32 35 44 45 2 5 8 9 14 17 20 21 22 25 28 33 34 39 40 43 46 1 36 \nBut unable to fit: 37 27 26 16 Successful attempts: n=17\n3 4 7 10 13 6 11 12 17 2 5 8 9 14 15 16 \n\nn=25\n23 24 19 12 11 18 25 6 7 10 13 16 3 4 15 2 5 8 9 14 17 20 21 22 1 Here is the program (very dirty I warn you!) I wrote to be able to generate the above output. Hint: Change max to the number you want and try it out.",
    "AcceptedAnswer": "Every number $n\\leq 10^{262}$ is interesting , a property that guarantees a permutation of $\\{1,2,\\ldots, n\\}$ such that the sum of any adjacent numbers is a prime number. This lower bound for a non interesting number was computed by Charles . A number $n$ is interesting if there is a permutation of $\\{1,2,3,\\ldots,n\\}$ that either starts or ends with $n$ and the sum of any adjacent numbers is a prime number. Such a permutation is also called interesting. Theorem. If $(p, p+2)$ is a prime pair, then $p$ and $p+1$ are always interesting. Moreover, if $k\\leq (p+1)/2$ is interesting, then $p+1-k$ is interesting. For the $p+1$ and $p$ cases, use the sequence $S_p=(a_n)_{n=1}^p$ defined by $a_{2k-1}=2k-1$ and $a_{2k}=p-(2k-1)$. The sequence $S_p$ is always interesting. The results can only be $p$ or $p+2$, and they are prime by hypothesis. Because $a_p=p$ and $a_1=1$, we can always create a new interesting sequence $S'$ of length $p+1$. $\\square$ To show that if $k\\leq (p+1)/2$ interesting, then $p+1-k$ is interesting, we will use the following algorithm to create an interesting sequence of length $p-k+1$ from $S_p$. Firstly, note that $a_{k}+a_{p+1-k}=p+1$. Find a sequence $S'$ by deleting the terms $a_m$ from $S_p$ such that $m\\leq k-1$ or $m\\geq p-(k-1)$. The set of deleted numbers is the union of the disjoint sets $I_{k-1}=\\{1,2,\\ldots,k-1\\}$ and $I_p\\setminus I_{p-k+1}=\\{p-(k-1)+1, p-(k-1)+2,\\ldots, p\\}$. Notice that $k$ is either $a_{k}$ (if $k$ is odd) or $a_{p-k}$ (if $k$ is even). Construct an interesting sequence $T_{k}$ of length $k$ and connect $T_k$ and $S'$ by $k$. The new sequence is a permutation of $$I_k\\cup\\left(I_{p}\\setminus\\left(I_{k-1}\\cup I_p\\setminus I_{p-k+1}\\right)\\right)=I_{p-k+1}$$ and it is interesting because $p-k+1$ is at the other extreme of the sequence. $\\square$ Applying the theorem a bit, we see that because $1$, $2$, $3$, $4$ and $5$ are interesting, then every $n\\leq 18$ is interesting. We now prove the following Lemma. If $k$ is interesting for every $k\\leq N$ and there is a prime pair $(p, p+2)$ such that $p\\leq 2N-1$, then every $k\\leq p+1$ is interesting. By the main theorem, $p-k+1$ is interesting for every $k\\leq N$, so the numbers $\\left\\{p+1-\\frac{p+1}{2}, p+2-\\frac{p+1}{2},\\ldots, p\\right\\}$ are interesting. By hypothesis, $p\\leq 2N-1$, so $p+1-(p+1)/2\\leq N$, therefore every $k\\leq p+1$ is interesting. Now that we've set the theoretical framework needed, we will describe a fast algorithm for finding interesting sequences. Applying the reasoning used to prove the main theorem, we will construct an interesting sequence of length $k$ from $S_p$ using another interesting sequence of length $p-n+1\\leq (p+1)/2$ by the following Algorithm. If $n$ is interesting and there is at least one prime twin $q\\leq 2n-1$, let $p$ be the least of such primes. Write $S_p=(a_k)_1^p$ and construct $S'$ by deleting $a_m$ for $m\\leq p-n$ or $m\\geq n$. Construct an interesting sequence $T_{p-n+1}$ of length $p-n+1$ and connect $S'$ and $T_{p-n+1}$. If $T_{p-n+1}$ is still too large to find, repeat the algorithm. The algorithm ends when the number found is sufficiently small. The algorithm must always end if the twin primes respect Bertrand's postulate for $t\\leq p$. Using the algorithm once, we constructed an implication $p-n+1\\to n$. If there is a least twin prime $q\\leq 2(p-n+1)-1$, the algorithm will run again to construct $q-(p-n+1)+1\\to p-n+1$ and so on. This is strictly decreasing, so the algorithm must stop at the worst case in $n$ steps. In practice, this is quite fast for moderately large numbers. For example, randomly take the number $n=28437$ and apply the algorithm. The least prime twin $\\geq 28437$ is $p=28547$, so we need to write down $S_{28547}$ and find a interesting sequence of length $28547-28437+1=111$. To find it, iterate the algorithm, using $n_2=111$. The next prime twin is $p_2=137$, so we write down $S_{137}$ and construct a sequence of length $137-111+1=27$. The next prime twin is $29$, so our life is easy now. Write down $S_{29}$ and find an interesting sequence $T_{27}$. Write down $S_{137}$ and find $T_{111}$ using $T_{27}$. Finish the algorithm by writing down $S_{28547}$ and finding $T_{28437}$. In three algorithm applications, we found an interesting sequence $T_{28437}$. This is way better than a brute force approach. We are now in position to begin the computations. We every $k\\leq 18$ is interesting. Together with the prime pair $(29, 31)$, we know every $k\\leq 30$ is interesting by the lemma. By iterating it, using this prime twins table and a calculator, $n$ is always interesting for $n\\leq 18\\times 10^6$ and probably for larger numbers. The safe bound was strengthened by chubakueno to be $\\geq 8825318188022112$ $\\approx 8,8\\times 10^{15}$. The best lower bound so far is a whooping $10^{165}$, found by Charles here . The twin prime conjecture alone is not enough for proving every number is interesting, but it would be sufficient that the prime twins respect Bertrand's postulate. As long as there is a prime pair $\\lt 2n$, we can always extend the results. It turns out the analysis made here is not new: I can date these theorems back as far as $2000$ here (with no rigorous proofs, however). This is an open problem from the late seventies , so these elementary theorems are probably much older. There is little hope these methods can lead to an actual proof independently of the distribution of twin primes: attempts made to combine primes $p$ and $p+2k$ to form interesting strings have been unfruitful.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \nThe sequence is a permutation of the integers $1, 2, \\ldots, n$.\nEach pair of consecutive numbers in the sequence sums to a prime number.\nProblem: \nProve or disprove that for every positive integer $n$, there exists a permutation of the numbers $1, 2, \\ldots, n$ such that the sum of any two adjacent numbers is a prime number.\n###",
    "reasoning_create_structured_problem": "Okay, so I need to structure this Math Stack Exchange question into the specified format. Let me start by reading through the original problem carefully.\n\nThe user is asking whether it's possible to arrange a sequence of numbers from 1 to n such that the sum of any two adjacent numbers is a prime number. They provided examples for n=7, n=71, n=50, and some successful cases like n=17 and n=25. They also mentioned a program they wrote which fails for certain numbers like 57 when n=71 and 37,27,26,16 when n=50.\n\nFirst, I need to identify the assumptions. The problem is about arranging the numbers 1 to n in a sequence where adjacent sums are prime. The key assumptions here would be:\n\n1. The sequence consists of numbers from 1 to n.\n2. Each number in the sequence is used exactly once.\n3. The sum of any two adjacent numbers in the sequence must be a prime number.\n\nWait, the original problem states \"a series of numbers (1,2,...n)\", so the first assumption is that the sequence includes each integer from 1 to n exactly once. The second condition is about adjacency sums being prime. Are there any other implicit assumptions? For example, the sequence is a permutation of 1 to n, so each number appears once. Also, the problem is about existence—whether such an arrangement is possible for any n or under certain conditions.\n\nLooking at the example the user provided earlier (the one with A(n) divisible by 91), the assumptions were listed as each condition applied to one object. So here, the assumptions would be:\n\n- The sequence is a permutation of the numbers 1, 2, ..., n.\n- The sum of any two adjacent numbers in the sequence is a prime number.\n\nBut wait, in the example given by the user, the assumptions included specific conditions like \"n is an integer\" and \"n is divisible by 7\". However, in the current problem, the user is not specifying any particular condition on n except that it's a positive integer. The problem is general for any n. However, the examples show that the user is interested in whether such an arrangement is possible for various n, and they provided cases where it's possible and where it's not. So the problem is to determine for a given n, whether such a permutation exists.\n\nBut the original question is asking to prove or disprove the possibility, not for a specific n. However, the user's examples include specific n values where it works or fails. So maybe the problem is general: for any integer n ≥1, can such a permutation exist?\n\nBut the user's examples also show that for some n (like 71,50), the arrangement isn't possible (or at least their program couldn't find it), while for others like 17,25 it is. So the problem is to prove or disprove that for every integer n, such an arrangement exists.\n\nWait, the user's exact question is: \"I'm wondering if it's possible to write a theorem to prove or disprove the possibility of arranging a sequence of numbers (1,2,...n) such that the sum of any two numbers adds up to a prime number.\"\n\nSo the problem is to either prove that for every n, such an arrangement exists, or disprove it by finding some n for which it's impossible.\n\nTherefore, the assumptions would be:\n\n- The sequence is a permutation of the integers 1 through n.\n- The sum of any two consecutive elements in the sequence is a prime number.\n\nBut in the example provided in the format, the assumptions were listed line by line, each addressing one property applied to one object. So here, the problem's assumptions are:\n\n1. The sequence contains each integer from 1 to n exactly once.\n2. For any two consecutive numbers in the sequence, their sum is a prime number.\n\nThus, the problem is to prove or disprove that such a sequence exists for any n.\n\nBut the user's own examples mention specific cases where some numbers couldn't be fitted, which might imply that for certain n, it's not possible. However, the problem is about the general case.\n\nSo structuring this:\n\nAssumptions:\n- The sequence is a permutation of the integers 1, 2, ..., n.\n- For every pair of consecutive numbers in the sequence, their sum is a prime number.\n\nProblem: Prove or disprove that such a permutation exists for any positive integer n.\n\nWait, but the user's original problem says \"arrange a series of numbers (1,2,...n)\" and the sum of any two adjacent numbers is prime. So yes, the key points are that the sequence is a permutation of 1 to n, and adjacent sums are prime. So in the assumptions, each of these conditions should be listed separately.\n\nTherefore, the formatted problem should have:\n\nAssumption:\nThe sequence is a permutation of the integers 1, 2, ..., n.\nFor every pair of consecutive numbers in the sequence, their sum is a prime number.\n\nProblem: Prove or disprove that it is possible to arrange the numbers 1, 2, ..., n into a sequence such that the sum of any two adjacent numbers is a prime number.\n\nBut according to the example given, each assumption is on a separate line and applies to one object. So:\n\nAssumption:\nThe sequence contains each integer from 1 to n exactly once.\nEach pair of consecutive numbers in the sequence has a sum that is a prime number.\n\nProblem: Prove or disprove that such a sequence exists for any positive integer n.\n\nWait, but in the example provided by the user, the problem was to prove A(n) is divisible by 91, and the assumptions were that n is an integer and n is divisible by 7. So each assumption was a separate condition. Here, the two main conditions are that the sequence is a permutation of 1..n and that adjacent sums are prime. So each of these would be separate assumptions.\n\nTherefore, the formatted problem would be:\n\nAssumption:\nThe sequence is a permutation of the integers 1, 2, ..., n.\nEach pair of consecutive numbers in the sequence sums to a prime number.\n\nProblem: Prove or disprove that such a sequence exists.\n\nAlternatively, maybe even more broken down:\n\nAssumption:\nThe sequence contains each integer from 1 to n exactly once.\nThe sum of any two adjacent numbers in the sequence is a prime number.\n\nProblem: Determine whether such a sequence exists for any positive integer n.\n\nBut the original question is asking to prove or disprove the possibility, so the problem statement should reflect that. The user is not asking for existence for a specific n, but whether it's possible in general (i.e., for all n, or there exists some n where it's impossible). So the problem is to prove or disprove that for every integer n ≥ 1, there exists such a permutation.\n\nTherefore, the final formatted problem should be:\n\nAssumption:\nThe sequence is a permutation of the integers 1, 2, ..., n.\nEach pair of consecutive numbers in the sequence sums to a prime number.\n\nProblem: Prove or disprove that for every positive integer n, there exists such a permutation.\n\nYes, that captures it. Let me check the example again. In the example, the assumptions were \"n is an integer\" and \"n is divisible by 7\". The problem was to prove A(n) is divisible by 91. Here, the key assumptions are about the sequence being a permutation and adjacent sums being prime, leading to the problem of existence for any n.\n\nSo the formatted problem should be:\n\n###BEGIN_OF_FORMAT###\nAssumption: \nThe sequence is a permutation of the integers 1, 2, ..., n.\nEach pair of consecutive numbers in the sequence sums to a prime number.\nProblem: \nProve or disprove that for every positive integer n, there exists a permutation of the numbers 1, 2, ..., n such that the sum of any two adjacent numbers is a prime number.\n###",
    "Original_Problem": "Assumption: \nThe sequence is a permutation of the integers $1, 2, \\ldots, n$.\nEach pair of consecutive numbers in the sequence sums to a prime number.\nProblem: \nProve or disprove that for every positive integer $n$, there exists a permutation of the numbers $1, 2, \\ldots, n$ such that the sum of any two adjacent numbers is a prime number.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: The sequence is a permutation of the integers $1, 2, \\ldots, n$.\nAssumption 2: Each pair of consecutive numbers in the sequence sums to a prime number.\nProblem: \nProve or disprove that for every positive integer $n$, there exists a permutation of the numbers $1, 2, \\ldots, n$ such that the sum of any two adjacent numbers is a prime number.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$I_k\\cup\\left(I_{p}\\setminus\\left(I_{k-1}\\cup I_p\\setminus I_{p-k+1}\\right)\\right)=I_{p-k+1}$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: The sequence is a permutation of the integers $1, 2, \\ldots, n$.\nAssumption 2: Each pair of consecutive numbers in the sequence sums to a prime number.\nAssumption 3: $$I_k\\cup\\left(I_{p}\\setminus\\left(I_{k-1}\\cup I_p\\setminus I_{p-k+1}\\right)\\right)=I_{p-k+1}$$\nProblem: \nProve or disprove that for every positive integer $n$, there exists a permutation of the numbers $1, 2, \\ldots, n$ such that the sum of any two adjacent numbers is a prime number."
}