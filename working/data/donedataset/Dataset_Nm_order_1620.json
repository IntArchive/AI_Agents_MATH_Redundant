{
    "Link_API": "https://api.stackexchange.com/2.3/questions/150579",
    "Title": "Question about Riemann integral and total variation",
    "Score": 19,
    "Category": "Chứng minh",
    "Tags": "real-analysis, integration, bounded-variation",
    "Link": "https://math.stackexchange.com/questions/150579/question-about-riemann-integral-and-total-variation",
    "Content": "Let $g$ be Riemann integrable on $[a,b]$, $f(x)=\\int_a^x g(t)dt $ for $x \\in[a,b]$. Can I show that the total variation of $f$ is equal to $\\int_a^b |g(x)| dx $?",
    "AcceptedAnswer": "If $g$ is non-negative, $f$ is non-decreasing and the total variation is $f(b)-f(a)$ which coincides with $\\int_a^b{|g(x)|}dx$, so the theorem is true. For arbitrary $g$, write $g=g^+-g^-$, with at least one of $g^+(x)$ and $g^-(x)$ equal to 0. Fix $\\varepsilon>0$. There is a mesh $\\delta^+>0$ such that for all partitions $a=x_0<\\dots<x_n=b$ of $[a,b]$ finer than $\\delta^+$ (i.e. $\\max_i x_{i+1}-x_i\\le\\delta^+$),\n$$\\sum_{i=1}^n (x_i-x_{i-1})\\inf g^+([x_{i-1},x_i]) \\ge \\int_a^b{g^+(x)}dx - \\varepsilon/2$$\nWe define $\\delta^-$ symmetrically, and let $\\delta=\\min (\\delta^+,\\delta^-)$. Now let's compute the total variation for a partition $x_0<\\dots<x_n$ of $[a,b]$ finer than $\\delta$:\n$$V=\\sum_{i=1}^n |f(x_i)-f(x_{i-1})|$$\nFor any interval $I=[x_i,x_{i-1}]$, if $\\inf g^+(I)>0$, then $g^+$ is always non-zero on this interval and $g^-$ must be identically zero. Then\n$$\\begin{aligned}\n|f(x_i)-f(x_{i-1})| =&\\int_I{g^+(x)}dx\\\\\n\\ge&(x_i-x_{i-1})\\inf g^+([x_{i-1},x_i])\\\\\n=&(x_i-x_{i-1})\\inf g^+([x_{i-1},x_i]) + (x_i-x_{i-1})\\inf g^-([x_{i-1},x_i])\n\\end{aligned}$$\nThe bound holds similarly when $\\inf g^-(I)>0$. Finally when $\\inf g^+(I)=\\inf g^-(I)=0$,\n$$\\begin{aligned}\n|f(x_i)-f(x_{i-1})| \\ge&0\\\\\n=&(x_i-x_{i-1})\\inf g^+([x_{i-1},x_i]) + (x_i-x_{i-1})\\inf g^-([x_{i-1},x_i])\n\\end{aligned}$$ So we can write\n$$V\\ge \\sum_{i=1}^n (x_i-x_{i-1})\\inf g^+([x_{i-1},x_i]) + (x_i-x_{i-1})\\inf g^-([x_{i-1},x_i])$$\nand because the partition is finer than $\\delta$:\n$$V \\ge \\left(\\int_a^b{g^+(x)}dx - \\varepsilon/2\\right)+\\left(\\int_a^b{g^-(x)}dx - \\varepsilon/2\\right)$$\nthat is\n$$V \\ge \\int_a^b{|g(x)|}dx - \\varepsilon$$ We also have the obvious upper bound\n$$V=\\sum_{i=1}^n \\left|\\int_{x_{i-1}}^{x_i} {g(x)} dx\\right|\\le \\sum_{i=1}^n \\int_{x_{i-1}}^{x_i} {|g(x)|} dx = \\int_a^b{|g(x)|}dx$$ Since this holds for all $\\varepsilon$, the total variation (the upper bound of the total variation over all partitions) is precisely $\\int_a^b{|g(x)|}dx$.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$g$ is Riemann integrable on $[a, b]$,\n$f(x)$ is defined as $f(x) = \\int_a^x g(t) dt$ for $x \\in [a, b]$.\nproblem: \nShow that the total variation of $f$ on $[a, b]$ is equal to $\\int_a^b |g(x)| dx$.\n###",
    "reasoning_create_structured_problem": "Okay, let me try to work through this problem step by step. The user wants to know if the total variation of the function f(x), defined as the integral of g(t) from a to x, is equal to the integral of the absolute value of g(x) from a to b. Here's how I can approach it.\n\nFirst, I need to recall what total variation means. The total variation of a function f on the interval [a, b] is the supremum of the sum of absolute differences of f over all possible partitions of [a, b]. For a differentiable function with Riemann integrable derivative, the total variation is the integral of the absolute value of the derivative. Wait, in this case, f is defined as the integral of g, so by the Fundamental Theorem of Calculus, if g is continuous, then f is differentiable and f’(x) = g(x). But the problem only states that g is Riemann integrable, not necessarily continuous. Hmm, but even if g is just Riemann integrable, f is still absolutely continuous, and its derivative exists almost everywhere, equal to g(x). However, total variation might still be the integral of |g(x)| dx because even though f’ might not exist everywhere, the integral of |g| should capture all the variation.\n\nBut let me check the assumptions again. The problem says g is Riemann integrable on [a, b], and f(x) is the integral from a to x of g(t) dt. Then, can we show the total variation of f is the integral of |g(x)| dx from a to b?\n\nI think yes. Because f is absolutely continuous (since it's an indefinite integral of a Lebesgue integrable function, but here g is Riemann integrable, which is also Lebesgue integrable). For absolutely continuous functions, the total variation is indeed the integral of the absolute value of the derivative. Since f’(x) = g(x) almost everywhere, the total variation should be the integral of |g(x)| dx. But wait, does this hold when g is just Riemann integrable?\n\nWait, maybe I need to be careful here. The problem is in the context of Riemann integrals, so perhaps they expect a proof using Riemann sums or properties of Riemann integrability without invoking Lebesgue theory. Let me think how to approach it without invoking advanced concepts.\n\nAlternatively, for any partition of [a, b], the variation of f over that partition would be the sum of |f(x_i) - f(x_{i-1})|. Since f(x_i) - f(x_{i-1}) is the integral of g from x_{i-1} to x_i. So each term is |∫_{x_{i-1}}^{x_i} g(t) dt|. If we can show that the supremum of these sums over all partitions is equal to ∫_a^b |g(t)| dt, then we are done.\n\nBut how? One inequality is straightforward: by the triangle inequality, |∫ g| ≤ ∫ |g|, so the variation sum is ≤ ∫ |g|. But to get the reverse inequality, we need to show that for any ε > 0, there exists a partition where the variation sum is ≥ ∫ |g| - ε. This would require approximating the integral of |g| by choosing partitions where g is approximately |g| on subintervals. Maybe using that g is Riemann integrable implies |g| is also Riemann integrable. Then, for a given ε, we can find a partition where the upper and lower sums of |g| are within ε. Then, in each subinterval, if g is positive, the integral over that subinterval is positive, and if negative, the integral is negative. But how to relate this to the variation?\n\nAlternatively, maybe using the fact that if g is Riemann integrable, then there exists a sequence of step functions converging to g in the L1 norm. Then, perhaps approximate |g| by these step functions. Hmm, but maybe this is getting too involved.\n\nWait, another approach: since f is absolutely continuous, its total variation is ∫_a^b |f’(x)| dx, which is ∫_a^b |g(x)| dx. But to use this, we need to confirm that f’(x) = g(x) almost everywhere, which holds by the Fundamental Theorem of Calculus for Lebesgue integrals. But the problem is posed in the context of Riemann integrals. However, if g is Riemann integrable, then f is absolutely continuous, and the derivative exists a.e. and equals g(x), so the total variation is ∫ |g|. Therefore, the answer is yes, the total variation is ∫_a^b |g(x)| dx.\n\nBut maybe the user wants a more elementary proof without invoking absolute continuity or Lebesgue theory. Let me see. Suppose we use the definition of total variation. Let’s consider any partition P. Then the variation V(f, P) = sum |∫_{x_{i-1}}^{x_i} g(t) dt|. We need to show that the supremum of V(f, P) over all partitions P is equal to ∫_a^b |g(t)| dt.\n\nWe know that ∫ |g| is the supremum of sums ∫ |g(t)| dt over all partitions? No, that's not. Wait, but for any partition, we can split the integral into subintervals. However, the sum of |∫ g| over subintervals is less than or equal to ∫ |g|. So the total variation is ≤ ∫ |g|. To show equality, we need to approximate ∫ |g| by sums of |∫ g| over subintervals. Since g is Riemann integrable, so is |g|. So for any ε > 0, there exists a partition where the upper and lower sums of |g| are within ε. Then, perhaps in each subinterval, if g is mostly positive or mostly negative, then the integral over that subinterval is close to the integral of |g|. Therefore, by choosing such a partition, the sum of |∫ g| over the subintervals would be close to ∫ |g|. Hence, the supremum of the variation sums is ∫ |g|.\n\nYes, that seems plausible. So the key steps are:\n\n1. Show that the total variation is ≤ ∫ |g| using triangle inequality.\n\n2. Show that for any ε, there exists a partition where the variation sum is ≥ ∫ |g| - ε, hence the supremum is at least ∫ |g|.\n\nTherefore, combining both, total variation equals ∫ |g|.\n\nTherefore, the answer should be yes, and the formatted problem would list the assumptions correctly.",
    "Original_Problem": "Assumption: \n$g$ is Riemann integrable on $[a, b]$,\n$f(x)$ is defined as $f(x) = \\int_a^x g(t) dt$ for $x \\in [a, b]$.\nproblem: \nShow that the total variation of $f$ on $[a, b]$ is equal to $\\int_a^b |g(x)| dx$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $g$ is Riemann integrable on $[a, b]$,\nAssumption 2: $f(x)$ is defined as $f(x) = \\int_a^x g(t) dt$ for $x \\in [a, b]$.\nProblem: \nShow that the total variation of $f$ on $[a, b]$ is equal to $\\int_a^b |g(x)| dx$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\\begin{aligned}\n|f(x_i)-f(x_{i-1})| \\ge&0\\\\\n=&(x_i-x_{i-1})\\inf g^+([x_{i-1},x_i]) + (x_i-x_{i-1})\\inf g^-([x_{i-1},x_i])\n\\end{aligned}$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $g$ is Riemann integrable on $[a, b]$,\nAssumption 2: $f(x)$ is defined as $f(x) = \\int_a^x g(t) dt$ for $x \\in [a, b]$.\nAssumption 3: $$\\begin{aligned}\n|f(x_i)-f(x_{i-1})| \\ge&0\\\\\n=&(x_i-x_{i-1})\\inf g^+([x_{i-1},x_i]) + (x_i-x_{i-1})\\inf g^-([x_{i-1},x_i])\n\\end{aligned}$$\nProblem: \nShow that the total variation of $f$ on $[a, b]$ is equal to $\\int_a^b |g(x)| dx$."
}