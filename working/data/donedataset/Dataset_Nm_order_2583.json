{
    "Link_API": "https://api.stackexchange.com/2.3/questions/646705",
    "Title": "Counting integer partitions of n into exactly k distinct parts size at most M",
    "Score": 13,
    "Category": "Chứng minh",
    "Tags": "combinatorics, generating-functions, integer-partitions",
    "Link": "https://math.stackexchange.com/questions/646705/counting-integer-partitions-of-n-into-exactly-k-distinct-parts-size-at-most-m",
    "Content": "How can I find the number of partitions of $n$ into exactly $k$ distinct parts, where each part is at most $M$? The number of partitions $p_k(\\leq M,n)$ of $n$ into at most $k$ parts, each of size at most $M$, is given by the generating function:\n$$\n \\binom{M+k}{k}_{x} = \\prod_{j=1}^{k}\\frac{1-x^{M+k-j+1}}{1-x^j}= \\sum_{n=0}^{kM} p_{k}(\\leq M,n) x^n\n$$ For the number of the partitions $p_k(\\mathcal{D},n)$ of $n$ into at most $k$ parts there is the recurrence relationship:\n$$\n  p_{k}(\\mathcal{D},n) = p_{k}(\\mathcal{D},n-k) + p_{k-1}(\\mathcal{D},n)\n$$ But what, if I want to count only the partitions with distinct parts and restricted number of parts and restricted part size? Update : Now I know the generating function for the number of distinct restricted partitions $p_k(\\leq M, \\mathcal{D},n)$ of $n$ into exactly $k$ distinct parts, all at most $M$ is\n$$\n   \\prod_{j=1}^{M} (1+xq^{j}) = \\sum_{k,n=0}^{\\infty}p_k(\\leq M, \\mathcal{D},n)x^{k}q^{n}\n$$\nand there is also a recurrence relation\n$$\n   p_k(\\leq M, \\mathcal{D},n) =    \n    p_{k-1}(\\leq M-1, \\mathcal{D},n-k) +    \n    p_k(\\leq M-1, \\mathcal{D},n-k)\n$$\nHow can I prove this? Could you recommend a book, where I could read about this?",
    "AcceptedAnswer": "In the \"Update\" (the day after the Question itself was posted), the OP mentions a recursion for counting the partitions of $n$ into $k$ distinct parts, each part at most $M$: $$ p_k(\\leq M, \\mathcal{D},n) =    \n    p_{k-1}(\\leq M-1, \\mathcal{D},n-k) +    \n    p_k(\\leq M-1, \\mathcal{D},n-k)  $$ and asks \"How can I prove this?\". To see this, separate the required partitions on the basis of whether $1$ appears as a summand.  If it does, then subtracting $1$ from each summand produces a partition of $n-k$ with exactly $k-1$ distinct parts (since the original summand $1$ disappears), each part at most $M-1$.  These partitions are counted by the first term on the right-hand side of the recursion.  Otherwise the summand $1$ does not appear, and subtracting $1$ from each part resulting in a partition of $n-k$ with exactly $k$ distinct parts, each part at most $M-1$.  These cases are counted by the second term. Note that a partition of $n$ with $k$ distinct parts exists if and only if $n \\ge \\binom{k+1}{2}$, because the ascending summands $m_1 + \\ldots + m_k = n$ must satisfy $m_i \\ge i$.  If $n = \\binom{k+1}{2}$, then there is just one such partition with $k$ distinct parts, the largest of which is $k$.  Repeated application of the recursion will culminate with terms which we can evaluate \"by inspection\" as either zero or one. By itself this recursion doesn't seem to give us an especially attractive way of evaluating $p_k(\\leq M, \\mathcal{D},n)$.  Like the recursion for Fibonacci numbers, as a top-down method it suffers from recalculating terms multiple times (giving exponential complexity), so we would be better off working with it as a bottom-up method (giving polynomial complexity). Better for large parameters is to close the circle with the ideas presented by @NikosM. by showing how the evaluation of $p_k(\\leq M, \\mathcal{D},n)$ can be reduced to counting restricted partitions without requiring distinct summands. Prop. Suppose that $n \\gt \\binom{k+1}{2}$.  Then the following are equal: $(i)$ the number of partitions of $n$ into exactly $k$ distinct parts, each part at most $M$, i.e. $p_k(\\leq M, \\mathcal{D},n)$ $(ii)$ the number of partitions of $n - \\binom{k}{2}$ into exactly $k$ parts, each part at most $M$ $(iii)$ the number of partitions of $n - \\binom{k+1}{2}$ into at most $k$ parts, each part at most $M$ Sketch of proof: Once we know the ordered summands of partitions in $(i)$ satisfy $m_i \\ge i$, it is easy to visualize their equivalents in $(ii)$ and $(iii)$ by Young tableaux , also called Ferrers diagrams .  We remove a \"base triangle\" of dots corresponding to the first $i$ dots in the $i$th summand (since $m_i \\ge i$) to get case $(iii)$, and remove one fewer dot in each summand to preserve exactly $k$ summands in case $(ii)$.  These constructions are reversible, and the counts are equal. Remark 1 If $n \\le \\binom{k+1}{2}$, $p_k(\\leq M, \\mathcal{D},n)=1$ if $n=\\binom{k+1}{2}$ and $k \\le M$ and otherwise $p_k(\\leq M, \\mathcal{D},n)=0$. Remark 2 For fixed $k,n$, suppose $M_0 = n - \\binom{k}{2} \\gt 0$.  Then for all $M \\ge M_0$, $p_k(\\leq M, \\mathcal{D},n) = p_k(\\leq M_0, \\mathcal{D},n)$.  That is, further increasing the upper bound $M$ on the size of parts will not yield additional partitions of $n$ with exactly $k$ distinct parts. Recommended Reading Andrews, George E. The Theory of Partitions (Cambridge University Press, 1998) A modern classic for theory of integer partitions, reviewed by Richard Askey in BAMS .",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \nThe partition consists of exactly $k$ distinct parts,\nEach part is a positive integer,\nEach part is at most $M$,\n$k$ is a positive integer,\n$M$ is a positive integer,\n$n$ is a non-negative integer.\nProblem:\nProve that the number of partitions $p_k(\\leq M, \\mathcal{D},n)$ of $n$ into exactly $k$ distinct parts, each at most $M$, satisfies the recurrence  \n$$\np_k(\\leq M, \\mathcal{D},n) = p_{k-1}(\\leq M-1, \\mathcal{D},n-k) + p_k(\\leq M-1, \\mathcal{D},n-k).\n$$\n###END_OF_FORMAT###",
    "reasoning_create_structured_problem": "Okay, let me try to structure this problem according to the user's format. First, I need to read through the original question on Math Stack Exchange and filter out the unrelated information. The user is asking about counting integer partitions of n into exactly k distinct parts where each part is at most M. They mention generating functions and recurrence relations, so I need to focus on that.\n\nThe original question includes some details about generating functions for partitions with at most k parts and recurrence relations for those. But the main problem here is about partitions into exactly k distinct parts with each part size at most M. The user also provided a generating function and a recurrence relation they want to prove.\n\nSo, the assumptions would be the conditions given in the problem. Each assumption should be a single property applied to one object. The key points here are: partitions into exactly k distinct parts, each part size at most M. The problem is to prove the recurrence relation for p_k(≤M, D, n). \n\nWait, the recurrence relation given is p_k(≤M, D,n) = p_{k-1}(≤M-1, D,n−k) + p_k(≤M−1, D,n−k). So the assumptions need to include that the parts are distinct, exactly k parts, each part ≤ M, and maybe something about n and k being non-negative integers. Also, the problem is to prove this recurrence. The user also asks for a book recommendation, but since the format only includes the problem and assumptions, I should exclude the book part.\n\nSo breaking down the assumptions:\n\n1. Each partition has exactly k distinct parts. (So exactly k parts, no repetition)\n2. Each part is at most M. (Each part ≤ M)\n3. The number being partitioned is n. (n is an integer)\n4. The function p_k(≤M, D, n) counts such partitions. (This is more of a definition, maybe not an assumption)\n5. The parts are positive integers. (Since partitions typically use positive integers)\n\nBut according to the example, assumptions should list conditions applied to the objects. So maybe:\n\nAssumptions:\n- Partitions of n into exactly k distinct parts,\n- Each part is a positive integer,\n- Each part is at most M,\n- k and M are positive integers,\n- n is a non-negative integer.\n\nThen the problem is to prove the given recurrence relation for p_k(≤M, D, n). The problem statement should include the recurrence.\n\nWait, the original question states that the generating function is given, and there's a recurrence relation they want to prove. So the problem is to prove that recurrence relation. The user also mentions knowing the generating function now, so perhaps the problem is to derive the recurrence from the generating function or prove it combinatorially.\n\nSo the formatted problem should have assumptions about the partitions (exactly k distinct parts, each ≤ M) and the problem is to prove the recurrence relation. The assumptions need to be listed line by line, each addressing one property or condition applied to one object.\n\nI think that's the main structure here. Let me check the example again. In the example, the assumptions were that n is an integer and n is divisible by 7, then the problem was to prove divisibility by 91. So here, the assumptions are the conditions on the partitions, and the problem is to prove the recurrence.\n\nSo putting it all together:\n\nAssumption:\n- The partition has exactly k distinct parts,\n- Each part is a positive integer,\n- Each part is at most M,\n- k is a positive integer,\n- M is a positive integer,\n- n is a non-negative integer.\n\nProblem: Prove that the number of such partitions satisfies the recurrence relation:\np_k(≤M, D, n) = p_{k−1}(≤M−1, D, n−k) + p_k(≤M−1, D, n−k)\n\nI need to make sure each assumption is one line, each addressing one property. Also, the problem should clearly state what needs to be proven. The original problem also mentioned the generating function, but since the user is asking to prove the recurrence, that's the main problem. The book recommendation is outside the format, so it's excluded.\n\nYes, this seems to fit. Let me check if I missed any assumptions. The parts must be distinct, exactly k parts, each part ≤ M, and n is the sum. The variables are positive integers. That should cover it.",
    "Original_Problem": "Assumption: \nThe partition consists of exactly $k$ distinct parts,\nEach part is a positive integer,\nEach part is at most $M$,\n$k$ is a positive integer,\n$M$ is a positive integer,\n$n$ is a non-negative integer.\nProblem:\nProve that the number of partitions $p_k(\\leq M, \\mathcal{D},n)$ of $n$ into exactly $k$ distinct parts, each at most $M$, satisfies the recurrence  \n$$\np_k(\\leq M, \\mathcal{D},n) = p_{k-1}(\\leq M-1, \\mathcal{D},n-k) + p_k(\\leq M-1, \\mathcal{D},n-k).\n$$",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: The partition consists of exactly $k$ distinct parts,\nAssumption 2: Each part is a positive integer,\nAssumption 3: Each part is at most $M$,\nAssumption 4: $k$ is a positive integer,\nAssumption 5: $M$ is a positive integer,\nAssumption 6: $n$ is a non-negative integer.\nProblem:\nProve that the number of partitions $p_k(\\leq M, \\mathcal{D},n)$ of $n$ into exactly $k$ distinct parts, each at most $M$, satisfies the recurrence  \n$$\np_k(\\leq M, \\mathcal{D},n) = p_{k-1}(\\leq M-1, \\mathcal{D},n-k) + p_k(\\leq M-1, \\mathcal{D},n-k).\n$$",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$ p_k(\\leq M, \\mathcal{D},n) =    \n    p_{k-1}(\\leq M-1, \\mathcal{D},n-k) +    \n    p_k(\\leq M-1, \\mathcal{D},n-k)  $$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: The partition consists of exactly $k$ distinct parts,\nAssumption 2: Each part is a positive integer,\nAssumption 3: Each part is at most $M$,\nAssumption 4: $k$ is a positive integer,\nAssumption 5: $M$ is a positive integer,\nAssumption 6: $n$ is a non-negative integer.\nAssumption 7: $$ p_k(\\leq M, \\mathcal{D},n) =    \n    p_{k-1}(\\leq M-1, \\mathcal{D},n-k) +    \n    p_k(\\leq M-1, \\mathcal{D},n-k)  $$\nProblem:\nProve that the number of partitions $p_k(\\leq M, \\mathcal{D},n)$ of $n$ into exactly $k$ distinct parts, each at most $M$, satisfies the recurrence  \n$$\np_k(\\leq M, \\mathcal{D},n) = p_{k-1}(\\leq M-1, \\mathcal{D},n-k) + p_k(\\leq M-1, \\mathcal{D},n-k).\n$$"
}