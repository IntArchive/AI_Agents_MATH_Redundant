{
    "Link_API": "https://api.stackexchange.com/2.3/questions/4931569",
    "Title": "The “Pumping Lemma” For Finite Monoids",
    "Score": 12,
    "Category": "Chứng minh",
    "Tags": "abstract-algebra, formal-languages, monoid, pumping-lemma",
    "Link": "https://math.stackexchange.com/questions/4931569/the-pumping-lemma-for-finite-monoids",
    "Content": "Let $M$ be a finite monoid. I’m trying to prove the following: there is a constant $N$ such that if $n \\geq N$ and $m_1, \\ldots, m_n \\in M$ , then some subword of $m_1 \\cdots m_n$ is an idempotent. (This is analogous to the classic pumping lemma for finite automata.) The closest I’ve gotten is to prove an analogue of the theorem for groups: if $G$ is a finite group, $n \\geq |G|$ , and $g_1\\ldots g_n \\in G$ , then some subword of $g_1 \\cdots g_n$ equals the group identity $e$ . The proof here is pretty simple: consider the prefixes $$g_1, g_1g_2, g_1g_2g_3, \\ldots, g_1g_2g_3\\cdots g_n.$$ If these prefixes are pairwise distinct, then (since there are at least $|G|$ of them) one must equal $e$ . If they’re not pairwise distinct, then for some $m$ and $k$ $$g_1 \\dots g_m = g_1 \\cdots g_{m + k} \\implies e = g_{m + 1} \\cdots g_{m + k}.$$ In either case, some subword is the identity. I haven’t been able to extend this idea to the monoid case. Could somebody help me out?",
    "AcceptedAnswer": "Here is a proof slightly adapted from [1, p. 37]. Let $M$ be a finite monoid and let $n = |M|$ . Then there is an integer $K$ such that $s^K$ is idempotent for each $s \\in M$ (see here for a proof). Let $M^*$ be the free monoid over $M$ (considered as an alphabet). The identity on $M$ extends uniquely to a monoid morphism $f: M^* \\to M$ . For each $s \\in M$ ,\nlet $T_s = f^{-1}(s)$ . Now define a map $t: M^* \\to \\Bbb{N}^M$ by setting $$\nt(u) = \\bigl(n_s(u)\\bigr)_{s \\in M} \\quad\\text{where } n_s(u) = \\max\\{r \\mid u \\in M^*T_s^r\\}\n$$ Observe that if $u$ is a word, $v$ a nonempty word and $s = f(v)$ , then by definition $u \\in M^*T_s^{n_s(u)}$ but $uv \\in M^*T_s^{n_s(u) + 1}$ . Consequently, $t(u) \\not= t(uv)$ . Let now $w$ be a word of $M^*$ of length $K^n$ and let $P$ be the set of prefixes of $w$ . By the previous remark, the restriction of $t$ to $P$ is injective. Since $|P| = 1 + K^n$ , the set $t(P)$ cannot be included in the set $\\{0, 1, \\ldots, K-1\\}^n$ . It follows that there exists a word $p \\in P$ and an element $s \\in M$ such that $n_s(p) \\geqslant K$ . Coming back to the definition of $n_s$ , this means that $p \\in M^*T_s^KM^*$ and hence $p$ admits a factorisation $p = p_0p_1p_2 \\dotsm p_Kp_{K+1}$ such that $f(p_1) = f(p_2) = \\dotsm = f(p_K)$ . By the definition of $K$ , it follows that $f(p_1p_2 \\dotsm p_K)$ is idempotent. Remarks (1) A similar proof shows that, for every $r$ , every sufficiently long word $w \\in M^*$ admits a factorization $w = w_0w_1 \\ldots w_rw_{r+1}$ where $f(w_1) = f(w_2)= \\ldots = f(w_r) = e$ is idempotent. (2) A simple proof can be obtained via Ramsey's theorem . Let me know if you want me to include it in this answer. (3) One can also require in (1) that $|w_1| = |w_2| = \\ldots = |w_r|$ , but the proof is more difficult and relies on Van der Waerden's theorem . [1] M. Lothaire, Combinatorics on words. Corrected reprint of the 1983 original, Cambridge Mathematical Library. Cambridge University Press, Cambridge, 1997. xviii+238 pp. ISBN: 0-521-59924-5",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$M$ is a finite monoid.\nProblem: \nProve that there exists a constant $N$ such that if $n \\geq N$ and $m_1, \\ldots, m_n \\in M$, then some subword of $m_1 \\cdots m_n$ is an idempotent.\n###",
    "reasoning_create_structured_problem": "Okay, let's try to format this problem according to the user's instructions. First, I need to identify all the assumptions in the original question and list them one by one. Then, restate the problem clearly.\n\nThe original question is about proving a pumping lemma-like statement for finite monoids. The user mentions that for a finite monoid M, there exists a constant N such that if you take a sequence of elements from M of length at least N, some subword will be an idempotent. They compared it to the group case where a similar result holds with the identity element.\n\nLooking at the assumptions: The monoid M is finite. The problem states that there's a constant N (dependent on M) such that any sequence of elements of length ≥N contains a subword that's idempotent. The user also tried to extend their group theory approach but couldn't. The example provided in the group case uses the group's order as N, and then analyzes prefixes. For the monoid case, the user is stuck.\n\nSo the key assumptions here are that M is a finite monoid, and the problem is to prove the existence of such an N. The assumptions need to be broken down into individual points. Each assumption should apply to one object and state one property. So:\n\nAssumption 1: M is a finite monoid. (This is a single property applied to M.)\n\nProblem: Prove that there exists a constant N such that for any n ≥ N and any sequence m_1, ..., m_n ∈ M, some subword of m_1⋯m_n is an idempotent.\n\nWait, the original problem statement already specifies M is finite, so that's the main assumption. The problem is to find such N. The user's attempt with groups uses |G| as N, but for monoids, perhaps the constant is related to the size of the monoid. So in the assumptions, we need to list that M is finite. Are there any other assumptions? The problem statement doesn't mention any other constraints on M, so the only assumption is that M is a finite monoid. The problem is as stated.\n\nI need to check the example given. In the example, the assumption was that n is an integer and divisible by 7. Each assumption is a single line, one property per line.\n\nSo here, the only assumption is that M is a finite monoid. The problem is to prove the existence of N such that for any n ≥ N, any sequence of n elements in M has a subword that's idempotent.\n\nTherefore, the formatted problem should be:\n\nAssumption:\nM is a finite monoid.\n\nProblem:\nProve that there exists a constant N such that if n ≥ N and m_1, ..., m_n ∈ M, then some subword of m_1⋯m_n is an idempotent.\n\nI think that's correct. The key points are captured, and the assumptions are properly listed.",
    "Original_Problem": "Assumption: \n$M$ is a finite monoid.\nProblem: \nProve that there exists a constant $N$ such that if $n \\geq N$ and $m_1, \\ldots, m_n \\in M$, then some subword of $m_1 \\cdots m_n$ is an idempotent.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $M$ is a finite monoid.\nProblem: \nProve that there exists a constant $N$ such that if $n \\geq N$ and $m_1, \\ldots, m_n \\in M$, then some subword of $m_1 \\cdots m_n$ is an idempotent.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\nt(u) = \\bigl(n_s(u)\\bigr)_{s \\in M} \\quad\\text{where } n_s(u) = \\max\\{r \\mid u \\in M^*T_s^r\\}\n$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $M$ is a finite monoid.\nAssumption 2: $$\nt(u) = \\bigl(n_s(u)\\bigr)_{s \\in M} \\quad\\text{where } n_s(u) = \\max\\{r \\mid u \\in M^*T_s^r\\}\n$$\nProblem: \nProve that there exists a constant $N$ such that if $n \\geq N$ and $m_1, \\ldots, m_n \\in M$, then some subword of $m_1 \\cdots m_n$ is an idempotent."
}