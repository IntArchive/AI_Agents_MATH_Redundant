{
    "Link_API": "https://api.stackexchange.com/2.3/questions/503765",
    "Title": "Prove that the polynomial $(x-1)(x-2)\\cdots(x-n) + 1$, $ n\\ge1 $, $ n\\ne4 $ is irreducible over $\\mathbb Z$",
    "Score": 40,
    "Category": "Chứng minh",
    "Tags": "abstract-algebra, elementary-number-theory, polynomials, contest-math, irreducible-polynomials",
    "Link": "https://math.stackexchange.com/questions/503765/prove-that-the-polynomial-x-1x-2-cdotsx-n-1-n-ge1-n-ne4-is-i",
    "Content": "I try to solve this problem. I seems to come close to the end but I can't get the conclusion. Can someone help me complete my proof. Thanks Show that the polynomial $h(x) = (x-1)(x-2)\\cdots(x-n) + 1$ is irreducible over $\\mathbb Z$ for all $n\\ge1$ and $ n\\ne4$. Suppose $h(x) = f(x) g(x)$, then we must have $f(i)g(i) = 1$ for all $i = 1,2,...n$. So both $f(i)$ and $g(i)$ are $1$ or $-1$. In either case, $m(x) = f(x) - g(x)$ has degree smaller than $n$ and have $n$ different roots ($1,2,...,n$). So we must have $m(x) = 0$. Then $h(x) = f(x)^{2}$. So $n$ must be even. Let $n = 2k$. Because $f(x)$ has degree $k$, there are $k$ values from $\\{1,2,...,2k\\}$ at which $f(x)$ is $1$ and $k$ values at which $f(x)$ is $-1$. This is where I got stuck. Hope some one can help me solve this. Thanks.",
    "AcceptedAnswer": "AS @Calvin Lin suggest, I write down the complete answer here for someone who need. From my deduction above, we must have $h(x) = f(x)^{2}$. And there are $k$ values from $\\{1,2,...,2k\\}$ at which $f(x)$ is $1$ and $k$ values at which $f(x)$ is $-1$. Let $I$ is subset of $\\{1,2,...,2k\\}$ consists of elements at which $f(x)$ is $1$ and $J$ is subset of $\\{1,2,...,2k\\}$ consists elements at which $f(x)$ is $-1$. It's easy to see that if $n = 2$, then $h(x)$ is irreducible, and $n \\neq 4$, so we just consider the case $n \\ge 6$, which means that $k \\ge 3$. Suppose $I$ consists of $1$. $J$ has at least $3$ distinct elements greater than $1$, so there exists an elment $u$ in $J$ such that $u - 1 \\ge 3$. But we must have $u - 1 | f(u) - f(1) = -2$, contradiction.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nassumption: \n$h(x) = (x-1)(x-2)\\cdots(x-n) + 1$,\n$n$ is an integer,\n$n \\geq 1$,\n$n \\neq 4$.\nproblem:\nProve that the polynomial $h(x)$ is irreducible over $\\mathbb{Z}$.\n###END_OF_FORMAT###",
    "reasoning_create_structured_problem": "Okay, let me try to work through this problem step by step. The user wants to show that the polynomial h(x) = (x-1)(x-2)...(x-n) + 1 is irreducible over the integers for all n ≥ 1 and n ≠ 4. They started by assuming that h(x) factors as f(x)g(x), leading to the conclusion that f(i)g(i) = 1 for each i from 1 to n. Since f(i) and g(i) must both be 1 or -1, they define m(x) = f(x) - g(x), which has roots at all these points, implying m(x) is the zero polynomial. Therefore, h(x) = f(x)^2, so n must be even. Then, with n = 2k, f(x) would have degree k, and there's a balance between 1 and -1 evaluations at the integers 1 to 2k. The user got stuck here.\n\nFirst, I need to check if the initial approach is correct. Assuming h(x) factors as f(x)g(x), then evaluating at x = i (for i from 1 to n) gives h(i) = 1 = f(i)g(i). Since f(i) and g(i) are integers (because coefficients are integers and evaluation at integers would result in integers), the only possibilities are f(i) = g(i) = 1 or f(i) = g(i) = -1. Hence, f(x) - g(x) has n roots, but since f and g are polynomials of degree less than n, their difference m(x) must be zero. Thus, f(x) = g(x), so h(x) = f(x)^2. Therefore, h(x) must be a square of some polynomial. This requires that n is even because the leading term of h(x) is x^n + ... + 1, and if it's a square, the leading term must be a square. The leading term of (x-1)...(x-n) is x^n, so adding 1 gives leading term x^n. If h(x) = f(x)^2, then the leading term of f(x) is x^{n/2}, which requires n to be even. So for n odd, h(x) is irreducible. Therefore, the problem reduces to showing that for even n ≠ 4, h(x) is still irreducible.\n\nWait, but the original problem states n ≠ 4. So maybe when n is 4, the polynomial factors, but for other even n, it doesn't. The user's argument shows that if h(x) factors, it must be a square, so n must be even. Therefore, for odd n, h(x) is irreducible. For even n, we need to check if h(x) can be a square of another polynomial. The user's approach leads to considering how the signs of f(x) at the points 1, 2, ..., 2k must alternate between 1 and -1. Maybe there's a contradiction here when n is even except 4. \n\nLet me think for n = 2. Then h(x) = (x-1)(x-2) + 1 = x² - 3x + 2 + 1 = x² - 3x + 3. Is this irreducible? The discriminant is 9 - 12 = -3, which is negative, so it doesn't factor over integers. For n = 4, the problem states that it's reducible. Let's check: h(x) = (x-1)(x-2)(x-3)(x-4) + 1 = (x² -5x +4)(x² -5x +6) +1. Let me compute this: Let y = x² -5x. Then the product becomes (y +4)(y +6) = y² +10y +24. Then h(x) = y² +10y +24 +1 = y² +10y +25 = (y +5)^2 = (x² -5x +5)^2. So indeed, h(4) = (16 -20 +5)^2 = 1^2 = 1. Wait, but h(x) here is a square, which would mean it factors. However, the original problem states that for n ≠4, it's irreducible. But here, n=4 is reducible. So the user's problem is correct. But why does the original problem exclude n=4. So for even n ≥1, except 4, h(x) is irreducible. For n=4, it's reducible. \n\nThe user's argument shows that if h(x) factors, then it must be a square. So for even n, we need to check if h(x) can be written as a square. For n=4, it can. For other even n, can it? Let's test n=2: h(x)=x² -3x +3, which is irreducible. For n=6: Let's see. h(x) = (x-1)(x-2)...(x-6) +1. Let's compute the product first. The product (x-1)(x-2)...(x-6) is a degree 6 polynomial. The leading term is x^6. Adding 1 gives x^6 + ... +1. Suppose this is a square of a cubic polynomial. Let f(x) = x^3 + a x^2 + b x + c. Then f(x)^2 = x^6 + 2a x^5 + (a² + 2b) x^4 + (2ab + 2c) x^3 + (b² + 2ac) x^2 + 2bc x + c². Compare with h(x). Let me check the coefficients. The product (x-1)...(x-6) has coefficients: the coefficient of x^6 is 1, x^5 is -(1+2+3+4+5+6) = -21, x^4 is the sum of products of roots two at a time, which would be 1*2 +1*3 +...+5*6. But maybe instead of computing all, when adding 1, the constant term becomes (product of constants) +1. The product (x-1)...(x-6) evaluated at x=0 is (-1)(-2)...(-6) = (-1)^6 6! = 720. So h(0) = 720 +1 =721. If h(x) = f(x)^2, then f(0)^2 = 721. But 721 factors into 7*103, which are primes, so 721 is not a square. Therefore, f(0) would have to be sqrt(721), which is not an integer. Hence, h(x) can't be a square for n=6. Therefore, h(x) is irreducible for n=6. \n\nSimilarly, for other even n, perhaps h(x) cannot be a square. However, for n=4, h(x) can be a square. So the problem is to show that for even n except 4, h(x) is irreducible, and for n odd, it's irreducible. The user's approach reduces the problem to showing that when n is even and not 4, h(x) cannot be a square. The user got stuck at the point where f(x) would have to take values 1 and -1 at k points each. Maybe considering the polynomial f(x) which takes 1 at k points and -1 at the other k points. But how does that lead to a contradiction? Maybe by considering the behavior modulo some number or evaluating at specific points. Alternatively, consider the derivative of h(x). If h(x) is a square, then its derivative would be 2f(x)f’(x). So h’(x) = derivative of (x-1)...(x-n) +1, which is derivative of (x-1)...(x-n). If h(x) is a square, then h’(x) must be divisible by f(x). Perhaps there's a multiple root? But h(x) is (product) +1, so its derivative is the derivative of the product. The product (x-1)...(x-n) has simple roots at 1,...,n, but h(x) is the product plus 1, so h(x) doesn't have roots at 1,...,n. Therefore, h(x) and h’(x) might be coprime. If h(x) is square, then h’(x) is divisible by f(x). Maybe this can lead to a contradiction. \n\nAlternatively, consider the constant term. As in the case of n=6, the constant term of h(x) is (-1)^n n! +1. If n is even, then (-1)^n n! = n!, so constant term is n! +1. For h(x) to be a square, this constant term must be a perfect square. For n=4, 4! +1 =24 +1=25=5². For n=5 (odd), but the problem states n≠4, but n=5 is odd and already covered by the initial argument. For even n=2: 2! +1=3, not a square. n=6: 720 +1=721, not a square. n=8: 40320 +1=40321. Is this a square? sqrt(40321)=200.8..., so 201²=40401 which is higher. So no. Hence, except for n=4, the constant term n! +1 is not a perfect square. Therefore, if h(x) is a square, then its constant term must be a square, which only occurs when n=4. Hence, for even n≠4, h(x) cannot be a square, hence irreducible. Therefore, the key is to show that n! +1 is a square only when n=4. \n\nIndeed, Brocard's problem asks for integers m such that m! +1 is a square, and it's known that only n=4,5,7 satisfy this. Wait, but in our case, n is even. So n=4 gives 24+1=25=5², which works. For n=5 (odd), 120+1=121=11², but since n must be even for h(x) to be a square, the case n=5 is already handled by the initial argument (odd n implies irreducible). Similarly, n=7 gives 5040 +1=5041=71². But n=7 is odd, so h(x) would be irreducible for n=7 regardless. Therefore, the only even n where n! +1 is a square is n=4. Hence, for even n≠4, h(x) cannot be a square, hence irreducible. This completes the proof. \n\nTherefore, the problem requires listing the assumptions from the original question. The original problem states that n ≥1 and n ≠4. The assumptions are that h(x) is defined as (x-1)...(x-n) +1, n is an integer greater than or equal to 1, and n is not equal to 4. The problem is to prove that h(x) is irreducible over Z.",
    "Original_Problem": "assumption: \n$h(x) = (x-1)(x-2)\\cdots(x-n) + 1$,\n$n$ is an integer,\n$n \\geq 1$,\n$n \\neq 4$.\nproblem:\nProve that the polynomial $h(x)$ is irreducible over $\\mathbb{Z}$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $h(x) = (x-1)(x-2)\\cdots(x-n) + 1$,\nAssumption 2: $n$ is an integer,\nAssumption 3: $n \\geq 1$,\nAssumption 4: $n \\neq 4$.\nProblem:\nProve that the polynomial $h(x)$ is irreducible over $\\mathbb{Z}$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$n = 2$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $h(x) = (x-1)(x-2)\\cdots(x-n) + 1$,\nAssumption 2: $n$ is an integer,\nAssumption 3: $n \\geq 1$,\nAssumption 4: $n \\neq 4$.\nAssumption 5: $n = 2$\nProblem:\nProve that the polynomial $h(x)$ is irreducible over $\\mathbb{Z}$."
}