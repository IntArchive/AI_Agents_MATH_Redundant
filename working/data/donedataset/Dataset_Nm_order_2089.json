{
    "Link_API": "https://api.stackexchange.com/2.3/questions/687221",
    "Title": "Proving $\\sum_{k=0}^n{2k\\choose k}{2n-2k\\choose n-k}=4^n$",
    "Score": 16,
    "Category": "Chứng minh",
    "Tags": "combinatorics, elementary-number-theory, summation, binomial-coefficients",
    "Link": "https://math.stackexchange.com/questions/687221/proving-sum-k-0n2k-choose-k2n-2k-choose-n-k-4n",
    "Content": "Some background. I was asked to find an arithmetic function $f$ such that $f*f=\\mathbf 1$ where $\\mathbf 1$ is the constant function 1 and $*$ denotes Dirichlet convolution. I was able to prove that there are two solutions $\\pm f$ and that $f$ is multiplicative. Next, I would have to evaluate $f$ at prime powers. I constructed a few values and my conjecture is that $$f(p^n)=\\frac{2n-1\\choose n}{2^{2n-1}}$$\nfor $p$ prime and $n>0$. To prove this, I only need to show that $$\\sum_{k=1}^n{2k-1\\choose k}{2n-2k+1\\choose n-k+1}=4^n-{2n+1\\choose n+1}\\qquad\\text{for }\\;n\\geq0.$$\n(This is simply expressing $(f*f)(p^{n+1})=1$ explicitly, plugging in the conjecture.) For readers who don't really understand what I'm talking about and who are merely interested in the proof of the identity, you can just start reading from here. Hoping for a combinatorial proof, I interpreted the summation as follows. Given a set of $n+1$ indistinguishable marbles and $n+1$ distinguishable bags (say $b_1,\\ldots,b_{n+1}$), the term ${2k-1\\choose k}{2n-2k+1\\choose n-k+1}$ counts the number of ways to put the marbles in the bags such that there are exactly $k$ marbles in the first $k$ bags $b_1,\\ldots,b_k$. Equivalently, if we identify a configuration of the marbles with a monotonic path in a $n+1\\times n+1$ grid such that the path starts in the bottom left corner and ends in the upper right corner, the sum\n$${2n+1\\choose n+1}+\\sum_{k=1}^n{2k-1\\choose k}{2n-2k+1\\choose n-k+1}$$\ncounts the number of times a path 'crosses' or 'touches' the main diagonal in a point that is not the 'origin', if we summate over all possible paths. (There are ${2n+2\\choose n+1}$ such paths in total.) For example, the following path touches the main diagonal $4$ times: At $(2,2)$, $(3,3)$, $(4,4)$ and $(7,7)$. (We do not count $(0,0)$ because the summation doesn't.) However, interpreting the summation like this I can't get any further. Any other ideas or suggestions on how to approach this problem? Edit:\nThere are some errors in my reasoning above, let's try again. Using the identity ${2n-1\\choose n}=\\frac12{2n\\choose n}$ it can be rewritten as $$\\sum_{k=0}^n{2k\\choose k}{2n-2k\\choose n-k}=4^n$$\nwhich looks much better and holds for all $n\\geq0$, making it more naturally. This form may give some ideas for combinatorial proofs but I don't really see any. The term ${2k\\choose k}{2n-2k\\choose n-k}$ counts the number of $n\\times n$ monotonic paths intersecting the diagonal at $(k,k)$. So the summation counts the number of intersection points with the diagonal (all of them this time, including the origin) summing over all paths. As in Arthur's comment, it would suffice to find a bijection between all $2n$-monotonic paths (no matter their width or height) and the pairs $(p,s)$ where $p$ is a $n\\times n$ path and $s$ an intersection point with the diagonal. Perhaps there is a weird bijection which would then solve the question. For the sake of a proof with induction, I considered all paths that intersect the diagonal for the first time at $(k,k)$ and all possible continuations and their intersection points, summed for $k$ from $1$ to $n$ using the induction hypothesis and a trick with Catalan numbers . (Writing out the details would be tedious, I think the reasoning becomes clear when you see the sum.) It turns out to be sufficient to prove $$\\sum_{k=1}^n2C_{k-1}\\left(4^{n-k}+{2n-2k\\choose n-k}\\right)=4^n$$\nwhere $C_n=\\frac1{n+1}{2n\\choose n}$ denotes the $n$th Catalan number. However this doesn't seem to be a simplification.",
    "AcceptedAnswer": "Here's an elementary combinatorial proof. Let\n$$q(m)=\\sum_{k=0}^m{2k\\choose k}{2m-2k\\choose m-k}.$$\nAs in the question, $q(m)$ counts the number of times a monotonic $m$-path (by which we mean a lattice path from $(0,0)$ to $(m,m)$ consisting of unit steps to the east and unit steps to the north) touches the diagonal (including at its beginning and its end), summed over all paths. We will prove that $q(m)=4^m$ for all $m$. It clearly is for $m=0$. Suppose $q(m)=4^m$ is true for all $m$ up to $n-1$, where $n\\geqslant1$. The induction hypothesis allows us to count the number of times a monotonic $n$-path touches the diagonal in a cleaner way: Any path touches the diagonal in the origin. For a path $p$ denote $t_p$ the x (or y) coordinate of the next meeting point with the diagonal. (So $t_p\\in\\{1,\\ldots,n\\}$ for any $n$-path $p$.) The number of paths from $(0,0)$ to $(k,k)$ with $t_p=k$ is $2C_{k-1}$ ( see Wikipedia ; note that in our case the path should not only stay at the same side of the diagonal but it shouldn't even touch it, which is why we have $C_{k-1}$ and not just $C_k$). Here as usual $C_n=\\frac1{n+1}{2n\\choose n}$ denotes the $n$th Catalan number. A monotonic $n$-path from $(0,0)$ to $(n,n)$ with $t_p=k$ touches the diagonal once at the origin and then follows a monotonic $n-k$-path. For fixed $k$, the number of touches with the diagonal, counting only those $n$-paths that satisfy $t_p=k$, is $2C_{k-1}\\cdot q(n-k)$ plus the number of possible paths with $t_p=k$ (because of that one touch in the origin), which is $2C_{k-1}\\cdot\\binom{2n-2k}{n-k}$. Summing over $k$ gives\n$$q(n)=\\sum_{k=1}^n2C_{k-1}\\left(q(n-k)+\\binom{2n-2k}{n-k}\\right).$$ By the induction hypothesis,\n$$q(n)=\\sum_{k=1}^n2C_{k-1}\\left(4^{n-k}+\\color{red}{\\binom{2n-2k}{n-k}}\\right).$$\nWhat follows is an algebraic manipulation to show that this is indeed equal to $4^n$.\nUsing the identity $2C_k=\\frac 2{k+1}\\binom{2k}{k}=\\color{green}{4\\binom{2k}{k}}-\\color{blue}{\\binom{2k+2}{k+1}}$ this can be rewritten as\n$$\\underbrace{\\color{green}4\\sum_{k=1}^n\\color{green}{\\binom{2k-2}{k-1}}\\color{red}{\\binom{2n-2k}{n-k}}}-\\underbrace{\\sum_{k=1}^n\\color{blue}{\\binom{2k}{k}}\\color{red}{\\binom{2n-2k}{n-k}}}+\\underbrace{\\sum_{k=1}^n\\left(\\color{green}{4\\binom{2k-2}{k-1}}-\\color{blue}{\\binom{2k}{k}}\\right)4^{n-k}}$$\nwhich is\n$$\\underset{\\text{(Ind. Hyp.}\\\\\\text{for }m=n-1)}{\\underbrace{4\\cdot4^{n-1}}}-\\underset{\\text{(Def. of }q(n))}{\\underbrace{q(n)+{2n\\choose n}}}+\\underset{\\text{(Telescoping)}}{\\underbrace{4^n-{2n\\choose n}}}=2\\cdot4^n-q(n).$$\nHence\n$$q(n)=2\\cdot4^n-q(n)$$\nand the conclusion follows.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$n$ is a non-negative integer.\nProblem: \nProve that $$\\sum_{k=0}^n{2k\\choose k}{2n-2k\\choose n-k}=4^n.$$\n###",
    "reasoning_create_structured_problem": "Okay, so I need to structure this problem according to the given format. Let me first read through the original question carefully to understand what's being asked. The user is trying to prove the identity $$\\sum_{k=0}^n{2k\\choose k}{2n-2k\\choose n-k}=4^n.$$ \n\nLooking at the example provided, the key is to list all assumptions line by line, each addressing one property or condition applied to one object. Let's parse the original problem step by step.\n\nThe title of the question is \"Proving $\\sum_{k=0}^n{2k\\choose k}{2n-2k\\choose n-k}=4^n$\". So the main problem is to prove this identity. The user then goes into some background about Dirichlet convolution and constructing a function, but mentions that the actual problem to focus on starts from the identity. They also mention an edit where they corrected the identity to a better form: $$\\sum_{k=0}^n{2k\\choose k}{2n-2k\\choose n-k}=4^n$$ which holds for all $n \\geq 0$.\n\nNow, the user provides some interpretations. They note that the term ${2k\\choose k}{2n-2k\\choose n-k}$ counts the number of $n \\times n$ monotonic paths intersecting the diagonal at $(k,k)$. The summation counts the number of intersection points with the diagonal, summing over all paths. They also mention that Arthur's comment suggests a bijection between all $2n$-monotonic paths and pairs $(p,s)$ where $p$ is an $n \\times n$ path and $s$ an intersection point. \n\nHowever, the main problem remains the summation equals $4^n$. The user also tried induction but found it tedious. \n\nNow, to structure this into the required format:\n\n**Assumptions**: \n1. The problem is about binomial coefficients and their sum equaling $4^n$.\n2. The identity must hold for all integers $n \\geq 0$.\n3. Each term in the sum is the product of two binomial coefficients: ${2k\\choose k}$ and ${2n-2k\\choose n-k}$.\n4. The summation index $k$ ranges from $0$ to $n$.\n\nWait, but according to the example, each assumption should be a single condition applied to one object. Let me rephrase:\n\nAssumption:\n- $n$ is a non-negative integer.\n- For each integer $k$ such that $0 \\leq k \\leq n$, the binomial coefficients ${2k \\choose k}$ and ${2n - 2k \\choose n - k}$ are defined.\n\nBut maybe the key assumptions are just that $n$ is a non-negative integer and the problem is to sum over k from 0 to n. The original problem doesn't specify any divisibility or other conditions beyond $n \\geq 0$.\n\nWait, the example had assumptions like \"n is an integer\" and \"n is divisible by 7\". Here, in the user's problem, the key condition is that the identity holds for all n ≥ 0. So the main assumption is that n is a non-negative integer.\n\nSo the assumptions should be:\n\n- $n$ is a non-negative integer.\n- The summation is over integers $k$ from $0$ to $n$.\n- Each term in the sum is the product of binomial coefficients ${2k \\choose k}$ and ${2n - 2k \\choose n - k}$.\n\nBut according to the example, each assumption is a separate line. The original example had two assumptions: \"n is an integer\" and \"n is divisible by 7\". Here, the problem is for any non-negative integer n. So the main assumption is n is a non-negative integer. The rest are part of the problem statement.\n\nWait, the problem is to prove that the sum equals 4^n. The problem statement would be \"Prove that ∑_{k=0}^n {2k choose k}{2n-2k choose n-k} = 4^n.\"\n\nTherefore, the assumptions are:\n\n- n is a non-negative integer.\n\nBecause the problem holds for all n ≥ 0, which is the key assumption. The other parts like the summation from k=0 to n and the terms being binomial coefficients are part of the problem's structure, not assumptions. The example's assumption was about the properties of n (being an integer and divisible by 7), which are necessary for the problem to hold. Similarly, here the necessary condition is that n is a non-negative integer.\n\nSo in the example, the original problem was about proving divisibility by 91, but the formatted problem listed the assumptions as \"n is an integer\" and \"n is divisible by 7\". Wait, actually looking back, the original problem said \"for every integer n\", but the formatted problem added \"n is divisible by 7\" as an assumption. Wait, that seems conflicting. Wait, no, the original problem had:\n\nOriginal problem:\nProve that for every integer $n$, the number  \n$$A(n) = 5^n \\left( 5^n + 1 \\right) - 6^n \\left( 3^n + 2^n \\right)$$  \nis divisible by 91.\n\nFormatted problem:\nAssumption: \n$n$ is an integer,\n$n$ is divisible by $7$.\nProblem:\nProve that $$A(n) = 5^n \\left( 5^n + 1 \\right) - 6^n \\left( 3^n + 2^n \\right)$$  \nis divisible by 91.\n\nWait, but in the original problem, it's for every integer n, but the formatted problem adds \"n is divisible by 7\" as an assumption. That seems like a mistake. Wait, perhaps the user made a mistake in their example. Because the original problem states \"for every integer n\", meaning n can be any integer, but the formatted problem added \"n is divisible by 7\" as an assumption. That might be incorrect. But maybe the user intended that the divisibility by 91 requires n to be divisible by 7? Wait, 91 is 7*13, so maybe the problem requires n to satisfy some conditions? Hmm, that might not be the case. Maybe there was a mistake in the example. \n\nBut regardless, according to the user's example, the assumptions are the conditions required for the problem to hold. So in this current problem, the key assumption is that n is a non-negative integer, as the problem states it holds for all n >=0. Therefore, the assumption is \"n is a non-negative integer.\" \n\nThe problem is then to prove the sum equals 4^n.\n\nTherefore, the formatted problem should be:\n\nAssumption:\n$n$ is a non-negative integer.\n\nProblem:\nProve that $$\\sum_{k=0}^n{2k\\choose k}{2n-2k\\choose n-k}=4^n.$$\n\nI need to check if there are any other assumptions. The user mentions combinatorial interpretations, but those are part of their reasoning, not assumptions. The problem itself, as stated in the edit, is the identity ∑_{k=0}^n {2k \\choose k}{2n−2k \\choose n−k} =4^n, valid for all n≥0. So the only assumption needed is n is a non-negative integer.",
    "Original_Problem": "Assumption: \n$n$ is a non-negative integer.\nProblem: \nProve that $$\\sum_{k=0}^n{2k\\choose k}{2n-2k\\choose n-k}=4^n.$$",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $n$ is a non-negative integer.\nProblem: \nProve that $$\\sum_{k=0}^n{2k\\choose k}{2n-2k\\choose n-k}=4^n.$$",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$q(n)=\\sum_{k=1}^n2C_{k-1}\\left(4^{n-k}+\\color{red}{\\binom{2n-2k}{n-k}}\\right).$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $n$ is a non-negative integer.\nAssumption 2: $$q(n)=\\sum_{k=1}^n2C_{k-1}\\left(4^{n-k}+\\color{red}{\\binom{2n-2k}{n-k}}\\right).$$\nProblem: \nProve that $$\\sum_{k=0}^n{2k\\choose k}{2n-2k\\choose n-k}=4^n.$$"
}