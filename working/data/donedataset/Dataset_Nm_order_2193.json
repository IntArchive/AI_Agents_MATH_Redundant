{
    "Link_API": "https://api.stackexchange.com/2.3/questions/104810",
    "Title": "Prove that $f:\\mathbb R^n\\to\\mathbb R$ is affine if and only if it is convex and concave",
    "Score": 15,
    "Category": "Chứng minh",
    "Tags": "analysis, convex-analysis, convex-geometry",
    "Link": "https://math.stackexchange.com/questions/104810/prove-that-f-mathbb-rn-to-mathbb-r-is-affine-if-and-only-if-it-is-convex-and",
    "Content": "Suppose $f:\\mathbb{R}^n\\to \\mathbb{R}$ is both convex and concave, how to prove that $f$ is linear? or exactly speaking, $f$ is affine? I thought for the whole day, but I cannot figure it out. When I was working on this problem, I met another problem, are all the convex function continuous? If not, is there any counter example? Actually, I can prove for one dimensional case, in which $f:\\mathbb{R}\\to \\mathbb{R}$. However, I cannot generalize it into n dimensional cases. By the way, I use definition for convex(concave) like this:\n$$f(t\\vec{x}+(1-t)\\vec{y})\\leq(or \\geq) tf(\\vec{x})+(1-t)f(\\vec{y}), \\forall t\\in[0,1].$$ Thank you so much!",
    "AcceptedAnswer": "Let $g(x) = f(x) - f(0)$.  It suffices to show that $g$ (which is also both convex and concave, and satisfies $g(0)=0$) is linear.  Next, note that for $t > 1$, $x = (1/t) (tx) + (1 - 1/t) (0)$. That should give you a good start...",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$f$ is a function from $\\mathbb{R}^n$ to $\\mathbb{R}$,\n$f$ is convex,\n$f$ is concave.\nProblem:  \nProve that $f$ is affine.\n###",
    "reasoning_create_structured_problem": "Okay, so I need to format this problem according to the given example. Let me read through the original question carefully.\n\nThe user is asking to prove that a function f from R^n to R is affine if it's both convex and concave. They also mention thinking about whether all convex functions are continuous, but that seems like a separate question they encountered while working on the main problem. The main problem is about showing that a function that's both convex and concave must be affine.\n\nFirst, the assumptions. The problem states that f: R^n → R is both convex and concave. The user uses the standard definition of convex and concave with the inequality for all t in [0,1] and vectors x, y. The original problem mentions proving f is affine, which they note might be linear, but correct to affine. So the key assumptions here are:\n\n1. The domain of f is R^n.\n2. The codomain is R.\n3. f is convex.\n4. f is concave.\n5. The definition of convexity and concavity uses the standard inequality with t in [0,1].\n\nWait, the problem statement says \"if and only if\", but the user's question is only about the \"if\" direction (assuming convex and concave, prove affine). The title mentions the equivalence, but the actual question is the forward direction. So the problem as posed is to show that if f is both convex and concave, then it's affine.\n\nThe assumptions should list each condition applied to one object. So f is a function from R^n to R. Then f is convex, and f is concave. The problem is to prove that f is affine.\n\nThe other parts of the question, about convex functions being continuous, are separate and the user mentions they can prove it for 1D but not higher. But in the example provided, the assistant filtered out unrelated information. So in this case, the continuity of convex functions is a separate question and should be excluded from the assumptions here.\n\nSo the formatted problem should have:\n\nAssumptions:\n- The function f is defined from ℝⁿ to ℝ.\n- f is convex.\n- f is concave.\n- The convexity and concavity are defined using the inequality with t ∈ [0,1] for all x, y ∈ ℝⁿ.\n\nProblem: Prove that f is affine.\n\nWait, but the original title says \"if and only if\", but the problem in the question is only the \"if\" part. The user says \"how to prove that f is linear? or exactly speaking, f is affine?\" So the problem is to prove that if f is both convex and concave, then it's affine. The other direction (if f is affine, then it's both convex and concave) is probably straightforward, but the user is focusing on the non-trivial direction.\n\nBut in the example, the assumption included specific conditions on n (being an integer and divisible by 7). Here, the assumptions are about the function's domain, codomain, and its convexity and concavity.\n\nSo putting it all together, the assumptions are each a single condition. So each bullet point should be a single property applied to one object. The function f is from R^n to R. Then f is convex. Then f is concave. The convexity/concavity definitions are given via the inequality, but maybe that's part of the problem statement rather than an assumption. Wait, in the example, the assumption included the divisibility by 7, which was part of the original problem's conditions, but the original problem statement had a different divisibility. Wait, in the example, the user had an original problem that stated \"for every integer n\", but the formatted problem added \"n is divisible by 7\". Wait, that example seems incorrect? Wait, let me check the example again.\n\nWait, the user provided an example where the original problem was to prove that A(n) is divisible by 91 for every integer n. The formatted problem had assumptions: n is an integer, n is divisible by 7. Wait, that seems like the assistant might have made a mistake because the original problem didn't specify that n is divisible by 7. It was for every integer n. But the formatted problem in the example added an assumption that n is divisible by 7. That seems incorrect. Wait, perhaps there was a confusion. Maybe the original problem in the example actually had a condition that n is divisible by 7, but the user wrote it wrong? Because otherwise, the example's formatted problem is adding an assumption that wasn't there. So maybe there was a mistake in the example. But regardless, I should follow the instructions given.\n\nBut in the current problem, the user's question is: Suppose f: R^n → R is both convex and concave, how to prove that f is affine? So the assumptions here are that the function is from R^n to R, it's convex, and it's concave. The problem is to prove it's affine.\n\nSo the formatted problem should have:\n\nAssumption:\n- The function f is defined from ℝⁿ to ℝ.\n- f is convex.\n- f is concave.\n\nProblem: Prove that f is affine.\n\nBut the user also mentions the definition of convex and concave using the inequality. Should that be included as an assumption? In the example, the definition wasn't included as an assumption, only the specific conditions. Here, the definition is part of the problem's setup. Since the problem uses the standard definitions, maybe it's not necessary to list them as assumptions. However, the user does specify that they use that particular definition. But in the example, the structure didn't include the definitions as assumptions. For example, in the original problem's example, the divisibility by 91 and the expression for A(n) were given, but the assumption listed n is an integer and divisible by 7. So perhaps the definitions aren't listed as assumptions unless they are non-standard. In this case, the user is using the standard definition, so it's part of the problem statement, not an assumption. Therefore, the assumptions are just the function's domain, codomain, and the properties of being convex and concave.\n\nSo the final answer should list each assumption as:\n\nAssumption:\n- The domain of f is ℝⁿ.\n- The codomain of f is ℝ.\n- f is convex.\n- f is concave.\n\nProblem: Prove that f is affine.\n\nBut maybe even more broken down. For instance, in the example, each assumption is a separate line, each addressing one property or condition applied to one object. So \"n is an integer\" and \"n is divisible by 7\" are separate. Here, similarly:\n\nAssumption:\n- f is a function from ℝⁿ to ℝ.\n- f is convex.\n- f is concave.\n\nProblem: Prove that f is affine.\n\nYes, that's better. Because each bullet is one property applied to one object (f is the function with domain and codomain, then f has convexity, then f has concavity). The definition of convex/concave is part of the problem's context but not an assumption since it's standard. The user provided the definition, but in the example, definitions weren't listed as assumptions. So the answer should be as above.",
    "Original_Problem": "Assumption: \n$f$ is a function from $\\mathbb{R}^n$ to $\\mathbb{R}$,\n$f$ is convex,\n$f$ is concave.\nProblem:  \nProve that $f$ is affine.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $f$ is a function from $\\mathbb{R}^n$ to $\\mathbb{R}$,\nAssumption 2: $f$ is convex,\nAssumption 3: $f$ is concave.\nProblem:  \nProve that $f$ is affine.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$t > 1$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $f$ is a function from $\\mathbb{R}^n$ to $\\mathbb{R}$,\nAssumption 2: $f$ is convex,\nAssumption 3: $f$ is concave.\nAssumption 4: $t > 1$\nProblem:  \nProve that $f$ is affine."
}