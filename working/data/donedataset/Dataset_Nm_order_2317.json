{
    "Link_API": "https://api.stackexchange.com/2.3/questions/1744250",
    "Title": "Convergence of Riemann sums for improper integrals",
    "Score": 15,
    "Category": "Chứng minh",
    "Tags": "integration, improper-integrals, riemann-integration",
    "Link": "https://math.stackexchange.com/questions/1744250/convergence-of-riemann-sums-for-improper-integrals",
    "Content": "I was considering whether or not the limit of Riemann sums converges to the value of an improper integral on a bounded interval.  This appears to be true in some cases when the sum avoids points where the function is not defined. For example, the right-hand Riemann sum for $1/\\sqrt{x}$ converges\n$$\\lim \\frac1{n}\\sum_{i = 1}^n  \\sqrt{n/i} = \\int_0^1 \\frac{dx}{\\sqrt{x}}.$$\nThis does not work, however, for the function $\\sin(1/x)/x$ even though the improper integral is finite.\nI’m sure this has something to do with the function being monotone, but I am not able to find a proof.",
    "AcceptedAnswer": "We can prove that sequences of right- or left-hand Riemann sums will converge for a monotone function with a convergent improper integral. Suppose WLOG $f:(0,1] \\to \\mathbb{R}$ is nonnegative and decreasing. Suppose further that there is a singularity at $x =0$ but $f$ is Riemann integrable on $[c,1]$ for $c > 0$ and the improper integral is convergent: $$\\lim_{c \\to 0+}\\int_c^1 f(x) \\, dx = \\int_0^1 f(x) \\, dx.$$ Take a uniform partition $P_n = (0,1/n, 2/n, \\ldots, (n-1)/n,1).$ Since $f$ is decreasing we have \n$$\\frac1{n}f\\left(\\frac{k}{n}\\right) \\geqslant \\int_{k/n}^{(k+1)/n}f(x) \\, dx \\geqslant \\frac1{n}f\\left(\\frac{k+1}{n}\\right), $$ and summing over $k = 1,2, \\ldots, n-1$ $$\\frac1{n}\\sum_{k=1}^{n-1}f\\left(\\frac{k}{n}\\right) \\geqslant \\int_{1/n}^{1}f(x) \\, dx \\geqslant \\frac1{n}\\sum_{k=2}^nf\\left(\\frac{k}{n}\\right). $$\nHence, $$ \\int_{1/n}^{1}f(x) \\, dx +\\frac{1}{n}f(1) \\leqslant \\frac1{n}\\sum_{k=1}^{n}f\\left(\\frac{k}{n}\\right) \\leqslant \\int_{1/n}^{1}f(x) \\, dx+ \\frac{1}{n}f \\left(\\frac{1}{n} \\right).$$ Note that as $n \\to \\infty$ we have $f(1) /n \\to 0$ and since the improper integral is convergent, $$\\lim_{n \\to \\infty} \\int_{1/n}^{1}f(x) \\, dx = \\int_0^1 f(x) \\, dx, \\\\ \\lim_{n \\to \\infty}\\frac{1}{n}f \\left(\\frac{1}{n} \\right) = 0.$$ The second limit follows from monotonicity and the Cauchy criterion which implies that for any $\\epsilon > 0$ and all $n$ sufficiently large $$0 \\leqslant \\frac{1}{n}f \\left(\\frac{1}{n} \\right) \\leqslant 2\\int_{1/2n}^{1/n}f(x) \\, dx < \\epsilon.$$ By the squeeze theorem we have $$\\lim_{n \\to \\infty}\\frac1{n}\\sum_{k=1}^nf\\left(\\frac{k}{n}\\right)  = \\int_0^1 f(x) \\, dx.$$ This proof can be generalized for non-uniform partitions. For oscillatory functions like $g(x) = \\sin(1/x)/x$, the failure of the sequence of right-hand Riemann sums to converge is, non-monotonicity notwithstanding, related to non-convergence as $n \\to \\infty$ of $$ \\frac{1}{n}g \\left(\\frac{1}{n} \\right) = \\sin n. $$ This particular case appears to have been covered nicely by @Daniel Fischer in Improper integrals and right-hand Riemann sums",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \nThe function $f$ is defined on the interval $(0, 1]$,\nThe improper integral $\\int_0^1 f(x) \\, dx$ exists,\nThe Riemann sums for $f$ on $[0, 1]$ are computed using partitions that avoid the point $0$,\n$f$ is monotonic on $(0, 1]$.\nProblem:\nProve that the limit of Riemann sums of $f$ converges to $\\int_0^1 f(x) \\, dx$.\n###END_OF_FORMAT###",
    "reasoning_create_structured_problem": "Okay, let's try to structure the problem from the Math Stack Exchange question. The user is talking about the convergence of Riemann sums for improper integrals, specifically on a bounded interval. They mention examples with 1/sqrt(x) and sin(1/x)/x. The key points here are:\n\nFirst, the problem is about whether the limit of Riemann sums converges to the improper integral's value. The user gives an example where it works (1/sqrt(x)) and one where it doesn't (sin(1/x)/x), even though the improper integral exists. They suspect it has to do with the function being monotone but can't find a proof.\n\nSo, I need to extract the assumptions. Let's see:\n\nThe main objects here are the functions involved. For the first example, 1/sqrt(x) is defined on (0,1], undefined at 0, but the improper integral from 0 to 1 exists. The Riemann sum in question is a right-hand sum avoiding the point 0. The second example is sin(1/x)/x, which also has an improper integral but the Riemann sums don't converge to it.\n\nAssumptions should list each condition applied to one object. The problem is to determine under what conditions the limit of Riemann sums equals the improper integral. The user suggests that monotonicity might be a factor.\n\nSo possible assumptions:\n\n- The function has an improper integral on the interval [0, 1].\n- The Riemann sums avoid points where the function is not defined (like x=0 in the example).\n- The function is monotone (as per the user's hypothesis).\n\nWait, but in the original problem, the user is considering when the convergence holds. So the assumptions for the problem would be the conditions under which the convergence occurs. The user is asking for a proof related to monotonicity. But in the problem statement, they need to structure the problem as per the given format.\n\nSo the original question is: When does the limit of Riemann sums for an improper integral converge to the integral's value? The user provides that in some cases (like 1/sqrt(x)), it works if the sum avoids undefined points, but fails for others (sin(1/x)/x). The user thinks monotonicity is a key factor.\n\nThus, the formatted problem should have assumptions that include the function being monotone, having an improper integral on [0,1], and the Riemann sums avoiding the singular point (like x=0 here). But in the example given by the user, they structured assumptions as specific conditions on the objects involved. For instance, in the previous example, the assumption was that n is an integer and divisible by 7.\n\nSo here, we need to list the assumptions for the problem. The problem is to prove that if a function satisfies certain conditions, then the Riemann sums converge to the improper integral. The user suggests monotonicity might be one of those conditions. The example given (1/sqrt(x)) is monotonic decreasing, and the integral is from 0 to 1. The other example is not monotonic (sin(1/x)/x oscillates as x approaches 0).\n\nTherefore, the assumptions would include that the function is monotone on (0,1], has an improper integral on [0,1], and the Riemann sums are taken avoiding the point where the function is undefined (like using right endpoints for the interval [0,1], thus avoiding x=0).\n\nSo breaking it down line by line:\n\nAssumption:\n- The function f is defined on the interval (0, 1].\n- f has an improper integral on [0, 1].\n- The Riemann sums are computed using partitions that avoid the point 0.\n- f is monotonic on (0, 1].\n\nProblem: Prove that the limit of Riemann sums converges to the value of the improper integral.\n\nWait, but the original question is not exactly a problem to prove, but more of a question about when it's true. However, the user is asking for a proof that under certain conditions (like monotonicity), the Riemann sums converge. So structuring it as a problem to prove.\n\nTherefore, the formatted problem would have assumptions about f being monotonic, having an improper integral on [0,1], and Riemann sums avoiding the singularity. Then the problem is to prove that under these assumptions, the limit of the Riemann sums equals the integral.\n\nBut let me check the example again. In the example, the original problem was to prove A(n) divisible by 91, and the formatted problem had assumptions that n is an integer and divisible by 7. Wait, in the example, the user modified the problem's assumptions. Wait, the original problem was \"for every integer n\", but the formatted problem adds \"n is divisible by 7\". Wait, that seems like an error. Wait, no, the original problem says \"for every integer n\", but the formatted problem has \"n is an integer, n is divisible by 7\". But that's conflicting. Wait, perhaps the example was a mistake? Because the original problem was to prove for every integer n, the number is divisible by 91. But in the formatted problem, they added that n is divisible by 7 as an assumption, which changes the problem. That might be an error in the example.\n\nBut regardless, the user's instruction is to structure the problem as per the example. So in the example, they listed the assumptions, even if they modified the original problem. So perhaps in this current problem, the assumptions would be:\n\nAssumption:\n- The function f is defined on (0, 1].\n- The improper integral of f on [0, 1] exists.\n- The Riemann sums for f on [0, 1] avoid the point 0.\n- f is monotonic on (0, 1].\n\nProblem: Prove that the limit of the Riemann sums of f converges to the value of the improper integral.\n\nBut the original question also mentions that in the case of sin(1/x)/x, the improper integral exists but the Riemann sums don't converge. So the problem is to prove that under the assumptions (including monotonicity), the convergence holds.\n\nThus, the formatted problem would be as above.",
    "Original_Problem": "Assumption: \nThe function $f$ is defined on the interval $(0, 1]$,\nThe improper integral $\\int_0^1 f(x) \\, dx$ exists,\nThe Riemann sums for $f$ on $[0, 1]$ are computed using partitions that avoid the point $0$,\n$f$ is monotonic on $(0, 1]$.\nProblem:\nProve that the limit of Riemann sums of $f$ converges to $\\int_0^1 f(x) \\, dx$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: The function $f$ is defined on the interval $(0, 1]$,\nAssumption 2: The improper integral $\\int_0^1 f(x) \\, dx$ exists,\nAssumption 3: The Riemann sums for $f$ on $[0, 1]$ are computed using partitions that avoid the point $0$,\nAssumption 4: $f$ is monotonic on $(0, 1]$.\nProblem:\nProve that the limit of Riemann sums of $f$ converges to $\\int_0^1 f(x) \\, dx$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\\frac1{n}f\\left(\\frac{k}{n}\\right) \\geqslant \\int_{k/n}^{(k+1)/n}f(x) \\, dx \\geqslant \\frac1{n}f\\left(\\frac{k+1}{n}\\right), $$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: The function $f$ is defined on the interval $(0, 1]$,\nAssumption 2: The improper integral $\\int_0^1 f(x) \\, dx$ exists,\nAssumption 3: The Riemann sums for $f$ on $[0, 1]$ are computed using partitions that avoid the point $0$,\nAssumption 4: $f$ is monotonic on $(0, 1]$.\nAssumption 5: $$\\frac1{n}f\\left(\\frac{k}{n}\\right) \\geqslant \\int_{k/n}^{(k+1)/n}f(x) \\, dx \\geqslant \\frac1{n}f\\left(\\frac{k+1}{n}\\right), $$\nProblem:\nProve that the limit of Riemann sums of $f$ converges to $\\int_0^1 f(x) \\, dx$."
}