{
    "Link_API": "https://api.stackexchange.com/2.3/questions/1115873",
    "Title": "Pullback commutes with dual for locally free sheaf of finite rank",
    "Score": 21,
    "Category": "Chá»©ng minh",
    "Tags": "algebraic-geometry, sheaf-theory",
    "Link": "https://math.stackexchange.com/questions/1115873/pullback-commutes-with-dual-for-locally-free-sheaf-of-finite-rank",
    "Content": "Let $ f:X\\rightarrow Y$ be a morphism of ringed spaces. Let $ \\mathscr{E} $ be an $\\mathcal{O}_Y$ module that is locally free of finite rank. I want to show that $ (f^{*}\\mathscr{E})^\\vee\\cong f^*(\\mathscr{E}^\\vee)$ where $\\vee$ denotes the dual. I can easily see how stalks are isomorphic since direct limit and tensor product commute with direct sum. What I'm unable to do is construct a morphism from one of these modules to the other. Once I have it, I think I can show that it induces isomorphisms on stalks. Could you please help me? This is a step in proving the projection formula, so I cannot use this formula here.",
    "AcceptedAnswer": "For these kinds of questions, if you can see how to establish an isomorphism stalkwise, the key thing you need to do to promote this to a complete proof is to construct a morphism between the sheaves that you are trying to prove are isomorphic. Once you have a morphism, in order to check that it is an isomorphism, you can work on stalks; and then hopefully the induced morphism equals to isomorphism you've already constructed.  (If what you've done is sufficiently natural, then this should work out).  In this particular case, there's likely an argument that avoids working with stalks altogether, but since you've already thought about them, it makes sense to incorporate them into your argument; and in any case, the strategy I'm suggesting is a very common one. So, you want a natural morphism $f^*(\\mathscr E^{\\vee}) \\to (f^*\\mathscr E)^{\\vee}$\n(intuiting the correct direction in which to construct the desired morphism is one of the subtleties of this proof strategy, but can normally done by a bit of trial-and-error). That is, we need a pairing $$f^*(\\mathscr E^{\\vee}) \\times f^*\\mathscr E \\to \\mathscr O_X,$$ or equivalently a morphism $$f^*(\\mathscr E^{\\vee}) \\otimes_{\\mathcal O_X} f^*\\mathscr E \\to \\mathscr O_X.$$  (Judicious unwinding of definitions, as in this case, where I've unwound the definition of $(f^*\\mathscr E)^{\\vee})$, is also a typical aspect of such an argument.) But just using properties of pull-backs and tensor products, you can see that there is a canonical isomorphism\n$$f^*\\mathscr E^{\\vee}\\otimes_{\\mathscr O_X} f^*\\mathscr E \\cong f^*(\\mathscr E^{\\vee} \\otimes_{\\mathscr O_Y} \\mathscr E).$$\nSo the desired morphism can be obtained by pulling back the canonical morphism\n$$\\mathscr E^{\\vee} \\otimes_{\\mathscr O_Y} \\mathscr E \\to \\mathscr O_Y$$ via $f$. Now that you have a morphism from $f^*(\\mathscr E^{\\vee})$ to $(f^*\\mathscr E)^{\\vee}$, you can pass to stalks to check it is an isomorphism.  But on stalks,\nit will surely agree with the isomorphism you've already discovered (since this is the only natural isomorphism in this context).",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$f: X \\rightarrow Y$ is a morphism of ringed spaces,\n$\\mathscr{E}$ is an $\\mathcal{O}_Y$-module,\n$\\mathscr{E}$ is locally free of finite rank over $\\mathcal{O}_Y$.\nProblem: \nProve that $(f^{*}\\mathscr{E})^\\vee \\cong f^*(\\mathscr{E}^\\vee)$, where $\\vee$ denotes the dual sheaf.\n###",
    "reasoning_create_structured_problem": "Okay, let me try to work through this problem. The user wants to show that the pullback of the dual of a locally free sheaf is isomorphic to the dual of the pullback sheaf. Specifically, for a morphism of ringed spaces \\( f: X \\rightarrow Y \\) and a locally free \\( \\mathcal{O}_Y \\)-module \\( \\mathscr{E} \\) of finite rank, they need to prove \\( (f^* \\mathscr{E})^\\vee \\cong f^* (\\mathscr{E}^\\vee) \\).\n\nFirst, I need to recall the definitions involved. The pullback functor \\( f^* \\) for sheaves is typically defined as \\( f^* \\mathscr{E} = f^{-1} \\mathscr{E} \\otimes_{f^{-1} \\mathcal{O}_Y} \\mathcal{O}_X \\). The dual sheaf \\( \\mathscr{E}^\\vee \\) is \\( \\mathcal{H}om_{\\mathcal{O}_Y}(\\mathscr{E}, \\mathcal{O}_Y) \\).\n\nSince \\( \\mathscr{E} \\) is locally free of finite rank, locally it looks like \\( \\mathcal{O}_Y^n \\). The dual of a free module is also free, so \\( \\mathscr{E}^\\vee \\) should be locally \\( \\mathcal{O}_Y^n \\) as well. But how does this interact with the pullback?\n\nThe user mentions they can see the stalks are isomorphic because direct limits and tensor products commute with direct sums. That makes sense because, at the stalk level, the pullback involves tensor products, and duals involve Hom, which for free modules would commute. But constructing a morphism between the sheaves is the tricky part.\n\nMaybe the key is to use the adjunction between pullback and pushforward. However, the user mentions not using the projection formula, which might be related. Alternatively, perhaps there's a natural map from \\( f^* (\\mathscr{E}^\\vee) \\) to \\( (f^* \\mathscr{E})^\\vee \\) or vice versa.\n\nLet me think about constructing a morphism. For any \\( \\mathcal{O}_X \\)-module \\( \\mathscr{F} \\), we have \\( \\mathcal{H}om_{\\mathcal{O}_X}(f^* \\mathscr{E}, \\mathscr{F}) \\cong \\mathcal{H}om_{\\mathcal{O}_Y}(\\mathscr{E}, f_* \\mathscr{F}) \\) by adjunction. But here we want to relate \\( f^* (\\mathscr{E}^\\vee) \\) and \\( (f^* \\mathscr{E})^\\vee \\). Let's see: \\( (f^* \\mathscr{E})^\\vee = \\mathcal{H}om_{\\mathcal{O}_X}(f^* \\mathscr{E}, \\mathcal{O}_X) \\). On the other hand, \\( f^* (\\mathscr{E}^\\vee) = f^{-1} (\\mathcal{H}om_{\\mathcal{O}_Y}(\\mathscr{E}, \\mathcal{O}_Y)) \\otimes_{f^{-1} \\mathcal{O}_Y} \\mathcal{O}_X \\).\n\nIs there a way to relate these two? Maybe using the fact that \\( \\mathscr{E} \\) is locally free. If \\( \\mathscr{E} \\) is locally free, then \\( \\mathcal{H}om_{\\mathcal{O}_Y}(\\mathscr{E}, \\mathcal{O}_Y) \\) is also locally free, and perhaps the Hom sheaf commutes with pullback. Wait, for locally free sheaves, the pullback of the dual should be the dual of the pullback. But how to formalize this.\n\nAlternatively, consider that for a locally free sheaf \\( \\mathscr{E} \\), the natural map \\( \\mathscr{E}^\\vee \\otimes \\mathscr{F} \\to \\mathcal{H}om(\\mathscr{E}, \\mathscr{F}) \\) is an isomorphism when \\( \\mathscr{E} \\) is finite locally free. Maybe using this property.\n\nBut here, we need to construct a map between \\( f^*(\\mathscr{E}^\\vee) \\) and \\( (f^* \\mathscr{E})^\\vee \\). Let's try to define a morphism. Let me think locally. Suppose \\( \\mathscr{E} \\) is free on an open set \\( V \\subseteq Y \\), so \\( \\mathscr{E}|_V \\cong \\mathcal{O}_V^n \\). Then \\( \\mathscr{E}^\\vee|_V \\cong \\mathcal{O}_V^n \\) as well. Then \\( f^* \\mathscr{E} \\) over \\( f^{-1}(V) \\) is \\( \\mathcal{O}_{f^{-1}(V)}^n \\), and its dual is also \\( \\mathcal{O}_{f^{-1}(V)}^n \\). Similarly, \\( f^*(\\mathscr{E}^\\vee) \\) over \\( f^{-1}(V) \\) is \\( \\mathcal{O}_{f^{-1}(V)}^n \\). So on each such open set, they are isomorphic. The question is how to glue these local isomorphisms into a global one.\n\nAlternatively, maybe there's a canonical morphism. For any \\( \\mathcal{O}_Y \\)-module \\( \\mathscr{E} \\), there is a canonical map \\( f^* \\mathscr{E}^\\vee \\to (f^* \\mathscr{E})^\\vee \\). Let's see: an element of \\( f^* \\mathscr{E}^\\vee = f^{-1} \\mathscr{E}^\\vee \\otimes \\mathcal{O}_X \\) can be thought of as a tensor product of sections \\( s \\otimes t \\), where \\( s \\) is a section of \\( f^{-1} \\mathscr{E}^\\vee \\) and \\( t \\) is a section of \\( \\mathcal{O}_X \\). Then, since \\( s \\) is a section of \\( \\mathscr{E}^\\vee \\), which is \\( \\mathcal{H}om(\\mathscr{E}, \\mathcal{O}_Y) \\), applying \\( f^{-1} \\), we get a map \\( f^{-1} \\mathscr{E} \\to f^{-1} \\mathcal{O}_Y \\). Then tensoring with \\( \\mathcal{O}_X \\), we get a map \\( f^* \\mathscr{E} = f^{-1} \\mathscr{E} \\otimes \\mathcal{O}_X \\to f^{-1} \\mathcal{O}_Y \\otimes \\mathcal{O}_X \\). But \\( f^{-1} \\mathcal{O}_Y \\otimes \\mathcal{O}_X \\) is \\( \\mathcal{O}_X \\), since \\( \\mathcal{O}_X \\) is a module over \\( f^{-1} \\mathcal{O}_Y \\). So this gives a map \\( f^* \\mathscr{E} \\to \\mathcal{O}_X \\), which is an element of \\( (f^* \\mathscr{E})^\\vee \\).\n\nTherefore, this construction gives a morphism \\( f^* \\mathscr{E}^\\vee \\to (f^* \\mathscr{E})^\\vee \\). Now, since \\( \\mathscr{E} \\) is locally free of finite rank, this map should be an isomorphism. Locally, as we saw earlier, both sides are free of the same rank, and the map is an isomorphism. Since the morphism is defined locally and compatible with restrictions, it should glue to a global isomorphism.\n\nWait, but the user is asking for constructing the morphism, not necessarily verifying it's an isomorphism. But once you have the morphism, checking on stalks (since the stalks are isomorphic and the morphism induces isomorphism on stalks) would give that it's an isomorphism. The user mentions they can handle the stalk part once the morphism is constructed.\n\nSo the key step is constructing that natural morphism from \\( f^* (\\mathscr{E}^\\vee) \\) to \\( (f^* \\mathscr{E})^\\vee \\). The construction I outlined above seems like the right approach. Alternatively, using adjunction properties or universal properties of the dual sheaf.\n\nAlternatively, using the evaluation map. For any sheaf \\( \\mathscr{E} \\), there's a natural evaluation map \\( \\mathscr{E}^\\vee \\otimes \\mathscr{E} \\to \\mathcal{O}_Y \\). Pulling this back via \\( f \\), we get \\( f^* (\\mathscr{E}^\\vee \\otimes \\mathscr{E}) \\to f^* \\mathcal{O}_Y \\cong \\mathcal{O}_X \\). But the left side is \\( f^* \\mathscr{E}^\\vee \\otimes f^* \\mathscr{E} \\). So this gives a pairing \\( f^* \\mathscr{E}^\\vee \\otimes f^* \\mathscr{E} \\to \\mathcal{O}_X \\), which corresponds to a map \\( f^* \\mathscr{E}^\\vee \\to \\mathcal{H}om(f^* \\mathscr{E}, \\mathcal{O}_X) = (f^* \\mathscr{E})^\\vee \\).\n\nYes, that seems like a more categorical way to define the morphism. The evaluation pairing induces by pullback a pairing between the pullback of the dual and the pullback of the original sheaf, which then gives a morphism from the pullback of the dual to the dual of the pullback.\n\nSo this is the natural morphism. Then, since \\( \\mathscr{E} \\) is locally free of finite rank, this morphism is an isomorphism. Locally, it's true because for free modules, the dual is free, and the map is an isomorphism. Hence globally as well.\n\nTherefore, the user needs to construct this morphism using the evaluation pairing and then verify it's an isomorphism by checking on stalks or locally. The user might need to write down this morphism explicitly and then use the local freeness to show it's an isomorphism.",
    "Original_Problem": "Assumption: \n$f: X \\rightarrow Y$ is a morphism of ringed spaces,\n$\\mathscr{E}$ is an $\\mathcal{O}_Y$-module,\n$\\mathscr{E}$ is locally free of finite rank over $\\mathcal{O}_Y$.\nProblem: \nProve that $(f^{*}\\mathscr{E})^\\vee \\cong f^*(\\mathscr{E}^\\vee)$, where $\\vee$ denotes the dual sheaf.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $f: X \\rightarrow Y$ is a morphism of ringed spaces,\nAssumption 2: $\\mathscr{E}$ is an $\\mathcal{O}_Y$-module,\nAssumption 3: $\\mathscr{E}$ is locally free of finite rank over $\\mathcal{O}_Y$.\nProblem: \nProve that $(f^{*}\\mathscr{E})^\\vee \\cong f^*(\\mathscr{E}^\\vee)$, where $\\vee$ denotes the dual sheaf.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$f^*(\\mathscr E^{\\vee}) \\times f^*\\mathscr E \\to \\mathscr O_X,$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $f: X \\rightarrow Y$ is a morphism of ringed spaces,\nAssumption 2: $\\mathscr{E}$ is an $\\mathcal{O}_Y$-module,\nAssumption 3: $\\mathscr{E}$ is locally free of finite rank over $\\mathcal{O}_Y$.\nAssumption 4: $$f^*(\\mathscr E^{\\vee}) \\times f^*\\mathscr E \\to \\mathscr O_X,$$\nProblem: \nProve that $(f^{*}\\mathscr{E})^\\vee \\cong f^*(\\mathscr{E}^\\vee)$, where $\\vee$ denotes the dual sheaf."
}