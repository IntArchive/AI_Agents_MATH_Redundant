{
    "Link_API": "https://api.stackexchange.com/2.3/questions/4106935",
    "Title": "Prove that $\\arctan x$ cannot be expressed as a rational function",
    "Score": 12,
    "Category": "Chá»©ng minh",
    "Tags": "calculus, indefinite-integrals",
    "Link": "https://math.stackexchange.com/questions/4106935/prove-that-arctan-x-cannot-be-expressed-as-a-rational-function",
    "Content": "In my Calculus class the teacher proposed as an exercise to prove that $\\arctan(x)$ cannot be expressed as a rational function (fraction of polynomials) in any closed interval $[a,b]$ . I've been thinking on the problem and I haven't been able to prove it by \"analysis\" arguments but using some concepts of an abstract algebra course I took last semester. I've done it this way: Suppose there exist $p(x),q(x)$ such that $\\arctan(x) = \\frac{p(x)}{q(x)}$ in the interval $[a,b]$ , where $\\gcd(p,q)=1$ . Thus, $\\left(\\frac{p(x)}{q(x)}\\right)' = \\frac{1}{1+x^2}$ . If we expand the expression of the derivative of a quotient and manipulate the equality, we end up with: $$(1+x^2)(p'(x)q(x)-p(x)q'(x))=q^2(x)$$ Thus, $1+x^2$ divides $q^2(x)$ and as $1+x^2$ is irreducible over $\\mathbb R[x]$ , $1+x^2$ divides $q(x)$ . Let $q(x)$ have the prime factor $1+x^2$ \"n\" times. From the equation above, we know that $q^2(x)$ has the factor $(1+x^2)$ \"2n\" times; hence $(p'(x)q(x)-p(x)q'(x))$ has the factor $1+x^2$ exactly \"2n-1\" times. Note that for $n\\geq 1$ , $2n-1 \\geq n$ . Hence, the factor $(1+x^2)^n$ must divide $(p'(x)q(x)-p(x)q'(x))$ and it also divides $q(x)$ ; thus $(1+x^2)^n$ must divide $p(x)q'(x)$ . Suppose that $1+x^2$ is not a factor of $p(x)$ . Thus, $(1+x^2)^n$ must divide $q'(x)$ . However, note that: $$ q'(x) = ((x^2+1)^n \\cdot r(x))' = 2nx(x^2 + 1)^{n-1} r(x) + (x^2+1)^n r'(x),\\  \\gcd(r,1+x^2)=1 $$ Therefore, $(x^2+1)^n$ divides $q'(x)$ if and only if $(x^2+1)^n$ divides $n(x^2+1)^{n-1} r(x)$ . Then, $x^2 + 1$ must divide $r(x)$ which is a contradiction. Hence, $x^2 +1$ must also be a factor of $p(x)$ . However, by hypothesis $\\gcd(p,q)=1$ while $x^2+1$ divides both $p,q$ . This is a contradiction, hence there do not exist such polynomials. First of all, I would appreciate if anyone could tell me if this proof has any error. Moreover, I would appreciate any other approach which uses theorems of elementary one-variable calculus instead of divisibility. NOTE: In the case of $\\mathbb R$ , this problem is (almost) trivial. As the arctangent has a horizontal asymptote in both $\\pm \\infty$ , it follows that if $\\arctan(x) = \\frac{p(x)}{q(x)}$ for certain $p,q$ , they must verify that $deg(p) = deg (q)$ . Moreover, $x=0$ is a unique real root of $p(x)$ with multiplicity 1 as $\\arctan(0) = p(0)/q(0) = 0$ and $\\arctan(0)' = 1/(1+0^2) = 1 \\not = 0$ . Thus, $deg(p)$ must be odd. However, all the roots of $q(x)$ are complex as $\\arctan(x)$ must be continuous on $\\mathbb R$ . As complex roots on a real polynomial come in conjugate pairs, it follows that $deg(q)$ must be even. Then $deg(p) \\not = deg(q)$ which is a contradiction. Conclusions: I have already proposed a solution to my Calculus professor based on some arguments given in this page and adding some details: Suppose there exist $p,q$ such that $\\arctan(x) = p(x)/q(x)$ and $gcd(p,q)=1$ in the interval $[a,b]$ . Therefore, they must have the same derivative, hence: $$ (1+x^2)(p'q-pq') = q^2, \\forall x \\in [a,b]$$ As an equality of polynomials in an interval $[a,b], a<b$ must hold also in $\\mathbb R$ , then if $q(x) /not = 0$ , the equality above holds. We are going to prove that q(x) has no real roots hence $p(x)/q(x)$ is continuous in $\\mathbb R$ . Suppose $\\alpha \\in \\mathbb R$ is a root of $q$ . As there are finitely many roots of $q(x)$ as is a non-zero polynomial, there exists $\\delta > 0$ such that for any point in $[\\alpha - \\delta,\\alpha + \\delta]$ except for $x= \\alpha$ , the equality $(\\arctan x)' - (\\frac{p}{q})' = 0$ holds. Thus, there exists a constant $c \\in \\mathbb R$ such that $\\frac{p}{q} = \\arctan + c$ . Thus, $$ \\lim_{x \\to \\alpha} \\frac{p}{q} = \\lim_{x \\to \\alpha} (\\arctan (x) + c) = arctan(\\alpha) + c $$ As arctan is a continuous function. Thus, $\\alpha$ must be a root also of $p(x)$ (if not, $\\lim_{x \\to \\alpha} \\frac{p}{q} = \\infty$ ). But as we suppose that $p,q$ are prime polynomials, this is a contradiction. Hence, there cannot exists any root of q(x). Hence, $p(x)/q(x)$ is continuous in $\\mathbb R$ and the equality $(\\arctan x)' = (\\frac{p}{q})'$ holds in $\\mathbb R$ . Therefore, in $\\mathbb R$ , $\\frac{p}{q} = \\arctan x + c$ and in $[a,b]$ , $\\arctan = \\frac{p}{q}$ . Thus $c = 0$ , and we get that $\\forall x \\in \\mathbb, \\arctan = \\frac{p}{q}$ . But we have already proved that this is a contradiction, as desired. Further Questions: The same procedure can be used to prove that $log x$ cannot be expressed as a rational function. Moreover, I have come up with two questions I would try to solve: Can the argument applied here be generalised to an arbitrary function under certain hypothesis ( $f$ continuous and $f'$ a rational function, for example)? Can we find a similar argument to prove that $\\sin x$ and $\\cos x$ cannot be expressed in any interval as a rational function? I would try to publish as soon as possible the conclusions of these questions.",
    "AcceptedAnswer": "A possible variant which does not use divisibility: Both sides of $$ \\tag{*}\n(1+x^2)(p'(x)q(x)+p(x)q'(x))=q^2(x)\n$$ are polynomials, which means that if the identity holds on an interval $[a,b]$ of positive length then it holds for all $x \\in \\Bbb R$ . It follows that (see below) $$\n \\arctan(x) = \\frac{p(x)}{q(x)}\n$$ holds for all $x \\in \\Bbb R$ as well. That is impossible because $$\\lim_{x \\to - \\infty } \\arctan x \\ne \\lim_{x \\to + \\infty } \\arctan x \\,.$$ More details in response to the comments: The difference between left-hand side and ride-hand side is a polynomial, and zero for all $x \\in [a, b]$ . It follows that the difference is identically zero, i.e. equation $(*)$ holds not only on $[a, b]$ but for all real $x$ . $(*)$ shows that $q(x) \\ne 0$ for all $x \\in \\Bbb R$ (if $q(x_0) = 0$ with multiplicity $n > 0$ then the right-hand side has a zero of multiplicity $2n$ , and the left-hand side has a zero of multiplicity at most $n-1$ ). Therefore the function $$\n f(x) = \\arctan(x) -  \\frac{p(x)}{q(x)}\n$$ is defined for all $x \\in \\Bbb R$ . $f$ is differentiable, and $(*)$ shows that $f'(x) = 0$ for all $x \\in \\Bbb R$ . It follows that $f$ is constant in $\\Bbb R$ . That constant is zero because $f(x) = 0$ for all $x \\in [a, b]$ .",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$\\arctan(x)$ is expressed as a rational function $\\frac{p(x)}{q(x)}$ on a closed interval $[a, b]$,\n$p(x)$ and $q(x)$ are polynomials with real coefficients,\n$\\gcd(p(x), q(x)) = 1$.\nProblem: \nProve that $\\arctan(x)$ cannot be expressed as a rational function in any closed interval $[a, b]$.\n###",
    "reasoning_create_structured_problem": "Okay, let's tackle this problem. The user wants me to act as a bilingual math professor and structure the given Math Stack Exchange question into the specified format. The example they provided shows that assumptions should be listed line by line, each addressing one property or condition of a single object. Then, the problem statement itself should be clearly stated.\n\nLooking at the original problem from the user, the title is \"Prove that arctan x cannot be expressed as a rational function.\" The question details go into a proof using abstract algebra concepts and then discusses alternative approaches using calculus. However, the core problem is to prove that arctan(x) isn't a rational function on any interval [a,b].\n\nFirst, I need to extract the assumptions. In the example, assumptions were about the variable (n being an integer, divisible by 7). Here, the problem's assumptions would relate to the existence of polynomials p(x) and q(x) such that arctan(x) equals their ratio on [a,b], with gcd(p,q)=1. The problem then is to show this leads to a contradiction.\n\nWait, but the original problem's assumptions are part of the proof by contradiction. The user's formatted example had assumptions on the variables in the problem statement. However, in this case, the problem itself is to prove that such polynomials don't exist. So the initial assumption for the problem would be that there exist polynomials p(x) and q(x) with gcd 1, and arctan(x) = p(x)/q(x) on [a,b]. But in the example, the assumption included conditions on n. Here, the problem's assumptions are hypothetical: if arctan could be expressed as a rational function, then certain conditions would hold, leading to a contradiction.\n\nWait, but the problem as stated in the title is \"Prove that arctan x cannot be expressed as a rational function in any closed interval [a,b].\" So the problem itself doesn't have explicit assumptions given in the problem statement except for the general context. The user's example included an assumption that n is divisible by 7, but in the original problem here, the only assumption is that we're considering a closed interval [a,b], and the question is about the impossibility of expressing arctan as a rational function there.\n\nWait, but in the example, the original problem had the assumption that n is an integer and divisible by 7. However, the original problem here doesn't have explicit assumptions other than the interval [a,b] and the structure of rational functions. The user's solution uses gcd(p,q)=1 and the derivative condition. However, in structuring the problem, perhaps the assumptions should include that p and q are polynomials, their gcd is 1, and arctan equals their ratio on [a,b]. But in the example, the assumptions were on the variable n. Here, the problem is about functions and their representation. So maybe the assumptions are:\n\n- arctan(x) is a rational function on [a,b],\n- there exist polynomials p(x) and q(x) such that arctan(x) = p(x)/q(x) on [a,b],\n- gcd(p(x), q(x)) = 1.\n\nBut the problem is to prove that this is impossible. So in the formatted problem, the assumptions would be the conditions that lead to the contradiction. However, according to the example given, the assumptions are the given conditions of the problem. For example, in the example problem, the assumptions were that n is an integer and divisible by 7. So here, maybe the assumptions are:\n\n- arctan(x) can be expressed as a rational function on [a,b],\n- there exist polynomials p(x) and q(x) with real coefficients,\n- gcd(p(x), q(x)) = 1.\n\nBut the problem statement is to prove that such expression is impossible, so perhaps the problem is stated as: \"Prove that there do not exist polynomials p(x) and q(x) such that arctan(x) = p(x)/q(x) for all x in any closed interval [a,b], where gcd(p, q) = 1.\"\n\nBut the original question says \"cannot be expressed as a rational function (fraction of polynomials) in any closed interval [a,b].\" So the problem is to prove that for any interval [a,b], there's no such rational function equal to arctan(x) on that interval. Therefore, the assumptions would be that such polynomials exist on some interval [a,b], leading to a contradiction.\n\nBut how to structure this? The example given had the problem statement with the assumption that n is an integer and divisible by 7. Here, the problem's assumptions might be:\n\n- There exists a closed interval [a, b],\n- There exist polynomials p(x) and q(x) with real coefficients,\n- gcd(p(x), q(x)) = 1,\n- For all x in [a, b], arctan(x) = p(x)/q(x).\n\nBut the problem is to show that these assumptions lead to a contradiction, i.e., such p and q cannot exist. However, in the example, the problem was \"Prove that A(n) is divisible by 91\" with assumptions on n. Here, the problem is to \"Prove that arctan(x) cannot be expressed as a rational function in any [a,b]\". So the formatted problem's \"Assumption\" section would list the conditions under which the problem is posed. However, in this case, the problem is a general statement without specific numerical conditions. Therefore, perhaps the assumptions are:\n\n- arctan(x) is a real function,\n- A rational function is a ratio of two polynomials p(x) and q(x),\n- The interval [a, b] is a closed interval in the real numbers.\n\nBut the original example had specific mathematical conditions on the variables. Maybe in this case, the key assumptions are the existence of the polynomials and the interval. Wait, the problem is to show that no such polynomials exist for any interval. So perhaps the only assumption is the contrary, i.e., assuming that such polynomials exist for some interval. But according to the example, the assumptions are the given conditions. So perhaps:\n\nAssumption:\nThere exists a closed interval [a, b],\nThere exist polynomials p(x) and q(x),\ngcd(p(x), q(x)) = 1,\nFor all x in [a, b], arctan(x) = p(x)/q(x).\n\nProblem:\nProve that no such polynomials p(x) and q(x) exist.\n\nBut the original example's assumptions were listed line by line, each addressing one property. So each line is a separate assumption. Therefore, in this case:\n\nAssumption:\narctan(x) is expressed as a rational function on a closed interval [a, b],\np(x) and q(x) are polynomials,\ngcd(p(x), q(x)) = 1.\n\nProblem:\nProve that such polynomials p(x) and q(x) do not exist.\n\nBut the problem statement is the original title: \"Prove that arctan x cannot be expressed as a rational function in any closed interval [a,b].\"\n\nAlternatively, the problem might be structured as:\n\nAssumption:\np(x) and q(x) are polynomials with real coefficients,\ngcd(p(x), q(x)) = 1,\nThere exists a closed interval [a, b] where arctan(x) = p(x)/q(x) for all x in [a, b].\n\nProblem:\nDerive a contradiction.\n\nBut perhaps the problem statement should remain as the original title, and the assumptions are the conditions given. However, in the example, the original problem had the assumption that n is an integer and divisible by 7. The user formatted the problem by listing those as assumptions. So here, the assumptions would be:\n\n- arctan(x) is equal to a rational function p(x)/q(x) on some closed interval [a, b],\n- p(x) and q(x) are polynomials with real coefficients,\n- gcd(p(x), q(x)) = 1.\n\nTherefore, the formatted problem would have these three assumptions and the problem statement is to derive a contradiction (i.e., prove that this is impossible). Alternatively, the problem could be stated as \"Prove that there do not exist polynomials p(x) and q(x) such that...\" under the given assumptions.\n\nBut in the example, the problem was \"Prove that A(n) is divisible by 91\" with assumptions on n. So here, the problem would be \"Prove that arctan x cannot be expressed as a rational function in any closed interval [a,b]\" with assumptions as the conditions that must hold for such an expression.\n\nWait, perhaps the problem statement is the same as the title, and the assumptions are the conditions under which the problem is posed. For example, in the example, the problem was to prove A(n) divisible by 91, with assumptions that n is an integer and divisible by 7. In the current problem, the assumptions would be that we're considering real polynomials, gcd 1, and the interval [a,b]. But the problem as stated in the title is to show that this is impossible, so the problem is to prove that under these assumptions, a contradiction arises. Therefore, the formatted problem would list the assumptions (if any) and then state the problem.\n\nBut in the example, the original problem didn't mention that n is divisible by 7; that was added in the formatted version. Wait, no. Looking back, the original problem was to prove for every integer n, A(n) is divisible by 91. But in the formatted problem, the user added an assumption that n is divisible by 7, which wasn't in the original problem. Wait, no, the example says:\n\nOriginal problem: Prove that for every integer n, A(n) is divisible by 91.\n\nFormatted problem:\nAssumption: n is an integer, n is divisible by 7.\n\nProblem: Prove that A(n) is divisible by 91.\n\nWait, that's incorrect. The original problem was for every integer n, but the formatted problem added an extra assumption that n is divisible by 7. That seems like a mistake. Wait, perhaps the user's example was incorrect? Because if the original problem states \"for every integer n\", then there's no need to assume n is divisible by 7. But in the formatted problem, the user included that assumption. Maybe it's a typo or an error. Alternatively, maybe the user intended to structure a different problem. Hmm.\n\nBut given that, perhaps the user's example is not correctly formatted. However, we need to follow their structure. So in their example, the original problem's conclusion (divisible by 91) is kept as the problem statement, and the assumptions are additional constraints (n is integer, n divisible by 7). But that might not align with the original problem's intent. It's possible that the user's example had a mistake, but regardless, we need to follow their format.\n\nIn the current problem, the original question is to prove that arctan x cannot be expressed as a rational function in any closed interval [a,b]. The user's own proof assumes that there exist p(x) and q(x) with gcd 1 such that arctan(x) = p(x)/q(x) on [a,b], and then derives a contradiction.\n\nTherefore, following the example's format, the assumptions would be the conditions under which the problem is to be proven. Since the problem is to show that such polynomials cannot exist, the assumptions would be the existence of such polynomials, leading to a contradiction. So the formatted problem's assumptions would be:\n\n- arctan(x) can be expressed as a rational function on a closed interval [a,b],\n- p(x) and q(x) are polynomials,\n- gcd(p(x), q(x)) = 1.\n\nProblem: Prove that no such polynomials p(x) and q(x) exist.\n\nBut the example's problem statement was to prove a property (divisible by 91) under certain assumptions. Here, the problem is to prove the impossibility, given the assumptions. However, the exact problem statement might need to mirror the original question's phrasing.\n\nAlternatively, perhaps the problem is simply \"Prove that arctan x cannot be expressed as a rational function in any closed interval [a,b]\" with the assumptions being the conditions required for such an expression (existence of polynomials, gcd 1, etc.).\n\nBut according to the example, assumptions are listed as individual conditions. Therefore, the assumptions here would be:\n\n- arctan(x) is a real function,\n- A rational function is a ratio of two polynomials p(x) and q(x),\n- The interval [a,b] is closed,\n- gcd(p(x), q(x)) = 1.\n\nBut this might be too verbose. Alternatively, focusing on the key assumptions needed for the contradiction:\n\n- There exist polynomials p(x) and q(x) such that arctan(x) = p(x)/q(x) for all x in [a,b],\n- gcd(p(x), q(x)) = 1.\n\nThen the problem is to derive a contradiction from these assumptions, thereby proving that such polynomials don't exist. But the problem statement should be as given in the original question. So perhaps:\n\nAssumption:\nThere exists a closed interval [a, b],\nThere exist polynomials p(x) and q(x) with real coefficients,\ngcd(p(x), q(x)) = 1,\nFor all x in [a, b], arctan(x) = p(x)/q(x).\n\nProblem:\nProve that such polynomials p(x) and q(x) do not exist.\n\nBut in the example, the assumptions were listed line by line, each addressing one property. So each bullet is one assumption. So here, each line would be:\n\n- arctan(x) is equal to a rational function on some closed interval [a, b],\n- p(x) and q(x) are polynomials,\n- gcd(p(x), q(x)) = 1.\n\nBut the problem is to prove that this is impossible, i.e., no such polynomials exist. Therefore, the formatted problem would be:\n\nAssumption:\narctan(x) can be expressed as p(x)/q(x) on a closed interval [a, b],\np(x) and q(x) are polynomials with real coefficients,\ngcd(p(x), q(x)) = 1.\n\nProblem:\nProve that such polynomials p(x) and q(x) do not exist.\n\nAlternatively, if we follow the example's structure where the problem is restated with the assumptions, perhaps the problem is as per the title, and the assumptions are the conditions required. However, since the example included specific assumptions not present in the original problem (like n divisible by 7), which might have been a mistake, but we need to follow the format.\n\nConsidering the example's structure, where the original problem was about divisibility by 91 for every integer n, and the formatted problem added an assumption that n is divisible by 7, which might be incorrect. However, perhaps the user intended to filter out irrelevant information and list the necessary assumptions. In the current problem, the core assumptions are the existence of polynomials p and q with gcd 1 such that arctan equals their ratio on an interval. Therefore, the formatted problem should list those as assumptions and state the problem as proving that this leads to a contradiction (i.e., such polynomials don't exist).\n\nSo, after careful consideration, the formatted problem should have:\n\nAssumption:\narctan(x) is expressed as a rational function p(x)/q(x) on a closed interval [a, b],\np(x) and q(x) are polynomials with real coefficients,\ngcd(p(x), q(x)) = 1.\n\nProblem:\nProve that no such polynomials p(x) and q(x) exist.\n\nBut the original problem's title is \"Prove that arctan x cannot be expressed as a rational function\", so the problem statement should match that, with the assumptions being the conditions under which this is to be proven. Therefore, the final answer would be structured as per the user's example, listing the assumptions and the problem.",
    "Original_Problem": "Assumption: \n$\\arctan(x)$ is expressed as a rational function $\\frac{p(x)}{q(x)}$ on a closed interval $[a, b]$,\n$p(x)$ and $q(x)$ are polynomials with real coefficients,\n$\\gcd(p(x), q(x)) = 1$.\nProblem: \nProve that $\\arctan(x)$ cannot be expressed as a rational function in any closed interval $[a, b]$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $\\arctan(x)$ is expressed as a rational function $\\frac{p(x)}{q(x)}$ on a closed interval $[a, b]$,\nAssumption 2: $p(x)$ and $q(x)$ are polynomials with real coefficients,\nAssumption 3: $\\gcd(p(x), q(x)) = 1$.\nProblem: \nProve that $\\arctan(x)$ cannot be expressed as a rational function in any closed interval $[a, b]$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\\lim_{x \\to - \\infty } \\arctan x \\ne \\lim_{x \\to + \\infty } \\arctan x \\,.$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $\\arctan(x)$ is expressed as a rational function $\\frac{p(x)}{q(x)}$ on a closed interval $[a, b]$,\nAssumption 2: $p(x)$ and $q(x)$ are polynomials with real coefficients,\nAssumption 3: $\\gcd(p(x), q(x)) = 1$.\nAssumption 4: $$\\lim_{x \\to - \\infty } \\arctan x \\ne \\lim_{x \\to + \\infty } \\arctan x \\,.$$\nProblem: \nProve that $\\arctan(x)$ cannot be expressed as a rational function in any closed interval $[a, b]$."
}