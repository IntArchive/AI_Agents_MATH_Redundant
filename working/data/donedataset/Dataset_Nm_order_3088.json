{
    "Link_API": "https://api.stackexchange.com/2.3/questions/847387",
    "Title": "Prove that there exists a Borel measurable function $h: \\mathbb R \\to \\mathbb R$ such that $g= h\\circ f$.",
    "Score": 12,
    "Category": "Chứng minh",
    "Tags": "measure-theory",
    "Link": "https://math.stackexchange.com/questions/847387/prove-that-there-exists-a-borel-measurable-function-h-mathbb-r-to-mathbb-r",
    "Content": "Problem: Suppose $f: \\mathbb R \\to \\mathbb R$ is Borel measurable. Define $\\mathcal A$ to be the smallest $\\sigma$-algebra containing the sets $\\{ x : f(x) > a\\}$ for every $a \\in \\mathbb R$. Suppose $g: \\mathbb R \\to \\mathbb R$ is measurable with respect to $\\mathcal A$, which means that $\\{x : g(x) > a\\} \\in \\mathcal A$ for every $a \\in \\mathbb R$. Prove that there exists a Borel measurable function $h: \\mathbb R \\to \\mathbb R$ such that $g= h\\circ f$. What I've looked into so far: I'm thinking $h = g\\circ f^{-1}$. This would mean I would need to prove that for any Borel measurable set $B$, we have $h^{-1}(B) = f(g^{-1}(B))\\in \\mathcal B$. Since $g$ is $\\mathcal A$-measurable, $g^{-1}(B) = A\\in \\mathcal A$. Can we say that since $f$ is Borel measurable, $\\{x: f(x) > a\\} \\in \\mathcal B$, and $\\mathcal A \\subset \\mathcal B$? However, I'm not sure what I can say about $f(A)$ besides that I need it to be Borel measurable. Should I approach this differently, or am I on the right track?",
    "AcceptedAnswer": "The problem is that $f$ has in general no inverse which means that the expression $h = g \\circ f^{-1}$ is not well-defined. Usually, the statement is proved using a monotone class argument: Prove the claim if $g$ is of the form $g=1_A$ where $A \\in \\mathcal{B}(\\mathbb{R})$ is a Borel set. To this end, note that $A \\in \\mathcal{A}$ (as $g$ is $\\mathcal{A}$-measurable) and that any set $A \\in \\mathcal{A}$ admits a representation of the form $$A = f^{-1}(B)$$ for some Borel set $B$; this follows directly from the definition of the $\\sigma$-algebra $\\mathcal{A}$: $$\\mathcal{A} = \\sigma\\{\\{x; f(x)>a\\}; a \\in \\mathbb{R}\\} = \\{f^{-1}(B); B \\in \\mathcal{B}(\\mathbb{R})\\}.$$ Prove the claim for a step function $g$. Consider $g \\geq 0$ measurable. Approximate $g$ by step functions in order to deduce that the claim holds for $g$. For arbitrary measurable $g$, write $g=g^+-g^-$ where $g^+$ ($g^-$) denotes the positive (negative) part of $g$. The result is known as factorization lemma and is of importance in probability theory.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$f: \\mathbb{R} \\to \\mathbb{R}$ is Borel measurable,\n$\\mathcal{A}$ is the smallest $\\sigma$-algebra containing $\\{x : f(x) > a\\}$ for all $a \\in \\mathbb{R}$,\n$g: \\mathbb{R} \\to \\mathbb{R}$ is $\\mathcal{A}$-measurable.\nProblem: \nProve that there exists a Borel measurable function $h: \\mathbb{R} \\to \\mathbb{R}$ such that $g = h \\circ f$.\n###END_OF_FORMAT###",
    "reasoning_create_structured_problem": "Okay, let me try to work through this problem step by step. So the problem states that we have a Borel measurable function f from R to R. Then, we define a sigma-algebra A as the smallest one containing all the sets {x : f(x) > a} for every real number a. Then, g is a function that's measurable with respect to A, and we need to show there's a Borel measurable h such that g = h∘f.\n\nFirst, let me recall some measure theory concepts. The sigma-algebra generated by the sets {x : f(x) > a} is the same as the sigma-algebra generated by f, right? Because those sets are the preimages under f of the intervals (a, ∞), and the Borel sigma-algebra on R is generated by such intervals. So sigma-algebra A is the smallest sigma-algebra making f measurable. So in other words, A is the collection of all sets of the form f^{-1}(B) where B is a Borel set in R.\n\nNow, the function g is measurable with respect to A. That means that for any Borel set B in R, the preimage g^{-1}(B) is in A. But since A is generated by f, that means g^{-1}(B) must be of the form f^{-1}(C) for some Borel set C in R. So for each Borel set B, there exists a Borel set C such that g^{-1}(B) = f^{-1}(C). \n\nSo, if we can define a function h such that h(y) = g(x) whenever y = f(x), then h would satisfy g = h∘f. But how do we construct h? The problem is that f might not be injective, so there could be multiple x's mapping to the same y. How do we define h(y) in that case? We need h to be Borel measurable, so it has to be defined for all y in R, even those not in the image of f. \n\nWait, maybe we can use the fact that g is A-measurable. Since A is generated by f, every A-measurable function should be expressible as a composition of f with some Borel function. That sounds like the factor theorem in measure theory. The theorem states that if g is measurable with respect to the sigma-algebra generated by f, then there exists a Borel function h such that g = h∘f. \n\nBut how do we construct h explicitly? Let's think. For each y in the image of f, i.e., y = f(x) for some x, we can set h(y) = g(x). But if f is not injective, there might be multiple x's mapping to the same y. However, since g is A-measurable, it's constant on the level sets of f. Wait, is that true? Suppose two points x1 and x2 have f(x1) = f(x2) = y. Then, since A is generated by f, any set in A can't distinguish between x1 and x2. Therefore, if g is A-measurable, g(x1) must equal g(x2). Because otherwise, there would be some a where g(x1) > a and g(x2) ≤ a, which would mean x1 is in {x : g(x) > a} but x2 isn't. But since {x : g(x) > a} is in A, which is generated by f, such a set can only depend on f(x). So if f(x1) = f(x2), then x1 and x2 are in the same atoms of the sigma-algebra A, hence g must be constant on those atoms. Therefore, h is well-defined on the image of f: set h(y) = g(x) for any x such that f(x) = y. \n\nThen, to extend h to all of R, we can define h(y) to be 0 (or any constant) for y not in the image of f. Since the image of f might not be Borel, but h only needs to be Borel measurable. However, since h is defined piecewise, we need to check if h is Borel measurable. \n\nAlternatively, maybe we can use a more general approach. Since g is A-measurable, and A is generated by f, by the Doob-Dynkin lemma (which I think is another name for the factor theorem), there exists a Borel function h such that g = h∘f. The Doob-Dynkin lemma states that if two functions are measurable with respect to the same sigma-algebra, then one is a function of the other. Wait, maybe that's not exactly the statement. Let me recall. The Doob-Dynkin lemma says that if g is measurable with respect to the sigma-algebra generated by f, then there exists a Borel measurable h such that g = h∘f. \n\nSo perhaps the problem is a direct application of the Doob-Dynkin lemma. Therefore, the answer is to cite the lemma. But since the problem is to prove it, maybe the user is expected to go through the steps of the proof.\n\nSo, let's try to outline the proof. Given that g is A-measurable, where A is the sigma-algebra generated by f. We need to construct h. Let's consider the case where g is a simple function first, then use approximation. \n\nAlternatively, for each rational number q, the set {x : g(x) > q} is in A, so there exists a Borel set C_q such that {x : g(x) > q} = f^{-1}(C_q). Then, we can define h(y) = sup { q ∈ Q : y ∈ C_q }. This is similar to the construction of measurable functions via their level sets. \n\nWait, that might work. Let me think. If we define h(y) as the supremum of all rationals q such that y is in C_q, then h would be a Borel function, since for each q, C_q is Borel, and the supremum over countably many Borel sets is measurable. Then, we need to check that h(f(x)) = g(x). \n\nTake any x. Then, h(f(x)) = sup { q ∈ Q : f(x) ∈ C_q } = sup { q ∈ Q : x ∈ f^{-1}(C_q) } = sup { q ∈ Q : x ∈ { y : g(y) > q } } = sup { q ∈ Q : g(x) > q } = g(x). \n\nBecause the supremum of all rationals less than g(x) is equal to g(x). Hence, h∘f = g. \n\nTherefore, constructing h in this way gives the desired function. Moreover, h is Borel measurable because each C_q is Borel, and the supremum of countably many Borel functions is measurable. \n\nSo, the key steps are: for each rational q, the set {g > q} is in A, hence equals f^{-1}(C_q) for some Borel C_q. Then h(y) is defined as sup{q : y ∈ C_q}, which is Borel. \n\nTherefore, the answer would be to construct h in this way. The user's initial thought was to set h = g∘f^{-1}, but that's not exactly precise because f^{-1} isn't a function unless f is injective. Instead, we need to use the level sets to construct h. \n\nSo the assumptions here are that f is Borel measurable, which makes the sets {f > a} Borel, hence A is contained in the Borel sigma-algebra. However, the problem doesn't require f to be surjective or injective. The key is that g's measurability with respect to A allows us to \"pull back\" its level sets through f, leading to the existence of h.",
    "Original_Problem": "Assumption: \n$f: \\mathbb{R} \\to \\mathbb{R}$ is Borel measurable,\n$\\mathcal{A}$ is the smallest $\\sigma$-algebra containing $\\{x : f(x) > a\\}$ for all $a \\in \\mathbb{R}$,\n$g: \\mathbb{R} \\to \\mathbb{R}$ is $\\mathcal{A}$-measurable.\nProblem: \nProve that there exists a Borel measurable function $h: \\mathbb{R} \\to \\mathbb{R}$ such that $g = h \\circ f$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $f: \\mathbb{R} \\to \\mathbb{R}$ is Borel measurable,\nAssumption 2: $\\mathcal{A}$ is the smallest $\\sigma$-algebra containing $\\{x : f(x) > a\\}$ for all $a \\in \\mathbb{R}$,\nAssumption 3: $g: \\mathbb{R} \\to \\mathbb{R}$ is $\\mathcal{A}$-measurable.\nProblem: \nProve that there exists a Borel measurable function $h: \\mathbb{R} \\to \\mathbb{R}$ such that $g = h \\circ f$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\\mathcal{A} = \\sigma\\{\\{x; f(x)>a\\}; a \\in \\mathbb{R}\\} = \\{f^{-1}(B); B \\in \\mathcal{B}(\\mathbb{R})\\}.$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $f: \\mathbb{R} \\to \\mathbb{R}$ is Borel measurable,\nAssumption 2: $\\mathcal{A}$ is the smallest $\\sigma$-algebra containing $\\{x : f(x) > a\\}$ for all $a \\in \\mathbb{R}$,\nAssumption 3: $g: \\mathbb{R} \\to \\mathbb{R}$ is $\\mathcal{A}$-measurable.\nAssumption 4: $$\\mathcal{A} = \\sigma\\{\\{x; f(x)>a\\}; a \\in \\mathbb{R}\\} = \\{f^{-1}(B); B \\in \\mathcal{B}(\\mathbb{R})\\}.$$\nProblem: \nProve that there exists a Borel measurable function $h: \\mathbb{R} \\to \\mathbb{R}$ such that $g = h \\circ f$."
}