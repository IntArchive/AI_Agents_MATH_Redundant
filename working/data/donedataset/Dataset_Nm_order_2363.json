{
    "Link_API": "https://api.stackexchange.com/2.3/questions/6976",
    "Title": "An integer is an $n$th power if that holds true for all moduli",
    "Score": 14,
    "Category": "Chứng minh",
    "Tags": "number-theory, elementary-number-theory, arithmetic, diophantine-equations",
    "Link": "https://math.stackexchange.com/questions/6976/an-integer-is-an-nth-power-if-that-holds-true-for-all-moduli",
    "Content": "I have not been able to solve this problem. Any insights would be appreciated! Let $x, n > 1$ be integers. Suppose that for each $k > 1$ there exists an integer $a_{k}$ such that $x − a_k^n$ is divisible by $k$ . Prove that $x = A^{n}$ for some integer $A$ .",
    "AcceptedAnswer": "This is an old chestnut: an integer which is an $n$-th power modulo\nall primes is an $n$-th power. There is a sledgehammer proof via the Chebotarev density theorem.\nSuppose for the moment that $n$ is prime.\nConsider $K=\\mathbb{Q}(x^{1/n})$ and its Galois closure\n$L=\\mathbb{Q}(x^{1/n},\\exp(2\\pi i/n))$. Then each prime $p$ that is unramified\nin $L$ splits in $K$ into various prime ideals at least one of which has norm $p$.\nSo its Frobenius has a fixed point on the permutation representation on the\n$n$-th roots of $x$. By Chebotarev, the Galois group $G$ of $L/\\mathbb{Q}$\nhas no element of degree $n$ and so must have a fixed point; that is one\nof the $n$-th roots of $x$ must lie in $\\mathbb{Q}$. I'm sure something similar works for any positive integer $n$, but it's\ntoo late tonight for me to work out the details :-)",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$x$ is an integer greater than 1,\n$n$ is an integer greater than 1,\nFor every integer $k > 1$, there exists an integer $a_k$ such that $x − a_k^n$ is divisible by $k$.\nproblem:\nProve that $x = A^n$ for some integer $A$.\n###END_OF_FORMAT###",
    "reasoning_create_structured_problem": "Okay, let me try to work through this problem. So, the problem states that for integers x and n greater than 1, if for every k > 1 there exists an integer a_k such that x - a_k^n is divisible by k, then we need to prove that x is actually an nth power of some integer A. \n\nFirst, I need to understand the given conditions. The main thing here is that for any modulus k > 1, x is congruent to some nth power modulo k. That is, x ≡ a_k^n mod k for some a_k depending on k. The conclusion is that x itself must be a perfect nth power. \n\nHmm, so the problem is saying that if x looks like an nth power modulo every possible modulus k > 1, then it's actually an nth power globally. That rings a bell. I remember something about the Hasse principle or local-global principles, but I'm not sure if that's directly applicable here. Maybe not, since those usually apply to quadratic forms and equations over the rationals, and this is more of a modular arithmetic problem.\n\nLet me think step by step. Let's start with specific cases. Suppose n=2, so we need to show that if x is a square modulo every k > 1, then x is a perfect square. Wait, is that true? For example, take x=2. Is 2 a square modulo every k? Let's check for some small k. For k=3, squares mod 3 are 0 and 1. 2 mod 3 is 2, which isn't a square. So 2 is not a square mod 3, so x=2 wouldn't satisfy the condition here. So maybe x has to be a square mod every k, which would force x to be a square. \n\nBut how do we formalize this? Maybe using the Chinese Remainder Theorem? If x is a square modulo every prime power, then x is a square. Wait, but the problem allows k to be any integer greater than 1, not necessarily prime powers. But since every k can be factored into prime powers, and if x is a square modulo each prime power, then by the Chinese Remainder theorem, x is a square modulo k for any k. But here the condition is given for all k, so perhaps x is a square modulo every prime power. Then by the Chinese Remainder Theorem, maybe we can reconstruct x as a square. \n\nBut how do we go from being a square modulo all prime powers to being a global square? For example, if x is a square modulo every prime power, then x must be a square. Is that true? Let me consider an example. Suppose x is 16. That's obviously a square. But if x is not a square, say x=17. Is 17 a square modulo every prime power? Let's check modulo 3. 17 mod 3 is 2, which is not a square mod 3. So 17 isn't a square mod 3, hence x=17 wouldn't satisfy the condition here. So maybe only squares can satisfy this condition. \n\nBut the problem is not limited to squares; it's for any nth power. The key idea is that if a number is an nth power modulo every prime power, then it must be an nth power in the integers. This seems similar to the idea that if a number is a square everywhere locally, then it is a square globally. \n\nIn algebraic number theory, there's a local-global principle for certain equations, like quadratic forms, but it doesn't hold universally for all equations. However, in this case, maybe the problem can be approached by considering prime powers. Let me think. \n\nSuppose x is not an nth power. Then there must be some prime p where the exponent of p in x's prime factorization is not a multiple of n. Let’s say x = p^{m} * ... where m is not divisible by n. Then, if we take k = p^{m+1}, we can check if x is an nth power modulo k. Wait, but if x itself has p^m, then modulo p^{m+1}, x would be congruent to p^m * other terms. If x is supposed to be congruent to a_k^n modulo p^{m+1}, then a_k^n must be congruent to x modulo p^{m+1}. \n\nBut if m is not divisible by n, then maybe this leads to a contradiction. Let me elaborate. Suppose x = p^m * y where y is coprime to p and m is not a multiple of n. Let's set k = p^{m+1}. Then, x ≡ 0 mod p^m, but x ≡ p^m * y mod p^{m+1}. For x to be an nth power modulo p^{m+1}, there must exist some a such that a^n ≡ p^m * y mod p^{m+1}. \n\nBut if a is divisible by p, then a^n is divisible by p^n. Since m < n (assuming m is the exponent not divisible by n, but actually m could be any number not divisible by n, so maybe m = qn + r where 0 < r < n). If m < n, then p^n divides a^n, but x is only divisible by p^m, which is less than p^n, so that would be a problem. \n\nAlternatively, if a is not divisible by p, then a^n is coprime to p, but x is divisible by p^m, so unless m=0, which it's not, that would be impossible. So maybe if x has a prime p with exponent m not divisible by n, then taking k = p^{m+1} would lead to a contradiction because x can't be an nth power modulo p^{m+1}. \n\nTherefore, this would imply that all exponents in the prime factorization of x must be multiples of n, so x is an nth power. \n\nBut I need to formalize this argument. Let's suppose that x is not an nth power. Then, there exists at least one prime p such that the exponent of p in x is m, where m is not divisible by n. Let’s write m = n*q + r, where 0 < r < n. Then, consider k = p^{n(q+1)}. Wait, maybe even simpler, take k = p^{m+1}. Then, x = p^m * y where y is coprime to p. \n\nWe need to have x ≡ a_k^n mod p^{m+1}. Suppose a_k is divisible by p^s, but not p^{s+1}. Then, a_k = p^s * b where b is coprime to p. Then, a_k^n = p^{sn} * b^n. \n\nFor a_k^n ≡ x mod p^{m+1}, we need p^{sn} * b^n ≡ p^m * y mod p^{m+1}. Since y is coprime to p, the right-hand side is divisible by p^m but not p^{m+1}. The left-hand side is divisible by p^{sn}. Therefore, we must have sn ≤ m. But if s is the exponent in a_k, then sn ≤ m. But m = n*q + r, so sn ≤ n*q + r. \n\nBut if s ≤ q, then sn ≤ n*q, which is less than m (since m = n*q + r and r > 0). Therefore, the left-hand side would have higher divisibility by p than the right-hand side, which is a contradiction. Therefore, this suggests that such an a_k cannot exist, leading to a contradiction. Therefore, our initial assumption that x is not an nth power is wrong, hence x must be an nth power. \n\nWait, let me check that again. Suppose s is the largest integer such that p^s divides a_k. Then, a_k = p^s * b, so a_k^n = p^{sn} * b^n. For a_k^n ≡ x mod p^{m+1}, we need p^{sn} divides x. But x is p^m * y. So sn ≤ m. Therefore, sn ≤ m. But m is not a multiple of n, so m = n*q + r with 0 < r < n. Therefore, sn ≤ n*q + r. If s ≤ q, then sn ≤ n*q ≤ n*q + r. But then, when we consider the congruence modulo p^{m+1}, we have p^{sn} * b^n ≡ p^m * y mod p^{m+1}. Dividing both sides by p^{sn}, we get b^n ≡ p^{m - sn} * y mod p^{m+1 - sn}. \n\nBut m - sn = n*q + r - sn. If s = q, then sn = n*q, so m - sn = r. Therefore, b^n ≡ p^r * y mod p^{m+1 - n*q}. But since r < n and m+1 - n*q = q*n + r +1 - n*q = r +1. So we have b^n ≡ p^r * y mod p^{r+1}. But the left-hand side is b^n which is coprime to p (since b is coprime to p), and the right-hand side is p^r * y which is divisible by p^r. Since r > 0, this is a contradiction because the left side is coprime to p and the right side is divisible by p. Hence, there's no solution, which contradicts the original assumption that such an a_k exists for k = p^{m+1}. Therefore, our initial assumption that x is not an nth power is false. \n\nTherefore, x must be an nth power. \n\nThis seems like a solid argument. So, the key idea is that if x is not an nth power, then there exists a prime p where the exponent of p in x is not a multiple of n. Then, by choosing k as a sufficiently large power of p, we can create a contradiction because x modulo k would require a_k^n to have a certain divisibility by p that's impossible. Hence, such an a_k can't exist, contradicting the problem's condition. Therefore, x must be an nth power. \n\nAnother way to think about it is using the Chinese Remainder Theorem and the structure of nth powers modulo prime powers. If x is congruent to an nth power modulo every prime power, then by the Chinese Remainder Theorem, x must be an nth power. \n\nAlternatively, maybe Hensel's lemma could be relevant here, as it allows lifting solutions modulo primes to higher powers. But in this case, the problem states that solutions exist for all k, which would include all prime powers, so Hensel's lemma might be used to argue that if x is a nth power modulo all primes, then it's an nth power. \n\nWait, but Hensel's lemma typically applies to lifting solutions from modulo p to p-adic solutions. However, here we already have solutions modulo every prime power, so perhaps it's not necessary. \n\nAnother approach is to consider that the number x must be an nth power in all p-adic integers for every prime p. Since the intersection of Z in the product of all p-adic integers is Z itself, if x is an nth power in every p-adic integers, then it must be an nth power in Z. But I think this might be more advanced than necessary. \n\nBut the problem seems to be solvable with elementary number theory. The key idea is to look at the exponents in the prime factorization of x. If x is not an nth power, then some exponent is not divisible by n, leading to a contradiction by choosing k as a high enough power of that prime. \n\nSo, putting it all together, the problem reduces to showing that for each prime p, the exponent of p in x is divisible by n, which is enforced by the condition that x ≡ a_k^n mod k for all k, particularly when k is a high power of p. \n\nTherefore, the conclusion is that x must be an nth power.",
    "Original_Problem": "Assumption: \n$x$ is an integer greater than 1,\n$n$ is an integer greater than 1,\nFor every integer $k > 1$, there exists an integer $a_k$ such that $x − a_k^n$ is divisible by $k$.\nproblem:\nProve that $x = A^n$ for some integer $A$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $x$ is an integer greater than 1,\nAssumption 2: $n$ is an integer greater than 1,\nAssumption 3: For every integer $k > 1$, there exists an integer $a_k$ such that $x − a_k^n$ is divisible by $k$.\nProblem:\nProve that $x = A^n$ for some integer $A$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$L=\\mathbb{Q}(x^{1/n},\\exp(2\\pi i/n))$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $x$ is an integer greater than 1,\nAssumption 2: $n$ is an integer greater than 1,\nAssumption 3: For every integer $k > 1$, there exists an integer $a_k$ such that $x − a_k^n$ is divisible by $k$.\nAssumption 4: $L=\\mathbb{Q}(x^{1/n},\\exp(2\\pi i/n))$\nProblem:\nProve that $x = A^n$ for some integer $A$."
}