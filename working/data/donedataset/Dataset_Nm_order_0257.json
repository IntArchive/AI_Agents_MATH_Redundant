{
    "Link_API": "https://api.stackexchange.com/2.3/questions/614496",
    "Title": "If $\\lvert\\operatorname{Hom}(H,G_1)\\rvert = \\lvert\\operatorname{Hom}(H,G_2)\\rvert$ for any $H$ then $G_1 \\cong G_2$",
    "Score": 44,
    "Category": "Chứng minh",
    "Tags": "abstract-algebra, group-theory, finite-groups, group-isomorphism",
    "Link": "https://math.stackexchange.com/questions/614496/if-lvert-operatornamehomh-g-1-rvert-lvert-operatornamehomh-g-2-rver",
    "Content": "Let $G_1$ and $G_2$ be two finite groups such that for any finite group $H$, $\\lvert\\operatorname{Hom}(H,G_1)\\rvert = \\lvert\\operatorname{Hom}(H,G_2)\\rvert$. How can I show that $G_1 \\cong G_2$ ?",
    "AcceptedAnswer": "Hint: Using the in-and-out principle (aka \"inclusion and exclusion\"), you can compute the number of injective homomorphisms from a finite group $H$ to a finite group $G$ from the values of $\\lvert\\operatorname{Hom}(H/N,G)\\rvert$ for every normal subgroup $N$ of $H$. Therefore, from your assumption that $\\lvert\\operatorname{Hom}(H,G_1)\\rvert=\\lvert\\operatorname{Hom}(H,G_2)\\rvert$ for every finite group $H$, it follows that every finite $H$ has the same number of injective homomorphisms to $G_1$ as to $G_2$, and in particular, that there is at least one injective homomorphism from $G_1$ to $G_2$ and vice versa, whence it easily follows that $G_1\\cong G_2$. This argument applies to lots of other finite structures besides groups. I believe that it's due to László Lovász and that he discovered it as a high school student. P.S. This has come up several times on Math Stack Exchange and Math Overflow, for example in this answer , which cites L. Lovász, Operations with structures, Acta Math. Acad. Sci. Hungar. 18 (1967) 321-328. P.P.S. I will try to present the argument using the in-and-out principle. (I still think this argument must be due to Lovász, even it it's not the one he gives in the work cited above. Unless the argument is wrong, in which case it must be due to me.) Let $H$ and $G$ be finite groups. Let $H\\setminus\\{1_H\\}=\\{h_1,\\dots,h_n\\}$. For $i\\in[n]=\\{1,\\dots,n\\}$, let $S_i=\\{\\varphi\\in\\text{Hom}(H,G):\\varphi(h_i)=1_G\\}$. For $I\\subseteq[n]$, let $S_I=\\bigcap_{i\\in I}S_i=\\{\\varphi\\in\\text{Hom}(H,G):\\forall i\\in I\\ \\varphi(h_i)=1_G\\}$ if $I\\ne\\emptyset$, and $S_\\emptyset=\\text{Hom}(H,G)$. Then $|S_I|=|\\text{Hom}(H/N_I,G)|$ where $N_I$ is the normal subgroup of $H$ generated by $\\{h_i:i\\in I\\}$. By the in-and-out principle,$$|\\text{Mono}(H,G)|=|\\text{Hom}(H,G)\\setminus\\bigcup_{i\\in[n]}S_i|=\\sum_{I\\subseteq[n]}(-1)^{|I|}|S_I|=\\sum_{I\\subseteq[n]}(-1)^{|I|}|\\text{Hom}(H/N_I,G)|.$$Therefore, if $H,G_1,G_2$ are finite groups, and if $|\\text{Hom}(H/N,G_1)|=|\\text{Hom}(H/N,G_2)|$ for every normal subgroup $N$ of $H$, then $|\\text{Mono}(H,G_1)|=|\\text{Mono}(H,G_2)|$. P.P.P.S. This is not true for infinite groups. If $G_1$ and $G_2$ are nonisomorphic groups such that each is isomorphic to a subgroup of the other, then $|\\text{Hom}(H,G_1)|=|\\text{Hom}(H,G_2)|$ for every (finite or infinite) group $H$, although $G_1\\not\\cong G_2$.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$G_1$ and $G_2$ are finite groups,\nFor every finite group $H$, the cardinality of the set of homomorphisms $\\operatorname{Hom}(H, G_1)$ equals that of $\\operatorname{Hom}(H, G_2)$.\nProblem: \nProve that $G_1 \\cong G_2$.\n###",
    "reasoning_create_structured_problem": "Okay, let's tackle this problem. So, the question is about finite groups G1 and G2 where for any finite group H, the number of homomorphisms from H to G1 is equal to the number from H to G2. And we need to show that G1 is isomorphic to G2. Hmm, interesting. \n\nFirst, I remember that homomorphisms can tell us a lot about the structure of groups. If two groups have the same number of homomorphisms from every H, maybe they have to be structurally the same. But how to formalize that?\n\nWait, maybe we can use some sort of categorical equivalence? Or perhaps representation theory? Hmm. Alternatively, maybe considering specific choices for H can help us deduce the structure of G1 and G2. For example, if we take H to be cyclic groups, the number of homomorphisms relates to the number of elements of certain orders. But the problem states that this holds for any H, not just cyclic ones. \n\nI recall something about the concept of \"group isomorphism via homomorphism counts.\" Maybe there's a theorem that says if the number of homomorphisms from every H into G1 and G2 are the same, then G1 ≅ G2. But how to prove it?\n\nLet me think step by step. Suppose we want to show G1 and G2 have the same order. Since H can be taken as the trivial group, then Hom(trivial, G) has exactly one element. But that's trivial, so maybe take H=G1. Then |Hom(G1, G1)| includes all endomorphisms, including automorphisms and others. But if we set H=G1, then |Hom(G1, G1)| = |Hom(G1, G2)|. Similarly, if we set H=G2, we get |Hom(G2, G1)| = |Hom(G2, G2)|. But I'm not sure how that directly helps.\n\nAlternatively, maybe use the concept of the group algebra or Burnside ring? Wait, the number of homomorphisms from H to G is related to the number of orbits in some action, but I might be mixing concepts here.\n\nAnother approach: For each finite group H, the number of homomorphisms Hom(H, G) can be thought of as a function that characterizes G. If two groups have the same such function, they must be isomorphic. This seems similar to the concept of a generating function or a character table uniquely determining a group. But how to make this precise?\n\nWait, there's a theorem called \"Yoneda's Lemma\" in category theory which says that if two objects have the same morphisms from all other objects, then they are isomorphic. But this is in the context of category theory. Since groups form a category, maybe this applies here. But Yoneda's Lemma usually requires natural isomorphisms of hom-functors, not just equal cardinalities. But since we are dealing with finite groups, maybe the counts being equal for all H would force an isomorphism. But I need to think carefully.\n\nAlternatively, consider taking H to be each of the cyclic groups of prime order. The number of homomorphisms from Z/pZ to G is equal to the number of elements of order dividing p in G. If G1 and G2 have the same number of such elements for every prime p, then they have the same number of elements of each order. But does that imply isomorphism? Not necessarily, but maybe combined with other information.\n\nWait, but the problem states that the number of homomorphisms is the same for every H, not just cyclic ones. So maybe we can reconstruct the group from this information. For example, if we take H to be G1 itself, then Hom(G1, G1) contains at least the automorphisms and the trivial homomorphism, but Hom(G1, G2) would have to have the same number of elements. If G2 is not isomorphic to G1, maybe this count would differ. But I need a more systematic approach.\n\nAnother idea: Use induction on the order of the group. Suppose all groups of smaller order than |G1|=|G2| are determined uniquely by their homomorphism counts. Then, for G1 and G2 of order n, by considering homomorphisms from all possible subgroups, maybe we can show they must be isomorphic. But this feels vague.\n\nAlternatively, think about the regular representation. The number of homomorphisms from H to G is equal to the number of subgroups of G isomorphic to H quotiented by automorphisms, but no, that's not exactly right. Wait, no—homomorphisms can have images of various sizes, not just H itself.\n\nWait, perhaps the number of homomorphisms from H to G can be expressed in terms of the subgroup structure of G. If two groups have the same number of homomorphisms from every H, then they must have the same number of subgroups of each type and the same number of elements of each order. But I need to make this precise.\n\nAlternatively, consider the generating function or the \"zeta function\" of the group, which counts the number of homomorphisms from free groups or other groups. If two groups have the same zeta functions, maybe they are isomorphic. But I'm not sure about the specifics here.\n\nWait, here's another angle. The number of homomorphisms from H to G can be calculated using the structure of H and G. For example, if H is abelian, then the homomorphisms are related to the abelian subgroups of G. But since H can be any group, perhaps this data is enough to reconstruct G via its representations.\n\nAlternatively, use the fact that in the category of finite groups, if two groups G1 and G2 have isomorphic hom-functors (i.e., Hom(-, G1) ≅ Hom(-, G2) as functors), then G1 ≅ G2 by Yoneda's lemma. However, in this problem, we only have that the cardinalities of the hom-sets are equal, not that they are naturally isomorphic. But since all hom-sets are finite and have the same size, maybe this is enough to apply some variation of Yoneda's lemma?\n\nAlternatively, think of the groups as finite objects in a category where the number of morphisms determines the object. For example, in the category of finite sets, if two sets have the same number of morphisms from every other set, they must be isomorphic (since the number of functions from a singleton set would determine the size). Similarly, maybe for groups, even though the structure is more complicated, the hom-counts from all H would determine the group.\n\nTo proceed, let's consider taking specific groups H to extract information about G1 and G2.\n\nFirst, take H to be the trivial group. Then Hom(H, G) has exactly one element for any G, so this doesn't give new information.\n\nNext, take H to be a cyclic group of prime order, say Z/pZ. The number of homomorphisms from Z/pZ to G is equal to the number of elements of order dividing p in G. So if G1 and G2 have the same number of such homomorphisms, they must have the same number of elements of order dividing p. Since this holds for all primes p, G1 and G2 must have the same number of elements of each order. But does having the same number of elements of each order imply isomorphism? No, there are non-isomorphic groups with the same order statistics (e.g., certain groups of order 16). So this alone isn't enough.\n\nBut the problem states that the number of homomorphisms is the same for every H, not just cyclic ones. So maybe considering other H can help distinguish the groups.\n\nFor example, take H to be G1 itself. Then |Hom(G1, G1)| includes all endomorphisms of G1, and similarly |Hom(G1, G2)|. If G2 is not isomorphic to G1, perhaps the number of homomorphisms would differ. For example, if G1 is abelian and G2 is non-abelian, then homomorphisms from a non-abelian H might differ. But I need a concrete approach.\n\nAlternatively, recall that in finite groups, the number of injective homomorphisms from H to G is related to the number of subgroups isomorphic to H and their automorphisms. But homomorphisms in general can have kernels, so the total count is more complicated.\n\nWait, but maybe the hypothesis implies that G1 and G2 have the same number of subgroups of each isomorphism type, and the same number of homomorphisms with any given kernel. But how?\n\nAlternatively, consider the Burnside ring. The Burnside ring of a group G consists of the Grothendieck group of finite G-sets, but I'm not sure if that's directly applicable here.\n\nAnother thought: The problem resembles the concept of \"Grothendieck's reconstruction theorem,\" which states that a finite group can be reconstructed from its category of permutation representations. If two groups have equivalent categories of permutation representations, they are isomorphic. However, having the same number of homomorphisms from every H might be a weaker condition, but perhaps in the finite case, it's sufficient.\n\nAlternatively, use the concept of profinite groups. If two profinite groups have the same number of continuous homomorphisms from every finite group, they are isomorphic. But here we are dealing with finite groups, so maybe it's simpler.\n\nWait, here's a possible approach. For a finite group G, consider the function f_G(H) = |Hom(H, G)|. This function is a class function on the category of finite groups. The problem states that if f_{G1} = f_{G2}, then G1 ≅ G2. To prove this, perhaps we can use induction on the order of G.\n\nBase case: If |G| = 1, trivial.\n\nAssume all groups of order less than n are determined by f_G. Let G1 and G2 have order n. Suppose f_{G1} = f_{G2}. Then, for every H of order less than n, the number of homomorphisms from H to G1 and G2 are the same. By induction hypothesis, the subgroups and quotients of G1 and G2 must match. But how?\n\nAlternatively, take H = G1. Then |Hom(G1, G1)| ≥ |Aut(G1)| + 1 (including non-surjective homomorphisms). Similarly, |Hom(G1, G2)| would be the number of homomorphisms from G1 to G2. If G2 is not isomorphic to G1, can this number be the same as |Hom(G1, G1)|? Maybe not, but I need to check.\n\nFor example, take G1 = C2 and G2 = C3. Then |Hom(C2, C2)| = 2 (identity and trivial), but |Hom(C2, C3)| = 1 (only trivial). So in this case, different groups have different hom counts. But in our problem, the hom counts are the same for all H, so maybe this forces G1 ≅ G2.\n\nAnother example: Let G1 and G2 be non-isomorphic abelian groups of the same order. For instance, C4 vs C2×C2. Let's compute |Hom(H, G1)| and |Hom(H, G2)| for various H.\n\nTake H = C2. Then Hom(C2, C4) has two elements (trivial and x → x^2), while Hom(C2, C2×C2) has three elements (trivial, x → (a,0), x → (0,b), x → (a,b) where a,b in C2). Wait, but C2×C2 has three elements of order 2, so Hom(C2, C2×C2) should be three non-trivial homomorphisms plus the trivial one? Wait, no. Hom(C2, G) is in bijection with the elements of order dividing 2 in G. For C4, elements of order dividing 2 are {1, x^2}, so two elements. For C2×C2, all elements have order dividing 2, so four elements. Thus |Hom(C2, C4)| = 2, |Hom(C2, C2×C2)| = 4. So different. Hence, if G1 and G2 are non-isomorphic, there exists some H where |Hom(H, G1)| ≠ |Hom(H, G2)|. Hence, if they have the same for all H, they must be isomorphic.\n\nBut this is an example. How to make it general?\n\nSo, perhaps the strategy is to show that if G1 and G2 are non-isomorphic, there exists some H where |Hom(H, G1)| ≠ |Hom(H, G2)|. Which would prove the contrapositive.\n\nTo do this, we can construct such an H. For example, take H = G1. Then |Hom(G1, G1)| ≥ |Aut(G1)| + ... (other homomorphisms). If G1 is not isomorphic to G2, then |Hom(G1, G2)| would not be equal to |Hom(G1, G1)|. But is this necessarily true?\n\nTake G1 = C2, G2 = C3. Then |Hom(C2, C2)| = 2, |Hom(C2, C3)| = 1. So yes, different.\n\nTake G1 = C4, G2 = C2×C2. Then |Hom(C4, C4)| = 2 (trivial and identity?), wait no: Hom(C4, C4) includes all endomorphisms. C4 is cyclic, so endomorphisms are determined by where the generator is sent. The generator can be sent to any element of order dividing 4. So 1, x, x^2, x^3. So four endomorphisms. Hence |Hom(C4, C4)| = 4. Now |Hom(C4, C2×C2)|: since C2×C2 has exponent 2, any homomorphism from C4 must send the generator to an element of order dividing 2. There are four such elements in C2×C2. So |Hom(C4, C2×C2)| = 4. Hmm, so here the counts are equal even though the groups are non-isomorphic. So this approach fails.\n\nWait, but in this case, perhaps there exists another H where the counts differ. For example, take H = C2. As before, |Hom(C2, C4)| = 2, |Hom(C2, C2×C2)| = 4. So here, they differ. Hence, even though for H=C4 the counts are the same, for H=C2 they differ. Hence, if two groups have the same hom counts for all H, they must be isomorphic.\n\nTherefore, the general proof would be: Assume G1 and G2 are finite groups such that for every finite group H, |Hom(H, G1)| = |Hom(H, G2)|. Suppose for contradiction G1 ≇ G2. Then there exists some H (like H=G1 or H= minimal order where their hom counts differ) such that |Hom(H, G1)| ≠ |Hom(H, G2)|, contradicting the assumption. Hence G1 ≅ G2.\n\nBut to formalize this, we need to show that if G1 ≇ G2, there exists at least one H where the hom counts differ. To do this, we can use induction on the order of the groups.\n\nBase case: order 1. Trivial.\n\nAssume all groups of order less than n are determined by their hom counts. Let G1 and G2 be groups of order n. Suppose G1 ≇ G2. Then, there exists some property that distinguishes them, such as their lattice of subgroups, number of elements of a certain order, etc. If we can find an H that detects this difference via hom counts, we're done.\n\nFor example, consider H=G1. If |Hom(G1, G1)| ≠ |Hom(G1, G2)|, then we're done. Otherwise, if they are equal, then maybe G1 is isomorphic to G2? Not necessarily, as the C4 vs C2×C2 example shows. For C4, |Hom(C4, C4)| = 4, |Hom(C4, C2×C2)| = 4. But in that case, there exists another H (like C2) where the counts differ.\n\nHence, the key is that if G1 ≇ G2, then there must exist some H where the number of homomorphisms differs. Therefore, by contrapositive, if all hom counts are the same, then G1 ≅ G2.\n\nTo make this rigorous, one might use the concept of the table of marks or the Burnside ring, where the number of homomorphisms from each H to G can be used to reconstruct G. In finite group theory, it's a known result that the homomorphism counts determine the group up to isomorphism.\n\nAlternatively, another approach is to note that the number of homomorphisms from H to G can be related to the number of subgroups of G and their automorphism groups. But I think the critical point is that the function f_G(H) = |Hom(H, G)| is a complete invariant for finite groups G. This is likely a theorem in group theory, though I'm not sure of the exact reference.\n\nIn conclusion, by leveraging the fact that if two groups have identical homomorphism counts from every possible finite group H, they must be isomorphic, we can conclude G1 ≅ G2. This likely follows from a more general principle in category theory or finite group theory, where such complete invariants are sufficient to determine the group structure.",
    "Original_Problem": "Assumption: \n$G_1$ and $G_2$ are finite groups,\nFor every finite group $H$, the cardinality of the set of homomorphisms $\\operatorname{Hom}(H, G_1)$ equals that of $\\operatorname{Hom}(H, G_2)$.\nProblem: \nProve that $G_1 \\cong G_2$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $G_1$ and $G_2$ are finite groups,\nAssumption 2: For every finite group $H$, the cardinality of the set of homomorphisms $\\operatorname{Hom}(H, G_1)$ equals that of $\\operatorname{Hom}(H, G_2)$.\nProblem: \nProve that $G_1 \\cong G_2$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$|\\text{Mono}(H,G)|=|\\text{Hom}(H,G)\\setminus\\bigcup_{i\\in[n]}S_i|=\\sum_{I\\subseteq[n]}(-1)^{|I|}|S_I|=\\sum_{I\\subseteq[n]}(-1)^{|I|}|\\text{Hom}(H/N_I,G)|.$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $G_1$ and $G_2$ are finite groups,\nAssumption 2: For every finite group $H$, the cardinality of the set of homomorphisms $\\operatorname{Hom}(H, G_1)$ equals that of $\\operatorname{Hom}(H, G_2)$.\nAssumption 3: $$|\\text{Mono}(H,G)|=|\\text{Hom}(H,G)\\setminus\\bigcup_{i\\in[n]}S_i|=\\sum_{I\\subseteq[n]}(-1)^{|I|}|S_I|=\\sum_{I\\subseteq[n]}(-1)^{|I|}|\\text{Hom}(H/N_I,G)|.$$\nProblem: \nProve that $G_1 \\cong G_2$."
}