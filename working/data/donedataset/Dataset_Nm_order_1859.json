{
    "Link_API": "https://api.stackexchange.com/2.3/questions/550256",
    "Title": "Stirling numbers of second type",
    "Score": 17,
    "Category": "Chá»©ng minh",
    "Tags": "combinatorics, stirling-numbers",
    "Link": "https://math.stackexchange.com/questions/550256/stirling-numbers-of-second-type",
    "Content": "How can I do a combinatoric proof that for Stirling number of second type the equality if true:\n$${n\\brace k} = \\frac{1}{k!}\\sum_{i=0}^{k}{k \\choose i}i^n(-1)^{k-i}$$",
    "AcceptedAnswer": "I will denote ${n \\brace k}$ as $S(n,k)$ for simplicity. To prove this, we will count the number, $N$, of onto functions $f$ from the set $S_1 = \\{1, 2, \\cdots, n\\}$ to $S_2 = \\{ 1, 2, \\cdots, k \\}$ in two ways. First count. We will express this in terms of $S(n,k)$.  To do so, we partition $S_1$ into $k$ disjoint parts $P_i$ and let $f(x) = i$ for all $x \\in P_i$.  By definition, this can be done in $S(n,k)$ ways.  But we can permute the $k$ partitions $P_i$, which gives us the following result:\n$$\nN = k! \\cdot S(n,k)\n$$ Second count. To count this another way, we will employ the principle of inclusion-exclusion , which states the following. Principle of inclusion-exclusion. Let $\\{S_j : 1 \\leq j \\leq n \\}$ be a collection of sets.  Then\n$$\n\\left | \\bigcup_{j = 1}^{n} S_j \\right | = \\sum_{k = 1}^{n} \\left [ (-1)^{k+1} \\left ( \\sum_{1 \\leq j_1 < \\cdots < j_k \\leq n} | S_{j1} \\cap \\cdots \\cap S_{jk} | \\right ) \\right ]\n$$ Let $X$ be the set of all functions $f: S_1 \\to S_2$.  Then it is clear that $|X| = k^n$, since for each of the $n$ elements in $S_1$, we have $k$ choices.  Now, for each $j$ such that $1 \\leq j \\leq k$, let \n$$\nX_j = \\{ f: S_1 \\to S_2 \\text{ such that } f \\text{ does not have } j \\text{ in its range }\\}.\n$$ \nSince we want to count $N$, the number of onto functions (that is, functions with all elements of $S_2$ in their ranges), \n$$ \nN = \\left | \\bigcap_{j = 1}^{k} (X - X_j) \\right | = \\left | X - \\bigcup_{j = 1}^{k} X_j \\right | = k^n - \\left | \\bigcup_{j = 1}^{k} X_j \\right |\n$$\nBy an argument similar to before, we have $|X_j| = (k-1)^n$ and\n$$\n\\sum_{1 \\leq i_1 < \\cdots < i_j \\leq k} |X_{i_1} \\cap X_{i_2} \\cap \\cdots \\cap X_{i_j} |= \\binom{k}{j} (k-j)^n.\n$$\nFinally, by the principle of inclusion exclusion, we have\n$$\nN = k^n - \\left ( \\sum_{j = 1}^{k} (-1)^{j+1} \\binom{k}{j} (k-j)^n \\right )\n$$\n$$\n= \\sum_{j = 0}^{k} (-1)^j \\binom{k}{j} (k-j)^n\n$$ Finally, equating our two expressions for $N$, we obtain\n$$\nk! \\cdot S(n,k) = \\sum_{j = 0}^{k} (-1)^j \\binom{k}{j} (k-j)^n\n$$\nwhich is equivalent to \n$$\n\\boxed{\\displaystyle S(n,k) = \\frac{1}{k!} \\sum_{j = 0}^{k} (-1)^j \\binom{k}{j} (k-j)^n}.\n$$",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$n$ and $k$ are non-negative integers,\n${n \\brace k}$ represents the Stirling number of the second kind (i.e., the number of ways to partition a set of $n$ elements into $k$ non-empty, unlabeled subsets),\nThe problem involves a combinatorial identity.\nProblem: \nProve that $${n\\brace k} = \\frac{1}{k!}\\sum_{i=0}^{k}{k \\choose i}i^n(-1)^{k-i}$$ using a combinatorial argument.\n###",
    "reasoning_create_structured_problem": "Okay, let me try to work through this problem. The user wants a combinatoric proof of the formula for Stirling numbers of the second kind: \n\n$${n\\brace k} = \\frac{1}{k!}\\sum_{i=0}^{k}{k \\choose i}i^n(-1)^{k-i}.$$\n\nFirst, I need to recall what Stirling numbers of the second kind represent. They count the number of ways to partition a set of n elements into k non-empty, unlabeled subsets. So, the left-hand side of the equation, ${n \\brace k}$, is that count.\n\nThe right-hand side is a summation involving binomial coefficients, powers of i, and alternating signs. This makes me think of inclusion-exclusion principles, which often have such alternating sums. Maybe the idea is to count the number of onto functions from the n-element set to a k-element set and then adjust for overcounting.\n\nWait, another approach: when dealing with labeled partitions, each partition into k subsets can be labeled in k! ways, so perhaps the formula relates labeled and unlabeled counts. Let me think.\n\nAlternatively, the formula resembles the expansion from the principle of inclusion-exclusion. Let's consider the total number of ways to assign n elements into k labeled subsets, allowing empty subsets, and then subtract the cases where at least one subset is empty, add back cases where two are empty, etc. \n\nThe total number of functions from n elements to k labeled subsets is k^n. But this includes all possible functions, including those that don't cover all k subsets. To get the number of onto functions (each subset is non-empty), we can use inclusion-exclusion. The formula for the number of onto functions is indeed:\n\n$$\\sum_{i=0}^{k} (-1)^{k-i} {k \\choose i} i^n.$$\n\nBut then, since the Stirling numbers count the unlabeled partitions, we need to divide by k! to account for the labeling. That would give:\n\n$${n \\brace k} = \\frac{1}{k!} \\sum_{i=0}^{k} (-1)^{k-i} {k \\choose i} i^n.$$\n\nYes, that seems to align with the formula given. So the combinatorial proof would involve starting with all possible labeled partitions (including empty subsets), applying inclusion-exclusion to subtract the cases with empty subsets, and then dividing by k! to remove the labeling.\n\nLet me verify this step-by-step. Start with k labeled boxes. The total number of ways to put n distinguishable objects into these boxes is k^n. Now, subtract the number of ways where at least one box is empty. Using inclusion-exclusion, subtract the cases where one specific box is empty, but then we've subtracted too much when two boxes are empty, so we add those back, etc. The inclusion-exclusion formula for exactly the number of onto functions is the sum given. Then, since Stirling numbers don't care about the order of the boxes, we divide by k! to get the unlabeled count. That makes sense.\n\nAnother way to think about it: each partition into k non-empty subsets can be ordered in k! ways as labeled boxes. So the number of labeled onto functions is k! multiplied by the Stirling number. Therefore, the formula for the Stirling number is the number of onto labeled functions divided by k!.\n\nSo putting it all together, the combinatorial proof uses inclusion-exclusion to count the number of onto functions and then divides by k! to get the unlabeled partitions, which are counted by the Stirling numbers of the second kind. That should be the proof.",
    "Original_Problem": "Assumption: \n$n$ and $k$ are non-negative integers,\n${n \\brace k}$ represents the Stirling number of the second kind (i.e., the number of ways to partition a set of $n$ elements into $k$ non-empty, unlabeled subsets),\nThe problem involves a combinatorial identity.\nProblem: \nProve that $${n\\brace k} = \\frac{1}{k!}\\sum_{i=0}^{k}{k \\choose i}i^n(-1)^{k-i}$$ using a combinatorial argument.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $n$ and $k$ are non-negative integers,\nAssumption 2: ${n \\brace k}$ represents the Stirling number of the second kind (i.e., the number of ways to partition a set of $n$ elements into $k$ non-empty, unlabeled subsets),\nAssumption 3: The problem involves a combinatorial identity.\nProblem: \nProve that $${n\\brace k} = \\frac{1}{k!}\\sum_{i=0}^{k}{k \\choose i}i^n(-1)^{k-i}$$ using a combinatorial argument.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\nk! \\cdot S(n,k) = \\sum_{j = 0}^{k} (-1)^j \\binom{k}{j} (k-j)^n\n$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $n$ and $k$ are non-negative integers,\nAssumption 2: ${n \\brace k}$ represents the Stirling number of the second kind (i.e., the number of ways to partition a set of $n$ elements into $k$ non-empty, unlabeled subsets),\nAssumption 3: The problem involves a combinatorial identity.\nAssumption 4: $$\nk! \\cdot S(n,k) = \\sum_{j = 0}^{k} (-1)^j \\binom{k}{j} (k-j)^n\n$$\nProblem: \nProve that $${n\\brace k} = \\frac{1}{k!}\\sum_{i=0}^{k}{k \\choose i}i^n(-1)^{k-i}$$ using a combinatorial argument."
}