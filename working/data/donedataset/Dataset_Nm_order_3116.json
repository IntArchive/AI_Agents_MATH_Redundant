{
    "Link_API": "https://api.stackexchange.com/2.3/questions/253860",
    "Title": "The pebble sequence (Bulgarian solitaire)",
    "Score": 12,
    "Category": "Chứng minh",
    "Tags": "combinatorics",
    "Link": "https://math.stackexchange.com/questions/253860/the-pebble-sequence-bulgarian-solitaire",
    "Content": "Let we have $n\\cdot(n+1)/2$ stones grouped by piles. We can pick up 1 stone from each pile and put them as a new pile. Show that after doing it some times we will get the following piles: $1, 2, \\ldots n$ stones. Example: $n = 3$ Let we have 2 piles with 3 stones of each. $$3 3 \\to 2 2 2 \\to 1 1 1 3 \\to  2 4 \\to 1 3 2$$",
    "AcceptedAnswer": "This was originally proved by Jørgen Brandt in Cycles of Partitions , Proceedings of the American Mathematical Society, Vol. 85, No. 3 (Jul., 1982), pp. 483-486, which is freely available here . The proof of this result covers the first page and a half and is pretty terse. First note that there are only finitely many possible sets of pile sizes, so at some point a position must repeat a previous position. Say that $P_{m+p}=P_m$ for some $p>0$ , where $P_n$ is the $n$ -th position (set of pile sizes) in the game. It’s not hard to see that the game will then cycle through the positions $P_{m+k}$ , $k=0,\\dots,p-1$ , repeatedly. The proof consists in showing that when there are $\\frac12n(n+1)$ pebbles, the only possible cycle is the one of length one from $\\{1,2,\\dots,n\\}$ to $\\{1,2,\\dots,n\\}$ . Brian Hopkins, 30 Years of Bulgarian Solitaire , The College Mathematics Journal, Vol. 43, No. 2, March 2012, pp. 135-140, has references to other published proofs; one appears to be to a less accessible version of the paper Karatsuba Solitaire (Therese A. Hart, Gabriel Khan, Mizan R. Khan) that MJD found at arXiv.org. Added: And having now read the Hart, Khan, & Khan paper, I agree with MJD: the argument is quite simple, and it’s presented very well. Added 28 April 2023: The final published version of the Hart, Khan, & Khan paper is now available at arXiv . Vesselin Drensky, The Bulgarian solitaire and the mathematics around it , is also of interest and is also available at arXiv .",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \nn is a positive integer,\nThe total number of stones is $n(n+1)/2$,\nEach operation removes one stone from each pile and creates a new pile with the removed stones.\nProblem:\nShow that after performing the operation repeatedly, the configuration of piles becomes $1, 2, \\ldots, n$.\n###END_OF_FORMAT###",
    "reasoning_create_structured_problem": "Okay, let me try to work through this problem step by step. The problem is about the pebble sequence, also known as Bulgarian solitaire. The goal is to show that starting with a certain number of piles of stones, where the total number of stones is n(n+1)/2, if we repeatedly take one stone from each pile and form a new pile with those stones, eventually we will reach the configuration where the piles have 1, 2, ..., n stones. \n\nFirst, let me restate the problem to make sure I understand it. We have a total number of stones equal to n(n+1)/2, which is the sum of the first n natural numbers. That's the triangular number. So, for example, if n=3, the total stones are 6. The operation we perform is taking one stone from each existing pile and putting them into a new pile. So each time we do this, the number of piles changes. The claim is that no matter what initial configuration we start with (as long as the total number of stones is n(n+1)/2), after some number of iterations, we will end up with piles of sizes 1, 2, ..., n.\n\nLooking at the example given: n=3. They start with two piles of 3 stones each. Let's track the steps:\n\n1. 3 3 → take one from each pile (2 and 2 left), and add a new pile of 2 (since we took 2 stones). So the next state is 2 2 2.\n2. Then, take one from each of the three piles, leaving 1 1 1, and add a new pile of 3. So now we have 1 1 1 3.\n3. Next, take one from each of the four piles, leaving 0 0 0 2 (but we discard empty piles), so we have 2 stones. Then add a new pile of 4? Wait, no. Wait, the total number of stones is 6, right? Let me check. Wait, original total is 6. After first step: 2+2+2=6. Then 1+1+1+3=6. Then taking one from each of the four piles: 1 from each pile (total taken 4), so new pile is 4. The old piles become 0,0,0,2. But we remove the empty ones, so just 2 and 4. Wait, 2 + 4 = 6. Then next step: take one from each pile (2 and 4). So take 1 from each, leaving 1 and 3. Then add a new pile of 2 (since we took two stones). So we get 1, 3, 2. Which is 1+2+3=6. And that's the desired configuration: 1, 2, 3. So after a few steps, they reach it.\n\nSo the question is to show that this always happens, regardless of the starting configuration, as long as the total number of stones is n(n+1)/2.\n\nNow, I need to structure this problem according to the specified format. Let me recall the example provided. The original problem had an assumption that n is an integer and divisible by 7, but in the problem statement here, I need to list all assumptions. Let me check the problem again.\n\nThe problem states: \"Let we have n(n+1)/2 stones grouped by piles. We can pick up 1 stone from each pile and put them as a new pile. Show that after doing it some times we will get the following piles: 1, 2, ..., n stones.\"\n\nSo the key assumptions here are:\n\n1. The total number of stones is n(n+1)/2. So that's the sum from 1 to n, which is the triangular number. So that's one assumption about the total number of stones.\n\n2. The operation is defined as taking 1 stone from each existing pile and forming a new pile with those stones. So each iteration, the number of piles changes. For example, if you have k piles, you take k stones (1 from each), remove 1 from each of the k piles, which may cause some piles to disappear (if they had exactly 1 stone), and then add a new pile of k stones.\n\n3. The problem is to show that regardless of the initial configuration (as long as the total is correct), after some iterations, you reach the configuration with piles of sizes 1, 2, ..., n.\n\nWait, but does the problem specify that the initial configuration is any possible configuration with that total? Or is there more structure? The example starts with two piles of 3 stones each, which is different from the target configuration. So the assumption is that the initial configuration can be any partition of n(n+1)/2 into some number of piles, each with at least 1 stone.\n\nTherefore, the assumptions are:\n\n- The total number of stones is n(n+1)/2.\n\n- The initial configuration is any set of piles (i.e., a partition of n(n+1)/2 into positive integers).\n\n- The operation is: remove 1 stone from each pile, discard piles that become empty, and add a new pile with the number of stones equal to the number of piles removed from.\n\nThe problem is to show that after some number of operations, the configuration becomes 1, 2, ..., n.\n\nWait, but the problem statement in the user's example didn't include all these as separate assumptions. For instance, in the previous example, the assumptions were that n is an integer and divisible by 7. So here, perhaps the key assumptions are:\n\n- The total number of stones is n(n+1)/2.\n\n- The operation is defined as removing one stone from each pile and forming a new pile.\n\nBut the problem statement doesn't specify any restrictions on n, except that n must be such that the total number of stones is n(n+1)/2, which is a triangular number. So n is a positive integer.\n\nBut the problem is to show that regardless of the initial partition, after some iterations, you reach the partition 1, 2, ..., n. So the assumptions would be:\n\n1. The total number of stones is n(n+1)/2.\n\n2. Each operation consists of removing one stone from each existing pile and forming a new pile from the removed stones.\n\nSo each assumption addresses one property or condition applied to one object. The problem is to show that after some iterations, the configuration becomes 1, 2, ..., n.\n\nWait, but in the original problem, the example had an assumption that n is divisible by 7. Here, the problem doesn't state any such condition on n. So maybe the assumptions are:\n\n- n is a positive integer.\n\n- The total number of stones is n(n+1)/2.\n\n- The operation is defined as removing 1 stone from each pile and creating a new pile with those stones.\n\nBut maybe the problem doesn't require n to have any specific divisibility, just that it's an integer. However, the example given uses n=3, which is a positive integer, so n must be at least 1.\n\nTherefore, the assumptions would be:\n\n- n is a positive integer.\n\n- The total number of stones is n(n+1)/2.\n\n- Each operation consists of removing one stone from each pile and forming a new pile.\n\nThen the problem is to show that after some number of operations, the piles will be 1, 2, ..., n.\n\nWait, but in the example provided by the user, they structured the assumptions as:\n\nFor the original problem about A(n) divisible by 91, the assumptions were:\n\n- n is an integer.\n\n- n is divisible by 7.\n\nBut in the problem statement here, there's no such restriction on n. It just says \"for every integer n\". But in the formatted problem, the user added an assumption that n is divisible by 7. Wait, no, looking back:\n\nOriginal problem was to prove that for every integer n, A(n) is divisible by 91. Then in the formatted problem, the assumption was that n is an integer and divisible by 7. Wait, but the original problem says \"for every integer n\", which would include all integers. However, in the formatted problem, the assistant listed two assumptions: n is an integer, and n is divisible by 7. But that's incorrect because the original problem says \"for every integer n\", not just those divisible by 7. However, the correct answer probably requires that 91 divides A(n), and 91=13*7, so maybe the problem actually had a condition that n is divisible by 7, but the original problem statement may have had a typo or the user made a mistake. But regardless, in the example given by the user, they structured the problem by adding an assumption that n is divisible by 7, even though the original problem didn't state that. So perhaps in this case, the user is expecting to extract assumptions from the problem statement, even if they are implicit.\n\nBut in the current problem about Bulgarian solitaire, the problem states \"Let we have n(n+1)/2 stones grouped by piles...\" So the total number of stones is fixed as the triangular number, and n is a positive integer (since triangular numbers are defined for positive integers). The operation is defined as taking 1 from each pile and making a new pile. The problem is to show that eventually, you reach 1,2,...n.\n\nSo the assumptions would be:\n\n- The total number of stones is n(n+1)/2.\n\n- n is a positive integer.\n\n- Each operation consists of removing one stone from each pile and forming a new pile with those stones.\n\nBut the problem statement doesn't explicitly mention that n is a positive integer, but since n(n+1)/2 must be the number of stones, n must be a positive integer. So that's an implicit assumption.\n\nAlternatively, maybe the key assumptions are:\n\n- The number of stones is a triangular number, i.e., there exists an integer n ≥ 1 such that the total number of stones is n(n+1)/2.\n\n- Each operation is as defined: remove one stone from each pile, discard empty piles, add a new pile with the number of stones equal to the number of piles removed.\n\nThe problem is to show that starting from any configuration with n(n+1)/2 stones, after some iterations, the configuration becomes 1, 2, ..., n.\n\nTherefore, structuring the problem according to the format:\n\nAssumption: Each assumption line by line.\n\nProblem: The problem statement.\n\nSo:\n\nAssumption:\n\n- The total number of stones is n(n+1)/2.\n\n- n is a positive integer.\n\n- Each operation consists of removing one stone from each pile and creating a new pile with the removed stones.\n\nProblem:\n\nShow that after performing the operation some times, the piles will be 1, 2, ..., n.\n\nBut in the example given by the user, the assumptions were listed as two separate lines: \"$n$ is an integer\" and \"$n$ is divisible by 7\". So each assumption is one line, each addressing one property applied to one object.\n\nIn this case, the assumptions would be:\n\nAssumption:\n\nThe total number of stones is n(n+1)/2.\n\nn is a positive integer.\n\nEach operation removes one stone from each pile and creates a new pile with the removed stones.\n\nBut the problem statement in the user's example didn't list all the operations as assumptions, but perhaps only the conditions on the objects. Wait, in the example, the original problem was to prove that A(n) is divisible by 91 for every integer n. The formatted problem had assumptions that n is an integer and n is divisible by 7. But that seems incorrect because the original problem didn't restrict n to being divisible by 7. So maybe there was a mistake there. However, for the current problem, we need to extract the assumptions from the problem as stated.\n\nThe problem says \"Let we have n(n+1)/2 stones grouped by piles. We can pick up 1 stone from each pile and put them as a new pile. Show that after doing it some times we will get the following piles: 1, 2, ..., n stones.\"\n\nSo the explicit assumptions are:\n\n1. The total number of stones is n(n+1)/2.\n\n2. The operation is to take 1 stone from each pile and make a new pile.\n\nThe problem is to show that the configuration becomes 1, 2, ..., n after some steps.\n\nBut n is a positive integer because the triangular number is defined for positive integers. So that's an implicit assumption. Therefore, the assumptions should include:\n\n- n is a positive integer.\n\n- The total number of stones is n(n+1)/2.\n\n- Each operation consists of removing one stone from each pile and forming a new pile with those stones.\n\nEach of these is a separate assumption. So:\n\nAssumption:\n\nn is a positive integer,\n\nThe total number of stones is n(n+1)/2,\n\nEach operation removes one stone from each pile and creates a new pile with the removed stones.\n\nProblem:\n\nShow that after performing the operation some times, the piles will be 1, 2, ..., n.\n\nYes, that seems to fit the required format. Each assumption is a single line, addressing one property or condition. The problem is stated clearly.",
    "Original_Problem": "Assumption: \nn is a positive integer,\nThe total number of stones is $n(n+1)/2$,\nEach operation removes one stone from each pile and creates a new pile with the removed stones.\nProblem:\nShow that after performing the operation repeatedly, the configuration of piles becomes $1, 2, \\ldots, n$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: n is a positive integer,\nAssumption 2: The total number of stones is $n(n+1)/2$,\nAssumption 3: Each operation removes one stone from each pile and creates a new pile with the removed stones.\nProblem:\nShow that after performing the operation repeatedly, the configuration of piles becomes $1, 2, \\ldots, n$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$k=0,\\dots,p-1$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: n is a positive integer,\nAssumption 2: The total number of stones is $n(n+1)/2$,\nAssumption 3: Each operation removes one stone from each pile and creates a new pile with the removed stones.\nAssumption 4: $k=0,\\dots,p-1$\nProblem:\nShow that after performing the operation repeatedly, the configuration of piles becomes $1, 2, \\ldots, n$."
}