{
    "Link_API": "https://api.stackexchange.com/2.3/questions/338275",
    "Title": "Proof of $\\int_{[0,\\infty)}pt^{p-1}\\mu(\\{x:|f(x)|\\geq t\\})d\\mu(t)=\\int_{[0,\\infty)}\\mu(\\{x:|f(x)|^p\\geq s\\})d\\mu(s)$",
    "Score": 12,
    "Category": "Chứng minh",
    "Tags": "real-analysis, integration, measure-theory",
    "Link": "https://math.stackexchange.com/questions/338275/proof-of-int-0-inftyptp-1-mu-xfx-geq-t-d-mut-int-0-inft",
    "Content": "Let $({\\Bbb R},{\\mathcal A},\\mu)$ be the measure space where ${\\mu}$ is the Lebesgue measure.  Assume that $\\int_{\\Bbb R}|f|^pd\\mu<\\infty$ ($p\\geq1$). There is an exercise for proving that $$\\int_{[0,\\infty)}pt^{p-1}\\mu(\\{x:|f(x)|\\geq t\\})d\\mu(t)=\\int_{[0,\\infty)}\\mu(\\{x:|f(x)|^p\\geq s\\})d\\mu(s).$$ If one formally let $s=t^p$, then $ds=pt^{p-1}dt$ and one would immediately get the equality above. However, how can I justify it rigorously in the sense of Lebesgue integration? [Edited]\nWhat puzzles me is that I have the \"change of variable\" theorem for Riemann integration, but all the integrations here are in the Lebesgue sense. Unless one has shown that the integrands are also Riemann integrable, how can I directly use \"change of variable\"?",
    "AcceptedAnswer": "This ugly stated homework exercise (as @Did pointed out in his answer regarding the misleading notations) could be restated as follows. Consider a measure space $(X,\\mathcal{A},\\mu)$ with $\\mu$ being $\\sigma$-finite. Suppose $f\\in L^p$ for some $1\\leq p<\\infty$. Then we have\n  $$\n\\int_0^\\infty pt^{p-1}\\mu(|f|\\geq t )\\ dt=\\int_0^\\infty\\mu ( |f|^p\\geq s)\\ ds.\\tag{*}\n$$ I was so obsessed with the change of variable formula in the setting of abstract measure spaces (see for instance Exercise 36 in this real analysis note by Tao) that I wanted to calculate the pushforward directly, which is not needed for this problem. The following is essentially elaborating @Did's answer, in which I didn't understand how to get the second formula. Note that the identity $(*)$ is equivalent to\n$$\n\\int_0^\\infty\\left(\\int_Xpt^{p-1}1_{|f|\\geq t}\\ d\\mu\\right)\\ dt\n=\\int_0^\\infty\\left(\\int_X1_{|f|^p\\geq s}\\ d\\mu\\right)\\ ds.\n$$\nBy Tonelli's theorem for non-negative functions , it suffices to show that\n$$\n\\int_X\\left(\\int_0^\\infty pt^{p-1}1_{|f|\\geq t}\\ dt\\right)\\ d\\mu\n=\\int_X\\left(\\int_0^\\infty 1_{|f|^p\\geq s}\\ ds\\right)\\ d\\mu.\n$$\nBut\n$$\n\\int_0^\\infty pt^{p-1}1_{|f|\\geq t}\\ dt=\\int_0^{|f|}pt^{p-t}\\ dt,\\quad\n\\int_0^\\infty 1_{|f|^p\\geq s}\\ ds=\\int_0^{|f|^p}\\ ds\n$$ By the fundamental theorem of calculus, both are equal to $|f|^p$. QED. One should note that the function $\\mu(f>t):=\\mu\\{x\\in X:f(x)>t\\}$ is called the distribution function of $f$, which is clearly a monotonic (nonincreasing) function of $t$ and is therefore Borel measurable. See Rudin's Real and Complex Analysis (8.15) for a generalization of $(*)$ and also a related trick for controlling integrals at http://www.tricki.org/article/Control_level_sets .",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$({\\Bbb R},{\\mathcal A},\\mu)$ is a measure space with $\\mu$ being the Lebesgue measure,\n$f$ is a measurable function on this measure space,\n$\\int_{\\Bbb R}|f|^p d\\mu < \\infty$ where $p \\geq 1$.\nProblem: \nProve that  \n$$\\int_{[0,\\infty)}pt^{p-1}\\mu(\\{x:|f(x)|\\geq t\\})d\\mu(t)=\\int_{[0,\\infty)}\\mu(\\{x:|f(x)|^p\\geq s\\})d\\mu(s)$$  \nrigorously using Lebesgue integration theory.\n###",
    "reasoning_create_structured_problem": "Okay, let me try to tackle this problem. The user wants to prove that the two integrals involving the measure of the sets where |f(x)| is greater than or equal to certain thresholds are equal. The key seems to be changing variables from s to t^p, but they want it justified rigorously in Lebesgue integration terms. \n\nFirst, I need to parse the original problem. The given equation is:\n\n∫₀^∞ p t^{p-1} μ({x : |f(x)| ≥ t}) dμ(t) = ∫₀^∞ μ({x : |f(x)|^p ≥ s}) dμ(s)\n\nThe user mentions using substitution s = t^p, which leads to ds = p t^{p-1} dt. But in Lebesgue integration, we can't just assume Riemann substitution works. So, how to justify this?\n\nIn Lebesgue integration, there's a change of variables formula, but it's more general. It relates to the pushforward measure. If we have a measurable function φ, then ∫ g(φ(t)) dμ(t) = ∫ g(s) d(φ_*μ)(s), where φ_*μ is the pushforward measure. But here, we have a substitution s = t^p. So, perhaps we can use the theorem that if φ is a diffeomorphism (smooth with smooth inverse), then the pushforward measure can be related to the density via the derivative. But in one dimension, for a smooth substitution, the change of variables formula for Lebesgue integral should hold, similar to Riemann, as long as the substitution is absolutely continuous, maybe?\n\nAlternatively, maybe we can use the Layer Cake representation. The right-hand side looks like the integral of the measure of the set where |f|^p ≥ s, which is similar to the Layer Cake formula for ∫ |f|^p dμ = ∫₀^∞ μ({|f|^p ≥ s}) ds. Similarly, the left-hand side involves integrating pt^{p-1} times μ({|f| ≥ t}) dt. Maybe if we substitute s = t^p, then the left integral becomes ∫₀^∞ μ({|f| ≥ s^{1/p}}) p s^{(p-1)/p} * (1/p) s^{(1/p -1)} ds? Wait, maybe not. Let me think again.\n\nWait, if s = t^p, then t = s^{1/p}, dt = (1/p) s^{(1/p -1)} ds. Then, substituting into the left integral:\n\n∫₀^∞ p t^{p-1} μ({|f| ≥ t}) dt = ∫₀^∞ p (s^{1/p})^{p-1} μ({|f| ≥ s^{1/p}}) * (1/p) s^{(1/p -1)} ds\n\nSimplify exponents:\n\n(p) * s^{(p-1)/p} * (1/p) s^{(1/p -1)} = s^{(p-1)/p + (1/p -1)} = s^{(p-1 +1 - p)/p} = s^{0/p} = 1. So, it becomes ∫₀^∞ μ({|f| ≥ s^{1/p}}) ds. But s^{1/p} is t, so {|f| ≥ t} is the same as {|f|^p ≥ t^p} = {|f|^p ≥ s}. Therefore, the integral becomes ∫₀^∞ μ({|f|^p ≥ s}) ds, which is exactly the right-hand side. \n\nBut this substitution was done as if it's Riemann. But in Lebesgue terms, we need to justify that the measure with the substitution is valid. The key is that the substitution s = t^p is a smooth, monotonic function (for t ≥ 0, p ≥1), so it's a diffeomorphism on (0, ∞). Therefore, the change of variables formula for Lebesgue integrals applies here. \n\nThe general theorem is that if φ is a bijection between measure spaces that is measurable and has measurable inverse, and if we have a measure ν on the second space, then ∫ g dν = ∫ g(φ(t)) |φ’(t)| dt, if ν is the pushforward of the Lebesgue measure via φ^{-1}. In this case, φ(t) = t^p, so φ’(t) = p t^{p-1}, which is the term appearing in the left integral. Therefore, the substitution is valid by the change of variables theorem for Lebesgue integrals, even if the original function is only Lebesgue integrable, not necessarily Riemann integrable. \n\nTherefore, the justification is that the substitution s = t^p is a valid change of variables in the Lebesgue sense because t^p is a diffeomorphism (smooth with smooth inverse) on (0, ∞), and the derivative term p t^{p-1} is accounted for in the integral, which matches the pushforward measure. Hence, the equality holds without needing Riemann integrability, just by the properties of Lebesgue integration and the change of variables formula.\n\nSo, the key assumptions are the measure is Lebesgue, f is measurable (since we're dealing with the measure of the sets {x : ...}), and that the integral of |f|^p is finite, which ensures that the integrals in question are finite and can be manipulated.",
    "Original_Problem": "Assumption: \n$({\\Bbb R},{\\mathcal A},\\mu)$ is a measure space with $\\mu$ being the Lebesgue measure,\n$f$ is a measurable function on this measure space,\n$\\int_{\\Bbb R}|f|^p d\\mu < \\infty$ where $p \\geq 1$.\nProblem: \nProve that  \n$$\\int_{[0,\\infty)}pt^{p-1}\\mu(\\{x:|f(x)|\\geq t\\})d\\mu(t)=\\int_{[0,\\infty)}\\mu(\\{x:|f(x)|^p\\geq s\\})d\\mu(s)$$  \nrigorously using Lebesgue integration theory.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $({\\Bbb R},{\\mathcal A},\\mu)$ is a measure space with $\\mu$ being the Lebesgue measure,\nAssumption 2: $f$ is a measurable function on this measure space,\nAssumption 3: $\\int_{\\Bbb R}|f|^p d\\mu < \\infty$ where $p \\geq 1$.\nProblem: \nProve that  \n$$\\int_{[0,\\infty)}pt^{p-1}\\mu(\\{x:|f(x)|\\geq t\\})d\\mu(t)=\\int_{[0,\\infty)}\\mu(\\{x:|f(x)|^p\\geq s\\})d\\mu(s)$$  \nrigorously using Lebesgue integration theory.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\n\\int_X\\left(\\int_0^\\infty pt^{p-1}1_{|f|\\geq t}\\ dt\\right)\\ d\\mu\n=\\int_X\\left(\\int_0^\\infty 1_{|f|^p\\geq s}\\ ds\\right)\\ d\\mu.\n$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $({\\Bbb R},{\\mathcal A},\\mu)$ is a measure space with $\\mu$ being the Lebesgue measure,\nAssumption 2: $f$ is a measurable function on this measure space,\nAssumption 3: $\\int_{\\Bbb R}|f|^p d\\mu < \\infty$ where $p \\geq 1$.\nAssumption 4: $$\n\\int_X\\left(\\int_0^\\infty pt^{p-1}1_{|f|\\geq t}\\ dt\\right)\\ d\\mu\n=\\int_X\\left(\\int_0^\\infty 1_{|f|^p\\geq s}\\ ds\\right)\\ d\\mu.\n$$\nProblem: \nProve that  \n$$\\int_{[0,\\infty)}pt^{p-1}\\mu(\\{x:|f(x)|\\geq t\\})d\\mu(t)=\\int_{[0,\\infty)}\\mu(\\{x:|f(x)|^p\\geq s\\})d\\mu(s)$$  \nrigorously using Lebesgue integration theory."
}