{
    "Link_API": "https://api.stackexchange.com/2.3/questions/79296",
    "Title": "Equivalence of Dirichlet density and asymptotic density",
    "Score": 13,
    "Category": "Chứng minh",
    "Tags": "sequences-and-series",
    "Link": "https://math.stackexchange.com/questions/79296/equivalence-of-dirichlet-density-and-asymptotic-density",
    "Content": "Let $A, B$ be subsets of the natural numbers with $A \\subseteq B$. The asymptotic density of $A$ in $B$ is $$\\lim_{N\\to \\infty}\\frac{\\text{number of elements of }A\\text{ below }N}{\\text{number of elements of }B\\text{ below }N}.$$ The Dirichlet density is $$\\lim_{s\\to 1^+}\\frac{\\sum\\limits_{n\\in A}n^{-s}}{\\sum\\limits_{n\\in B}n^{-s}},$$ with $s$ going to $1$ from the right, so the sums are finite. I want to show that if the natural density exists, then the Dirichlet density also exists and is the same. A paper by Bell and Burris proves this in a more general context, but it's a bit involved. Lang says this is \"an easy exercise\" so I must be missing something. Can someone help me out? Thanks. (Edit: I forgot to say that we also require $\\sum_{n\\in B} n^{-1} = \\infty$, otherwise there are obvious counterexamples.)",
    "AcceptedAnswer": "The hint is correct. For every $A\\subseteq\\mathbb N$ and $n\\geqslant0$, let $N^A_n$ denote the number of elements of $A$ between $1$ and $n$. Then\n$$\nD_A(s)=\\sum\\limits_{n\\in A}n^{-s}=\\sum\\limits_{n\\geqslant1}n^{-s}\\cdot(N^A_n-N^A_{n-1})=\\sum\\limits_{n\\geqslant1}(n^{-s}-(n+1)^{-s})\\cdot N^A_n.\n$$ Assume $A\\subseteq\\mathbb N$ and $B\\subseteq\\mathbb N$ are such that $N_n^A\\leqslant uN_n^B+v$ for every $n$, then\n$$\nD_A(s)\\leqslant\\sum\\limits_{n\\geqslant1}(n^{-s}-(n+1)^{-s})\\cdot(uN^B_n+v)=uD_B(s)+v.\n$$ Assume from now on that the asymptotic density of $A\\subseteq\\mathbb N$ in $B\\subseteq\\mathbb N$ is $\\delta$. Then, for every $u<\\delta<u'$, there exists some finite $v$ and $v'$ such that $uN^B_n+v\\leqslant N^A_n\\leqslant u'N_n^B+v'$ for every $n$, hence\n$$\nu+\\frac{v}{D_B(s)}\\leqslant\\frac{D_A(s)}{D_B(s)}\\leqslant u'+\\frac{v'}{D_B(s)}.\n$$ When $s\\to1^+$, $D_B(s)\\to D_B(1)$ which is infinite by hypothesis, hence the limit points of the ratio $D_A(s)/D_B(s)$ when $s\\to1^+$ are between $u$ and $u'$. Since $u$ and $u'$ may be as close to $\\delta$ as one wants, this proves that the Dirichlet density of $A$ in $B$ exists and that it is $\\delta$. Edit The idea of the proof, if there should be one, is to translate the asymptotic hypothesis that two positive sequences $(x_n)_{n}$ and $(y_n)_{n}$ are such that $\\lim \\frac{x_n}{y_n}=\\ell$ into some nonasymptotic inequalities, as follows. First, by definition of the limit, for every $u<\\ell<u'$, $uy_n\\leqslant x_n\\leqslant u'y_n$ for every $n\\geqslant N$. Second, consider  $v=-u\\max\\{y_n\\mid n\\leqslant N\\}$ and $v'=\\max\\{x_n\\mid n\\leqslant N\\}$ hence $v\\leqslant0\\leqslant v'$. Then, for every $n\\leqslant N$, $uy_n+v\\leqslant0$, $v'\\leqslant u'y_n+v'$ and $0\\leqslant x_n\\leqslant v'$, hence $uy_n+v\\leqslant x_n\\leqslant u'y_n+v'$. Finally, $uy_n+v\\leqslant x_n\\leqslant u'y_n+v'$ for every $n$.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$A$ is a subset of $B$,\n$B$ is a subset of the natural numbers,\nThe asymptotic density of $A$ in $B$ exists,\n$\\sum_{n \\in B} \\frac{1}{n}$ diverges.\nproblem:\nShow that if the asymptotic density of $A$ in $B$ exists, then the Dirichlet density of $A$ in $B$ also exists and both densities are equal.\n###END_OF_FORMAT###",
    "reasoning_create_structured_problem": "Okay, let's tackle this problem. The user wants to show that if the asymptotic density of A in B exists, then the Dirichlet density also exists and they are equal. They mentioned that Lang calls this an \"easy exercise,\" but they find it tricky. Also, they added a condition that the sum of 1/n over B diverges, which probably avoids some edge cases.\n\nFirst, I need to parse the definitions. Asymptotic density here is the limit as N approaches infinity of the ratio of the count of elements in A below N to those in B below N. Dirichlet density is the limit as s approaches 1+ of the ratio of the Dirichlet generating functions of A and B.\n\nThe key here is connecting these two limits. Since asymptotic density is about counting up to N, and Dirichlet density involves analytic behavior near s=1. There's a known relationship between these densities, often using Tauberian theorems, but the user mentions that Bell and Burris have a more involved proof, but Lang says it's easy. Maybe under the given conditions, there's a direct approach.\n\nGiven that the asymptotic density exists, say it's equal to d. So, the ratio |A∩[1,N]| / |B∩[1,N]| tends to d. We need to show that the ratio of the Dirichlet series Σ a_n/n^s over Σ b_n/n^s tends to d as s→1+. \n\nThe user added that Σ_{n∈B} 1/n diverges, which is crucial because otherwise, if the sum converges, the Dirichlet density might not capture the same information. So, the divergence ensures that the denominator grows without bound as s approaches 1, similar to the asymptotic density's denominator growing with N.\n\nOne approach might be to approximate the Dirichlet series by partial sums. For example, partial sums of Σ a_n/n^s can be related to |A∩[1,N]|, and similarly for B. If the asymptotic density ratio tends to d, maybe integrating or averaging this ratio over s approaching 1 would give the same limit. But I need to think more carefully.\n\nAlternatively, consider that as s approaches 1+, the Dirichlet series Σ n^{-s} behaves like the integral of x^{-s} dx from 1 to infinity, which is 1/(s-1). So, maybe the sum over B, Σ_{n∈B} n^{-s} ~ C/(s-1) as s→1+, where C is some constant related to the density. But if the asymptotic density exists, then perhaps the sum over A would be ~ d*C/(s-1), leading their ratio to d.\n\nBut how to formalize this? Let's suppose that |B∩[1,N]| ~ c*N as N→infty. Wait, no, asymptotic density in B is |A∩[1,N]| / |B∩[1,N}| → d. So, |A∩[1,N}| ~ d*|B∩[1,N}|. Then, the sum Σ_{n∈A} n^{-s} is similar to Σ_{n∈B} d*n^{-s}, but weighted by the density. However, the problem is that the elements of A and B may not be distributed in a way that allows term-by-term comparison.\n\nAlternatively, using partial summation. Let’s denote A(N) = |A∩[1,N}| and B(N) = |B∩[1,N}|. Then, Σ_{n∈A} n^{-s} = Σ_{n=1}^∞ (A(n) - A(n-1)) n^{-s} = s ∫_{1}^{∞} A(x) x^{-s-1} dx. Similarly for B. Then, the ratio becomes [s ∫_{1}^{∞} A(x) x^{-s-1} dx] / [s ∫_{1}^{∞} B(x) x^{-s-1} dx] = [∫_{1}^{∞} A(x) x^{-s-1} dx] / [∫_{1}^{∞} B(x) x^{-s-1} dx].\n\nGiven that A(x)/B(x) → d as x→infty, then maybe the integrals can be approximated by d times the integral of B(x) x^{-s-1} dx. But to make this precise, we need to handle the integrals. If A(x) ~ d B(x), then ∫_{1}^{∞} A(x) x^{-s-1} dx ~ d ∫_{1}^{∞} B(x) x^{-s-1} dx. Therefore, the ratio would approach d.\n\nHowever, this requires justification. Maybe splitting the integral into two parts: from 1 to T and from T to infinity. For large T, the integral from T to infinity would dominate as s approaches 1, and on that part, A(x) is approximately d B(x). The integral from 1 to T would be negligible if T is chosen appropriately as s approaches 1.\n\nThis seems plausible, but the user mentioned that the sum over B of 1/n diverges. How does this come into play? If Σ_{n∈B} 1/n diverges, then the asymptotic density of B in the natural numbers must be zero because if B had positive density, its harmonic series would diverge, but even some sets with zero asymptotic density can have divergent harmonic series (like primes). But here, B is a subset of natural numbers, and the divergence of Σ 1/n over B is given. This might be necessary to ensure that the Dirichlet series Σ_{n∈B} n^{-s} has a pole at s=1, similar to the Riemann zeta function.\n\nIndeed, if Σ_{n∈B} n^{-1} diverges, then the abscissa of convergence of the Dirichlet series Σ_{n∈B} n^{-s} is at s=1, so as s approaches 1+, the sum tends to infinity. Similarly for Σ_{n∈A} n^{-s}. Then, the ratio of their sums might be controlled by the ratio of their partial sums, which by assumption tends to d. \n\nThis feels related to the idea that if two functions f and g behave like f(s) ~ C/(s-1)^α and g(s) ~ D/(s-1)^β as s→1+, then the ratio f(s)/g(s) tends to C/D if α=β. Here, if both Σ_{n∈A} n^{-s} and Σ_{n∈B} n^{-s} have a simple pole at s=1 (i.e., behave like 1/(s-1)), then their ratio would tend to the ratio of their residues. But how does the asymptotic density relate to the residues?\n\nAlternatively, using Karamata's Tauberian theorem or the Ikehara theorem, which relate the asymptotic behavior of the coefficients to the singularities of the Dirichlet series. But maybe that's overcomplicating.\n\nAnother approach: Since the asymptotic density is d, we can write A(N) = d B(N) + o(B(N)). Then, using partial summation, the Dirichlet series for A would be Σ_{n=1}^∞ (A(n) - A(n-1)) n^{-s} = Σ_{n=1}^∞ a_n n^{-s} where a_n is 1 if n ∈ A. Similarly for B. Then, integrating by parts:\n\nΣ_{n∈A} n^{-s} = s ∫_{1}^∞ A(x) x^{-s-1} dx.\n\nSimilarly for B. So the ratio is [∫_{1}^∞ A(x) x^{-s-1} dx] / [∫_{1}^∞ B(x) x^{-s-1} dx].\n\nIf A(x) ~ d B(x), then substituting this approximation into the integrals would give the ratio approaching d. But we need to make sure that the error term o(B(x)) doesn't contribute significantly. Given that the integral is weighted by x^{-s-1}, which for s near 1 is x^{-2} dx. However, as s approaches 1+, the integral becomes more like x^{-s-1} with s approaching 1 from above, so the integral behaves like x^{-2} dx near infinity. Wait, but as s approaches 1, the integral ∫ x^{-s-1} dx from 1 to ∞ converges for s > 0, but near s=1, it's ∫ x^{-2} dx which is 1. However, when s approaches 1+, the integral ∫_{1}^{∞} B(x) x^{-s-1} dx. If B(x) grows to infinity, how does this integral behave?\n\nIf B(x) ~ c x as x→infty (positive asymptotic density in N), then ∫_{1}^{∞} x * x^{-s-1} dx = ∫ x^{-s} dx, which converges only if s > 1. But near s=1+, it diverges as 1/(s-1). But if B has asymptotic density zero in N, but still Σ_{n∈B} 1/n diverges, like the primes, then B(x) ~ x / log x, and ∫_{1}^{∞} (x / log x) x^{-s-1} dx. That integral would converge for s > 0, but as s approaches 1, it might blow up. \n\nWait, but the user's problem states A is a subset of B, and we're considering the density of A in B. So B itself could have asymptotic density in N, but the problem doesn't specify that. The key is the ratio |A∩[1,N]| / |B∩[1,N}| tending to d.\n\nAssuming that |B∩[1,N}| tends to infinity as N→infty (which is necessary for the asymptotic density to make sense), and given that Σ_{n∈B} 1/n diverges, this might imply that B is a \"large\" set in some sense.\n\nBut returning to the integrals. If A(x) ~ d B(x), then ∫ A(x) x^{-s-1} dx ~ d ∫ B(x) x^{-s-1} dx, so their ratio is d. To make this rigorous, we need to show that the integral of (A(x) - d B(x)) x^{-s-1} dx is small compared to ∫ B(x) x^{-s-1} dx as s→1+.\n\nGiven that A(x) - d B(x) = o(B(x)), then |A(x) - d B(x)| ≤ ε B(x) for x ≥ T. Then, split the integral into [1, T] and [T, ∞). The integral over [T, ∞) would be ≤ ε ∫_{T}^∞ B(x) x^{-s-1} dx ≤ ε ∫_{1}^∞ B(x) x^{-s-1} dx. So the ratio becomes [d ∫ B(x) x^{-s-1} dx + error] / [∫ B(x) x^{-s-1} dx] = d + error / ∫ B(x) x^{-s-1} dx. If the error is ε ∫ B(x) x^{-s-1} dx, then the error term is ε, which can be made small. The integral from 1 to T is fixed as s approaches 1, so ∫_{1}^{T} (A(x) - d B(x)) x^{-s-1} dx is bounded, and ∫_{1}^{T} B(x) x^{-s-1} dx is also bounded. But as s approaches 1+, the denominator ∫_{1}^∞ B(x) x^{-s-1} dx tends to infinity (since Σ_{n∈B} 1/n diverges). Therefore, the error term from [1,T] becomes negligible compared to the denominator. Hence, the ratio tends to d.\n\nTherefore, this approach using partial summation and splitting the integral seems valid. The key steps are:\n\n1. Express the Dirichlet series for A and B using partial summation as integrals involving A(x) and B(x).\n\n2. Split the integral into a tail [T, ∞) where A(x) ~ d B(x) and the remaining part [1,T].\n\n3. Show that as T→infty and s approaches 1+, the tail dominates, making the ratio approach d.\n\nThe divergence of Σ_{n∈B} 1/n ensures that the integral ∫_{1}^∞ B(x) x^{-s-1} dx blows up as s approaches 1+, which allows the tail to dominate and the error terms to be controlled.\n\nThis seems to align with Lang's \"easy exercise\" if we use the right tools (partial summation and integral approximations). The user's addition of the divergence condition is crucial to avoid cases where the denominator's integral doesn't blow up, which would leave the ratio dependent on other terms.\n\nSo, putting it all together, the proof outline would be:\n\n- Use partial summation to express the Dirichlet series of A and B as integrals over A(x) and B(x).\n\n- Substitute the asymptotic relation A(x) ~ d B(x) into the integrals.\n\n- Control the error terms by splitting the integral and using the divergence condition to ensure the denominator's integral tends to infinity, making the error from the finite part negligible.\n\n- Conclude that the ratio of the integrals (and thus the Dirichlet density) tends to d.\n\nThis approach avoids the more general machinery used in Bell and Burris, sticking to basic calculus and asymptotic analysis, which might be what Lang had in mind.",
    "Original_Problem": "Assumption: \n$A$ is a subset of $B$,\n$B$ is a subset of the natural numbers,\nThe asymptotic density of $A$ in $B$ exists,\n$\\sum_{n \\in B} \\frac{1}{n}$ diverges.\nproblem:\nShow that if the asymptotic density of $A$ in $B$ exists, then the Dirichlet density of $A$ in $B$ also exists and both densities are equal.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $A$ is a subset of $B$,\nAssumption 2: $B$ is a subset of the natural numbers,\nAssumption 3: The asymptotic density of $A$ in $B$ exists,\nAssumption 4: $\\sum_{n \\in B} \\frac{1}{n}$ diverges.\nProblem:\nShow that if the asymptotic density of $A$ in $B$ exists, then the Dirichlet density of $A$ in $B$ also exists and both densities are equal.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\nu+\\frac{v}{D_B(s)}\\leqslant\\frac{D_A(s)}{D_B(s)}\\leqslant u'+\\frac{v'}{D_B(s)}.\n$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $A$ is a subset of $B$,\nAssumption 2: $B$ is a subset of the natural numbers,\nAssumption 3: The asymptotic density of $A$ in $B$ exists,\nAssumption 4: $\\sum_{n \\in B} \\frac{1}{n}$ diverges.\nAssumption 5: $$\nu+\\frac{v}{D_B(s)}\\leqslant\\frac{D_A(s)}{D_B(s)}\\leqslant u'+\\frac{v'}{D_B(s)}.\n$$\nProblem:\nShow that if the asymptotic density of $A$ in $B$ exists, then the Dirichlet density of $A$ in $B$ also exists and both densities are equal."
}