{
    "Link_API": "https://api.stackexchange.com/2.3/questions/4795543",
    "Title": "Show that bounded continuous functions on $\\Bbb R$ with $f(x)=\\int_{x}^{x+1}f(t)\\mathrm{d}t$ are constant",
    "Score": 19,
    "Category": "Chứng minh",
    "Tags": "real-analysis, calculus, integration",
    "Link": "https://math.stackexchange.com/questions/4795543/show-that-bounded-continuous-functions-on-bbb-r-with-fx-int-xx1ft",
    "Content": "I was doing my homework and one question occur to me: Let $f$ be a bounded continuous function on $\\mathbb{R}$ that satisfies $f(x)=\\int_{x}^{x+1}f(t)\\mathrm{d}t$ for all $x\\in\\mathbb{R}$ . Show that $f$ is a constant, i.e. $f\\equiv C$ for some $C\\in\\mathbb{R}$ . I didn't think too much of it, and I thought it was easy. This is my answer: By definition of $f$ it is trivial that $f\\in C^\\infty(\\mathbb{R})$ . By taking the derivative on both side of the equation we obtain $$f^\\prime(x)=f(x+1)-f(x),\\forall x\\in\\mathbb{R}.$$ Since $f\\in C^\\infty(\\mathbb{R})$ , it is valid to take the Taylor series of $f$ , i.e. $$f(x+1)-f(x)=\\left(f(x)+\\frac{f^\\prime(x)}{1!}+\\frac{f^{\\prime\\prime}(x)}{2!}+\\cdots\\right)-f(x)=f^\\prime(x)+\\frac{f^{\\prime\\prime}(x)}{2}+\\cdots,$$ whence $f^{(k)}(x)=0$ for all $k=2,3,\\cdots$ . This implies $f$ is linear. However, if $f(x)=kx+b$ with $k\\ne 0$ , it will not satisfy the equation $f(x)=\\int_{x}^{x+1}f(t)\\mathrm{d}t$ , therefore $f$ is a constant. However, in the instructor's note the proof is very complicated. I wonder whether my proof is correct. Thanks in advance.",
    "AcceptedAnswer": "[update - the alternative strategy I propose in the concluding remark seems not to work, as I explain below, though the main proof itself is fine.] As you have observed, taking derivatives of each side (via the second fundamental theorem per Sarvesh Ravichandran Iyer's comment) gives us $f'(x)=f(x+1)-f(x)$ .  Note this implies $f'$ is continuous, and since $|f(x)|\\leq M$ for some $M$ we also have $|f'(x)|\\leq 2M$ .  In particular, $f$ is $2M$ -Lipschitz. One has to argue a little more carefully to show the Taylor series actually converges to $f(x)$ for each $x$ .  This can be done, as previously noted by Gerd, via Taylor remainder estimates, using the bound $|f^{(k)}(x)|\\leq 2^kM$ .  However, as mentioned in the comments, this only immediately shows you that $\\sum_{k=2}^\\infty \\frac{f^{(k)}(x)}{k!}=0$ .  It is not clear why each term must be $0$ .  Therefore, while your approach may still work, it is not obvious to me how to salvage it. However, just the bound on the first derivative is already enough to prove the result, without taking further derivatives.  Here is a proof: Proof Our strategy will be to show that if $f'$ is ever (WLOG) positive, then we can find another point where $f'$ is quantitatively larger, so we obtain a sequence of points on which $f'$ increases without bound, contradicting the bound $|f'(x)|\\leq 2M$ . Suppose by contradiction that WLOG $f'(x)=\\epsilon>0$ for some $x$ .  Then for $t\\in[x+1-\\frac{\\epsilon}{2M},x+1]$ , we have by the Lipschitz condition that $$f(t)\\geq f(x+1)-2M(x+1-t),$$ which is linear from $f(x)$ to $f(x+1)$ on that interval,\nand so we obtain $$\\int_{x+1-\\frac{\\epsilon}{2M}}^{x+1} (f(t)-f(x))dt \\geq \\frac{1}{2}\\cdot \\frac{\\epsilon}{2M}(f(x+1)-f(x))=\\frac{\\epsilon^2}{4M}.$$ Since the average of $f$ over $[x,x+1]$ is $f(x)$ , we must have $$\\int_x^{x+1-\\frac{\\epsilon}{2M}} (f(x)-f(t)) dt\\geq \\frac{\\epsilon^2}{4M}.\\tag{1}$$ Now, if $y$ is the largest value in $[x,x+1]$ for which $f(y)=f(x)$ , then we obtain $$\\int_x^y (f(x)-f(t)) dt\\geq \\frac{\\epsilon^2}{4M},\\tag{2}$$ since the integrand in (1) is negative after $t=y$ . However, the Lipschitz condition gives us $$f(x)-f(t)\\leq 2M(t-x),$$ so integrating the right hand side over $[x,y]$ and combining with (2) we have the estimate $$M(y-x)^2\\geq \\frac{\\epsilon^2}{4M},$$ so that $y-x\\geq \\frac{\\epsilon}{2M}$ .\nThen by the mean value theorem we have some $z\\in [y,x+1]$ with $$f'(z)=\\frac{f(x+1)-f(y)}{x+1-y}\\geq\\frac{\\epsilon}{1-\\frac{\\epsilon}{2M}}.$$ Note also that if we started with $f'(x)=\\epsilon'\\geq\\epsilon$ , then we would conclude $$f'(z)\\geq \\frac{\\epsilon'}{1-\\frac{\\epsilon'}{2M}}\\geq \\frac{\\epsilon}{1-\\frac{\\epsilon}{2M}},$$ so we can summarize that if there is a point $x$ with $f'(x)\\geq \\epsilon$ , then there is a point $z$ with $f'(z)\\geq \\frac{\\epsilon}{1-\\frac{\\epsilon}{2M}}$ . Then letting $\\epsilon_0=\\epsilon$ and $\\epsilon_{n+1}=\\frac{\\epsilon_n}{1-\\frac{\\epsilon_n}{2M}}$ , we have for each $n$ a point $x_n$ with $f'(x_n)\\geq \\epsilon_n$ .  But $\\epsilon_n$ increases without bound - to see this note that $\\epsilon_n$ is certainly increasing, and so we may estimate $$\\frac{\\epsilon_{n+1}}{\\epsilon_n}= \\frac{1}{1-\\frac{\\epsilon_n}{2M}}\\geq \\frac{1}{1-\\frac{\\epsilon}{2M}}>1,$$ so $$f'(x_n)\\geq \\epsilon_n\\geq \\epsilon\\left(\\frac{1}{1-\\frac{\\epsilon}{2M}}\\right)^n\\to\\infty.$$ This contradicts the boundedness of $f'(x)$ . Remark Another avenue of proof might be to observe that if $\\mathcal F\\subseteq C_b(\\mathbb R)$ is the space of bounded continuous functions satisfying the given condition, then $\\mathcal F$ is closed under the supremum norm, and the  differential $f\\mapsto f'$ restricts to a continuous (in the sup norm) linear map $D\\colon \\mathcal F\\to \\mathcal F$ , so by this result (*not quite actually) , $\\mathcal F$ is finite dimensional. [*edit: just realized that at the link they are discussing functions in $C([0,1])$ , so the result might not generalize to $C_b(\\mathbb R)$ , I’ll have to think more on that.  In fact, I think this is false, and you should actually be able to embed an isometric copy of $c_b$ (space of bounded sequences) into $C_b(\\mathbb R)$ so that the image consists of smooth functions and differentiation is continuous. Thus this alternative strategy is probably not salvageable, but I’ll leave the idea here anyway for just a bit before deleting, in case I or anyone else thinks of a fix.  We might be able to get some mileage out of the fact that $\\mathcal F$ consists of real analytic functions, and hence the restriction to a compact interval is injective.] Then if $P$ is the characteristic polynomial of $D$ , we have $P(D)=0$ , so that every member of $\\mathcal F$ lies in the solution set to a homogenous linear $n$ -th order ODE with constant coefficients.  Since the functions in $\\mathcal F$ are bounded, we then know that $\\mathcal F$ consists entirely of functions of the form $$f(x)=C+\\sum_i a_i\\sin(\\omega_ix)+b_i\\cos(\\omega_i x).$$ One then simply needs to show that any such functions satisfying the given condition are constant.  Ex post facto, this is true, as we have proven the result with other means, but I didn't immediately see how to cleanly show this (I doubt it is hard, but it might or might not be messy) and may not have time to further explore, so I will leave this as a remark.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$f$ is a bounded function on $\\mathbb{R}$,\n$f$ is continuous on $\\mathbb{R}$,\nfor every $x \\in \\mathbb{R}$, $f(x) = \\int_{x}^{x+1} f(t) \\, dt$.\nProblem: \nShow that $f$ is constant, i.e., $f \\equiv C$ for some $C \\in \\mathbb{R}$.\n###",
    "reasoning_create_structured_problem": "Okay, let's tackle this problem. The user wants me to format the given Math Stack Exchange question into the specified structure with Assumptions and Problem. Let me first read through the original problem carefully.\n\nThe question is about showing that a bounded continuous function f on ℝ that satisfies f(x) = integral from x to x+1 of f(t) dt for all x must be constant. The user provided their own proof, which they think might be incorrect because the instructor's solution is more complicated.\n\nFirst, I need to extract the assumptions and the problem statement. The original problem states that f is bounded, continuous on ℝ, and satisfies the integral equation for all x. The goal is to show f is constant.\n\nLooking at the example given, each assumption is listed line by line, addressing one property per line. So here, the assumptions are:\n\n1. f is a bounded function on ℝ.\n2. f is continuous on ℝ.\n3. For all x ∈ ℝ, f(x) equals the integral of f(t) from x to x+1.\n\nThe problem is to show that f is constant.\n\nWait, but in the example, the assumption included that n is an integer and n is divisible by 7. Here, the user's original problem didn't have any missing assumptions; the problem as stated includes all necessary conditions. So I need to list all the given conditions as separate assumptions.\n\nSo Assumptions should be:\n- f is a bounded function on ℝ.\n- f is continuous on ℝ.\n- For every x in ℝ, f(x) = ∫_{x}^{x+1} f(t) dt.\n\nProblem: Show that f is constant.\n\nI should check if there are any other implicit assumptions. The function is defined on ℝ, and the integral equation holds for all x. The problem statement as given includes all necessary conditions. The user's solution tried to use derivatives and Taylor series, which might require more than continuity, but the original problem only states f is continuous. However, in the problem statement, the user's own solution claims f is smooth (C^∞), which might be an oversight because the original problem only states continuity. But in the formatted problem, we need to stick strictly to the problem's given assumptions, not the user's attempted solution.\n\nTherefore, the correct assumptions are the three I listed above. The problem is to show f is constant. The user's approach assumes differentiability, but the original problem doesn't state that, so the formatted problem shouldn't include differentiability as an assumption. Therefore, the answer should be structured with the three assumptions as given.",
    "Original_Problem": "Assumption: \n$f$ is a bounded function on $\\mathbb{R}$,\n$f$ is continuous on $\\mathbb{R}$,\nfor every $x \\in \\mathbb{R}$, $f(x) = \\int_{x}^{x+1} f(t) \\, dt$.\nProblem: \nShow that $f$ is constant, i.e., $f \\equiv C$ for some $C \\in \\mathbb{R}$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $f$ is a bounded function on $\\mathbb{R}$,\nAssumption 2: $f$ is continuous on $\\mathbb{R}$,\nAssumption 3: for every $x \\in \\mathbb{R}$, $f(x) = \\int_{x}^{x+1} f(t) \\, dt$.\nProblem: \nShow that $f$ is constant, i.e., $f \\equiv C$ for some $C \\in \\mathbb{R}$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\\int_x^{x+1-\\frac{\\epsilon}{2M}} (f(x)-f(t)) dt\\geq \\frac{\\epsilon^2}{4M}.\\tag{1}$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $f$ is a bounded function on $\\mathbb{R}$,\nAssumption 2: $f$ is continuous on $\\mathbb{R}$,\nAssumption 3: for every $x \\in \\mathbb{R}$, $f(x) = \\int_{x}^{x+1} f(t) \\, dt$.\nAssumption 4: $$\\int_x^{x+1-\\frac{\\epsilon}{2M}} (f(x)-f(t)) dt\\geq \\frac{\\epsilon^2}{4M}.\\tag{1}$$\nProblem: \nShow that $f$ is constant, i.e., $f \\equiv C$ for some $C \\in \\mathbb{R}$."
}