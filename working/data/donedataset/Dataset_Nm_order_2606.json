{
    "Link_API": "https://api.stackexchange.com/2.3/questions/119911",
    "Title": "Proving formula involving Euler&#39;s totient function",
    "Score": 13,
    "Category": "Chứng minh",
    "Tags": "abstract-algebra, number-theory, elementary-number-theory, totient-function",
    "Link": "https://math.stackexchange.com/questions/119911/proving-formula-involving-eulers-totient-function",
    "Content": "This question is motivated by lhf's comment here . \"It'd be nice to relate this formula with the natural mapping $U_{mn} \\to U_m \\times U_n$ by proving that the kernel has size $d$ and the image has index $\\varphi(d)$.\" Here, $U_k$ denotes the group of units of the ring $\\mathbb{Z} / k \\mathbb{Z}$ whenever $k$ is a positive integer. I'm trying to prove the formula\n$$\n  \\varphi(mn) = \\varphi(m)\\varphi(n) \\frac{d}{\\varphi(d)}\n$$\nby considering the natural map $\\eta\\colon U_{mn} \\to U_m \\times U_n$ (i.e. the map sending $\\overline{x} \\mapsto (\\overline{x},\\overline{x})$, where the bar denotes reduction mod $mn$, $m$, or $n$, respectively). I've been able to show that the kernel has the right size as follows: The kernel of $\\eta$ consists of the elements $\\overline{x} \\in U_{mn}$ with $x \\equiv 1 \\bmod m$ and $x \\equiv 1 \\bmod n$.\nThe integers $x$ which satisfy these conditions are those of the form $x = \\frac{mn}{d}k + 1$ for $k \\in \\mathbb Z$.\nOn the other hand, any such integer $x$ is relatively prime to $mn$, and hence gives and element $\\overline{x} \\in U_{mn}$.\nTherefore, $\\ker \\eta$ consists of the $d$ distinct elements $\\overline{x}$, where $x = \\frac{mn}{d}k + 1$ and $k \\in \\{1,\\ldots,d\\}$. Once it has been shown that the image has index $\\varphi(d)$, the first isomorphism theorem gives\n$$\n  \\frac{U_{mn}}{\\ker \\eta} \\cong Im(\\eta),\n$$\nand so\n$$\n  \\frac{\\varphi(mn)}{d} = \\frac{|U_{mn}|}{|\\ker \\eta|} = |Im(\\eta)| = \\frac{|U_m \\times U_n|}{|U_m \\times U_n:Im(\\eta)|} = \\frac{\\varphi(m)\\varphi(n)}{\\varphi(d)},\n$$\nor\n$$\n  \\varphi(mn) = \\varphi(m)\\varphi(n) \\frac{d}{\\varphi(d)}.\n$$ I'm having trouble showing the image has the right index. I've noticed that $\\eta(\\overline{x}) = \\eta(\\overline{x + \\frac{mn}{d}})$, so the image consists the images of the elements $\\overline{x}$ with $1 \\leq x < \\frac{mn}{d}$. I'm not sure if this is going anywhere, though.  Any suggestions?",
    "AcceptedAnswer": "I'll adjust your notation a bit, using $x\\in U_{mn}$ for an invertible element of $\\mathbb{Z}/mn\\mathbb{Z}$, using $\\bar x\\in U_m$ for the residue class of $x$ modulo $m$, and using $\\tilde x \\in U_n$ for the residue class of $x$ modulo $n$. The image of your map $x \\mapsto (\\bar x,\\tilde x)$ is generally smaller than $U_m \\times U_n$ because $\\bar x$ and $\\tilde x$ will always be the same modulo $d$.  We first choose a reduced residue system $\\{a_1=1, a_2, \\ldots, a_{\\varphi(d)}\\}$ modulo $d$ from the elements $U_{n}$ and consider the images of the maps $f_i: x \\mapsto (\\bar x, a_i\\tilde x)$.  (Note that each $a_i$ is invertible modulo $n$.)  It's clear that the images of these maps are disjoint, have the same size, and that we are studying the special case $f_1:x \\mapsto (\\bar x, \\tilde x)$.  In fact, the union of these images is all of $U_m \\times U_n$, as we now show. Take any $(y,z) \\in U_m \\times U_n$.  We show it is equal to some $f_i(x)$ where $a_i \\equiv zy^{-1} \\pmod{d}$.  By a slight generalization of the Chinese Remainder Theorem, there is a unique $x$ modulo $\\frac{mn}{d}$ such that \n$$x \\equiv y \\pmod{m}\\qquad \\qquad \\text{and} \\qquad \\qquad x \\equiv z{a_i}^{-1} \\pmod{n}.$$  Then $f_i(x)=(\\bar x, a_i \\tilde x) =(y,z)$.  (In fact, the $d$ preimages of $(y,z)$ are the elements $x+\\frac{mn}{d} k$ with $0 \\leq k \\leq d-1$.) A generalization of the Chinese Remainder Theorem is required because $m$ and $n$ share the factor $d$. Such systems of congruences have a solution as long as they are compatible modulo $d$, and this solution is unique modulo $\\rm{lcm}(m,n)=\\frac{mn}{d}$.  Our system is compatible modulo $d$, since $y \\equiv z {a_i}^{-1} \\pmod{d}$. Thus, the index of the image of $x \\mapsto (\\bar x, \\tilde x)$ is $\\varphi(d)$.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \nm is a positive integer,\nn is a positive integer,\nd is the greatest common divisor of m and n,\nη: U_{mn} → U_m × U_n is the natural homomorphism defined by η(overline{x}) = (overline{x mod m}, overline{x mod n}),\nthe kernel of η has size d.\nProblem: \nProve that the image of η has index φ(d) in U_m × U_n.\n###",
    "reasoning_create_structured_problem": "Okay, let me try to parse this problem. The user is trying to prove the formula for Euler's totient function involving two numbers m and n, specifically φ(mn) = φ(m)φ(n) * d/φ(d), where d is the gcd of m and n. They want to use the natural map η from U_{mn} to U_m × U_n, which sends an element x mod mn to (x mod m, x mod n). \n\nThey mentioned they've already shown that the kernel of η has size d. The kernel consists of elements x in U_{mn} such that x ≡ 1 mod m and x ≡ 1 mod n. Then they derived that these x are of the form (mn/d)k + 1 for k in integers, and that there are d distinct elements in the kernel. \n\nNow, the part they're struggling with is showing that the image of η has index φ(d). The index here refers to the number of cosets of the image in U_m × U_n. They tried considering that η(x) repeats every mn/d, so looking at x from 1 to mn/d. But they're stuck.\n\nSo, the problem is to show that the image of η has index φ(d) in U_m × U_n. Once that's shown, they can use the first isomorphism theorem to relate the sizes and get the formula.\n\nAssumptions would include things like m and n being positive integers, d being their gcd, U_k being the group of units modulo k, and the natural map η being defined as stated. Each assumption should be a single condition on one object. Let me list those out:\n\n- m is a positive integer.\n- n is a positive integer.\n- d is the greatest common divisor of m and n.\n- U_{mn} is the group of units modulo mn.\n- U_m is the group of units modulo m.\n- U_n is the group of units modulo n.\n- η: U_{mn} → U_m × U_n is the natural map defined by η(overline{x}) = (overline{x mod m}, overline{x mod n}).\n- The kernel of η has size d.\n- The first isomorphism theorem applies to the groups involved.\n\nBut the problem specifically is to show that the image of η has index φ(d) in U_m × U_n. So the formatted problem would have the assumptions related to the setup (m, n positive integers, d = gcd(m,n), η defined as the natural map, kernel size d), and the problem is to prove the image has index φ(d), leading to the totient formula.\n\nWait, the user's original problem is to prove the formula φ(mn) = φ(m)φ(n) * d/φ(d) using the natural map η. They already handled the kernel part and need the image index. But in the example given in the instruction, the assumptions are listed as properties. So in the current problem, the key assumptions are m and n are positive integers, d = gcd(m,n), η is the natural map with kernel size d, and the problem is to show the image has index φ(d). Alternatively, the problem as stated in the user's question is \"prove the formula... by considering the natural map...\", but they need help with the image index part.\n\nSo to structure this per the user's example:\n\nAssumptions:\n\n- m and n are positive integers.\n- d is the greatest common divisor of m and n.\n- U_{mn}, U_m, U_n are the groups of units modulo mn, m, and n respectively.\n- η: U_{mn} → U_m × U_n is the natural homomorphism defined by η(overline{x}) = (overline{x mod m}, overline{x mod n}).\n- The kernel of η has size d.\n- The first isomorphism theorem applies to the groups involved.\n\nProblem: Prove that the image of η has index φ(d) in U_m × U_n, thereby establishing the formula φ(mn) = φ(m)φ(n) * (d / φ(d)).\n\nBut according to the example, the assumptions should list only one property or condition per line, applied to one object.\n\nWait, the original example had two assumptions: n is integer, n divisible by 7. So here, for the problem at hand:\n\nAssumptions:\n\n- m is a positive integer.\n- n is a positive integer.\n- d is the greatest common divisor of m and n.\n- η: U_{mn} → U_m × U_n is the natural homomorphism defined by η(overline{x}) = (overline{x}, overline{x}).\n- The kernel of η has order d.\n- The groups U_{mn}, U_m, and U_n are multiplicative groups of units modulo mn, m, and n respectively.\n\nProblem: Prove that the image of η has index φ(d) in U_m × U_n, leading to the formula φ(mn) = φ(m)φ(n) * (d / φ(d)).\n\nHmm, but in the problem statement, the user is asking to prove the formula by considering the natural map, so perhaps the problem is to prove φ(mn) = ... using the map η, but in their attempt, they need to show the image has index φ(d). So maybe the problem as presented here is to show the image has index φ(d), which would then lead to the formula. Alternatively, the main problem is to prove the formula via the map, and the specific sub-problem is showing the image index.\n\nBut according to the user's original question: \"I'm trying to prove the formula [...] by considering the natural map [...] I'm having trouble showing the image has the right index.\"\n\nSo the problem they need help with is showing the image has index φ(d), which would complete the proof. Therefore, the formatted problem should be:\n\nAssumptions:\n\n- m and n are positive integers.\n- d is the greatest common divisor of m and n.\n- η: U_{mn} → U_m × U_n is the natural homomorphism sending overline{x} to (overline{x mod m}, overline{x mod n}).\n- The kernel of η has size d.\n\nProblem: Prove that the image of η has index φ(d) in U_m × U_n.\n\nBut I need to check if each assumption is a single condition on one object. Let's see:\n\n1. m is a positive integer.\n2. n is a positive integer.\n3. d is the greatest common divisor of m and n.\n4. η: U_{mn} → U_m × U_n is a group homomorphism.\n5. η maps overline{x} to (overline{x mod m}, overline{x mod n}).\n6. The kernel of η has size d.\n\nThat's six assumptions, each addressing one property or condition on one object. The problem is to show the image's index is φ(d). Once that's done, the formula follows from the first isomorphism theorem as shown.\n\nTherefore, the formatted answer should be:\n\n###BEGIN_OF_FORMAT###\nAssumption: \nm is a positive integer,\nn is a positive integer,\nd is the greatest common divisor of m and n,\nη: U_{mn} → U_m × U_n is the natural homomorphism defined by η(overline{x}) = (overline{x mod m}, overline{x mod n}),\nthe kernel of η has size d.\nProblem: \nProve that the image of η has index φ(d) in U_m × U_n.",
    "Original_Problem": "Assumption: \nm is a positive integer,\nn is a positive integer,\nd is the greatest common divisor of m and n,\nη: U_{mn} → U_m × U_n is the natural homomorphism defined by η(overline{x}) = (overline{x mod m}, overline{x mod n}),\nthe kernel of η has size d.\nProblem: \nProve that the image of η has index φ(d) in U_m × U_n.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: m is a positive integer,\nAssumption 2: n is a positive integer,\nAssumption 3: d is the greatest common divisor of m and n,\nAssumption 4: η: U_{mn} → U_m × U_n is the natural homomorphism defined by η(overline{x}) = (overline{x mod m}, overline{x mod n}),\nAssumption 5: the kernel of η has size d.\nProblem: \nProve that the image of η has index φ(d) in U_m × U_n.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$x \\equiv y \\pmod{m}\\qquad \\qquad \\text{and} \\qquad \\qquad x \\equiv z{a_i}^{-1} \\pmod{n}.$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: m is a positive integer,\nAssumption 2: n is a positive integer,\nAssumption 3: d is the greatest common divisor of m and n,\nAssumption 4: η: U_{mn} → U_m × U_n is the natural homomorphism defined by η(overline{x}) = (overline{x mod m}, overline{x mod n}),\nAssumption 5: the kernel of η has size d.\nAssumption 6: $$x \\equiv y \\pmod{m}\\qquad \\qquad \\text{and} \\qquad \\qquad x \\equiv z{a_i}^{-1} \\pmod{n}.$$\nProblem: \nProve that the image of η has index φ(d) in U_m × U_n."
}