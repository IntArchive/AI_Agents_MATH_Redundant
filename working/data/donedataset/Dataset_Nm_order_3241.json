{
    "Link_API": "https://api.stackexchange.com/2.3/questions/4206553",
    "Title": "Is this matrix positive semidefinite? $M_{ij} = \\sqrt{|x_i+x_j|} - \\sqrt{|x_i-x_j|}$ where $x_i$&#39;s are reals",
    "Score": 12,
    "Category": "Chá»©ng minh",
    "Tags": "linear-algebra, matrices, inequality, positive-semidefinite",
    "Link": "https://math.stackexchange.com/questions/4206553/is-this-matrix-positive-semidefinite-m-ij-sqrtx-ix-j-sqrtx-i-x",
    "Content": "Let finite number of $x_i$ 's be reals. Define matrix $M_{ij} = \\sqrt{|x_i+x_j|} - \\sqrt{|x_i-x_j|}$ . Is this matrix positive semidefinite? I am reading this year's IMO problem number 2, which would be trivially true if we prove that $M_{ij}$ is positive semidefinite. Problem $\\boldsymbol2$ . Show that the inequality $$\\sum_{i=1}^{n}\\sum_{j=1}^{n}\\sqrt{\\left|x_i - x_j\\right|} \\leqslant \\sum_{i=1}^{n}\\sum_{j=1}^n\\sqrt{\\left|x_i + x_j\\right|}$$ holds for all real numbers $x_1,...,x_n$ .",
    "AcceptedAnswer": "Define $f(x, y) = \\sqrt{|x + y|} - \\sqrt{|x-y|}$ . Then we want to prove that \\begin{align*}\n\\mathbb{E}[f(X, Y)] \\ge 0\n\\end{align*} where $X, Y$ independent and uniformly distributed over the set of values $\\{x_1, \\cdots, x_n\\}$ . [ Remark 1 : I know the IMO is motivated to use techniques only available at the secondary school level, but the probabilistic notation allows me to naturally represent a bunch of summation notations in a succinct form, and can be translated easily to the summation notation in the original problem.] First, let's observe the region in the Cartesian plane where $f(x, y) \\ge a$ and $f(x, y) \\le -a$ , respectively: And therefore \\begin{align*}\n\\mathbb{P}(f(X, Y) \\ge a) &= \\mathbb{P}\\left(X \\ge \\frac{a}{2}, Y \\ge \\frac{a}{2}\\right) + \\mathbb{P}\\left(X \\le -\\frac{a}{2}, Y \\le -\\frac{a}{2}\\right) \\\\\n&= \\mathbb{P}\\left(X \\ge \\frac{a}{2}\\right)^2 + \\mathbb{P}\\left(X \\le -\\frac{a}{2}\\right)^2\n\\end{align*} and \\begin{align*}\n\\mathbb{P}(f(X, Y) \\le a) &= \\mathbb{P}\\left(X \\ge \\frac{a}{2}, Y \\le -\\frac{a}{2}\\right) + \\mathbb{P}\\left(X \\le -\\frac{a}{2}, Y \\ge \\frac{a}{2}\\right) \\\\\n&= 2\\mathbb{P}\\left(X \\ge \\frac{a}{2}\\right) \\left(X \\le -\\frac{a}{2}\\right)\n\\end{align*} Then, we need the lemma that \\begin{align*}\n\\mathbb{E}[A] = \\int_0^\\infty [\\mathbb{P}(A \\ge a) - \\mathbb{P}(A \\le -a)]da\n\\end{align*} which can be proved by noticing that $\\mathbb{E}[A] = \\mathbb{E}[A^+] - \\mathbb{E}[A^-]$ , where $A^+ = \\max(A, 0)$ and $A^- = -\\min(A, 0)$ and then applying the proof for the tail sum formula . Letting $A = f(X, Y)$ , \\begin{align*}\n\\mathbb{E}[f(X, Y)] &= \\int_0^\\infty[\\mathbb{P}(f(X, Y) \\ge a) - \\mathbb{P}(f(X, Y) \\le -a)]da \\\\\n&= \\int_0^\\infty\\left[\\mathbb{P}\\left(X \\ge \\frac{a}{2}\\right) - \\mathbb{P}\\left(X \\le -\\frac{a}{2}\\right)\\right]^2da \\\\\n&\\ge 0\n\\end{align*} Remark 2 : Note this proof works for any $f(x, y) = g(|x+y|) - g(|x - y|)$ for non-decreasing $g: \\mathbb{R}_{\\ge 0} \\rightarrow \\mathbb{R}$ and general distributions for $X, Y$ . For example, we also have the result \\begin{align*}\n\\sum_{i,j} w_i w_j \\log(1 + |x_i - x_j|) \\le \\sum_{i,j} w_i w_j \\log(1 + |x_i + x_j|)\n\\end{align*} for weights $w_1, \\cdots, w_n \\ge 0$ . Remark 3 : Completely forgot to answer the original problem. Note that if we choose $g(x) = \\sqrt{x}$ and define $X, Y$ to be random variables distributed over $x_1, \\cdots, x_n$ with weights $w_1, \\cdots, w_n \\ge 0$ , then we effectively get, for $\\mathbf{M} = [M_{ij}]_{ij}$ , \\begin{align*}\n\\mathbf{w}^\\intercal \\mathbf{M}\\mathbf{w} \\ge 0\n\\end{align*} for $\\mathbf{w} \\in \\mathbb{R}^n_{\\ge 0}$ ; we need $\\mathbf{w} \\in \\mathbb{R}^n$ in order to get genuine positive semidefiniteness. But it appears that if we replace $\\mathbb{P}$ with quasiprobability distribution (e.g. negative measures are allowed), everything in the proof still seems to go through.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \nEach $x_i$ is a real number,\nThe matrix $M$ is defined by $M_{ij} = \\sqrt{|x_i + x_j|} - \\sqrt{|x_i - x_j|}$.\nProblem: \nProve that the matrix $M$ is positive semidefinite.\n###",
    "reasoning_create_structured_problem": "Okay, let's tackle this problem. The user wants me to structure the given Math Stack Exchange question into the specified format. First, I need to understand the original problem and the example provided.\n\nThe example shows that assumptions should list each condition line by line, applied to one object. The problem is then stated clearly. The original question here is about determining if a matrix M is positive semidefinite, where each entry M_ij is defined as sqrt(|x_i + x_j|) - sqrt(|x_i - x_j|). The user also mentions that this relates to an IMO problem (problem 2), which is an inequality involving sums of square roots of absolute differences and sums.\n\nFirst, I need to filter out unrelated information. The original question on Math Stack Exchange includes the title and the question body. The title asks if the matrix M is positive semidefinite. The question body provides the definition of M and mentions the IMO problem, suggesting that proving M is PSD would solve the IMO problem trivially. However, the IMO problem itself is about showing a specific inequality, which the user has included. The user wants the assumptions and problem structured properly.\n\nLooking at the example, the assumptions were about n being an integer and divisible by 7. In this case, the assumptions would be about the x_i's being real numbers and perhaps the matrix definition. The problem is to determine if M is positive semidefinite. The IMO problem is separate but related, but the main question here is about the matrix.\n\nWait, the original problem on Math Stack Exchange is titled \"Is this matrix positive semidefinite?\" with the given M_ij. The user then mentions that reading IMO problem 2, which would be trivially true if M is PSD. Then the user includes the IMO problem statement. So, the actual problem to structure is the matrix being PSD, but the user also provided the IMO problem as context. However, the task is to structure the problem from the Math Stack Exchange question, which is about the matrix. The IMO problem is part of the context but maybe not the main problem. Wait, the original question is asking about the matrix's positive semidefiniteness, and the IMO problem is mentioned as motivation. The user wants the problem structured as per the example, so likely the main problem is the one in the title and the first part of the question: determining if M is PSD.\n\nHowever, the user's example took the original problem, filtered out unrelated info, and structured it. So here, the original problem is \"Is this matrix positive semidefinite? M_ij = sqrt(|x_i +x_j|) - sqrt(|x_i -x_j|) where x_i's are reals\". The assumptions would be that x_i are real numbers, and the matrix entries are defined as such. The problem is to prove M is positive semidefinite.\n\nBut the example had assumptions listed line by line, each applying to one object. So for this problem, the assumptions are:\n\n- Each x_i is a real number.\n\n- The matrix M is defined by M_{ij} = sqrt(|x_i + x_j|) - sqrt(|x_i - x_j|).\n\nBut wait, in the example, the assumption included that n is an integer and that n is divisible by 7. Each assumption on a separate line. Here, the x_i's are real numbers. Then the definition of the matrix. So perhaps:\n\nAssumption:\n\nx_1, x_2, ..., x_n are real numbers.\n\nMatrix M is defined by M_{ij} = sqrt(|x_i + x_j|) - sqrt(|x_i - x_j|).\n\nBut the problem is \"Is M positive semidefinite?\" or \"Prove that M is positive semidefinite.\" The original question is phrased as a question, but in the example, the problem is phrased as \"Prove that...\". So perhaps the problem statement here is \"Is the matrix M positive semidefinite?\" but maybe the user wants it in the imperative form like \"Prove that M is positive semidefinite.\" However, the original problem is a question, so maybe it's better to state it as \"Determine whether the matrix M is positive semidefinite.\"\n\nBut the example's problem was a direct \"Prove that...\". So maybe the user wants it phrased as a directive. Alternatively, since the original question is a yes/no question, but in the example, the problem was to prove divisibility. So perhaps here the problem is \"Prove or disprove that the matrix M is positive semidefinite.\" But the example didn't include \"prove or disprove\", it just said \"Prove that...\". However, the original problem may not have a known answer. But given that the user mentions the IMO problem, which would be true if M is PSD, perhaps the intended answer is that M is PSD, so the problem would be \"Prove that the matrix M is positive semidefinite.\"\n\nBut to be precise, according to the original question, the user is asking \"Is this matrix positive semidefinite?\" So maybe the problem should be \"Determine whether the matrix M is positive semidefinite.\" However, the example converted a problem into a \"Prove that...\" statement, even though the original problem was \"Prove that...\". In the given example, the original problem was to prove divisibility, so the formatted problem was the same. Here, the original problem is a yes/no question, but the answer is expected to be a proof. So perhaps the problem should be phrased as \"Prove whether the matrix M is positive semidefinite.\" Alternatively, the problem statement could be \"Is the matrix M positive semidefinite?\" but according to the example, the problem should be a directive. Hmm, the example's problem was \"Prove that...\". The original problem here is a question, so perhaps it's better to rephrase it as \"Determine whether the matrix M is positive semidefinite.\" But maybe the user's example just took the problem statement as is. Wait, in the example, the original problem was \"Prove that for every integer n...\", and the formatted problem was \"Prove that...\". So if the original problem is a question like \"Is M PSD?\", the formatted problem should be \"Is the matrix M positive semidefinite?\" But the example transformed the original problem (which was a statement) into a \"Prove that...\" So perhaps here, the problem should be \"Prove that the matrix M is positive semidefinite.\" But the original question is phrased as a question. However, the user is following the example where the original problem was a \"Prove that...\" and the formatted problem was the same. So perhaps here, even though the original question is a yes/no question, the problem should be phrased as \"Prove that the matrix M is positive semidefinite.\" However, since the answer might not be known to the user, maybe the correct approach is to keep it as a question. But according to the example, the problem is stated as a directive. Let's check the example again.\n\nOriginal example problem: \"Prove that for every integer n, the number A(n) = ... is divisible by 91.\"\n\nFormatted problem: problem: \"Prove that A(n) = ... is divisible by 91.\"\n\nSo the problem statement is taken as the directive. So in this case, the original question is \"Is this matrix positive semidefinite?\" which would translate to \"Determine whether the matrix M is positive semidefinite.\" But the example shows that the problem is phrased as a directive to prove. However, since the user is structuring the problem from the original question, which is a yes/no question, maybe we should rephrase it to \"Determine whether the matrix M is positive semidefinite.\" However, the example took the original problem (which was a directive) and kept it as a directive. Therefore, perhaps the correct approach here is to rephrase the yes/no question into a directive. For example, if the original question is \"Is X true?\", the problem would be \"Prove or disprove X.\" But in the example, the problem was straightforward, so maybe the user expects the problem to be \"Prove that the matrix M is positive semidefinite.\" Given that the IMO problem would be trivially true if M is PSD, implying that M is indeed PSD. Therefore, the problem is to prove M is PSD.\n\nThus, the assumptions are:\n\n- Each x_i is a real number.\n\n- The matrix M is defined by M_{ij} = sqrt(|x_i + x_j|) - sqrt(|x_i - x_j|).\n\nProblem: Prove that the matrix M is positive semidefinite.\n\nBut wait, the original problem says \"Let finite number of x_i's be reals. Define matrix M... Is this matrix positive semidefinite?\" So the assumptions are:\n\n- Let x_1, x_2, ..., x_n be real numbers (finite number).\n\n- Define matrix M such that M_{ij} = sqrt(|x_i + x_j|) - sqrt(|x_i - x_j|).\n\nProblem: Is M positive semidefinite?\n\nBut according to the example, the problem was phrased as \"Prove that...\", even though the original was also \"Prove that...\". So if the original is a question, maybe we need to structure it as \"Prove that...\" if the answer is yes, or \"Prove or disprove...\" if it's unknown. But given that the IMO problem is mentioned, which would follow if M is PSD, it's likely that the answer is yes, so the problem is to prove it.\n\nTherefore, the formatted problem would be:\n\nAssumption:\n\nEach x_i is a real number.\n\nThe matrix M is defined by M_{ij} = sqrt(|x_i + x_j|) - sqrt(|x_i - x_j|).\n\nProblem:\n\nProve that the matrix M is positive semidefinite.\n\nAlternatively, if the original problem is a yes/no question, the problem statement would be \"Is the matrix M positive semidefinite?\" But following the example, which turned the original problem (which was a statement to prove) into a \"Prove that...\" problem, I think here, since the original problem is a question, the problem statement should be \"Determine whether the matrix M is positive semidefinite.\" However, the user's example didn't have such a case. Alternatively, maybe the user just wants to extract the problem as is, so if the original problem is a question, the problem statement is the same. But the example's original problem was a \"Prove that...\", so the formatted problem was \"Prove that...\". Here, the original problem is \"Is this matrix...\", so the problem would be \"Is the matrix M positive semidefinite?\" But according to the example, the problem is a directive. Hmm, this is a bit ambiguous.\n\nWait, looking back at the user's instructions: \"structure that problem as the following format.\" The example took a problem that said \"Prove that...\" and kept it as \"Prove that...\" in the problem section. The user's task is to read the mathematics question on Math Stack Exchange, filter the unrelated information, and structure that problem as the given format. The example includes an assumption section and a problem section. The assumption lists the conditions, and the problem is the actual question.\n\nGiven that, the original question here is \"Is this matrix positive semidefinite? M_ij = ... where x_i's are reals.\" So the assumptions are that x_i are reals, and M is defined as such. The problem is the yes/no question. But in the example, the problem was a statement to prove. So perhaps the user wants the problem section to be the question, so \"Is the matrix M positive semidefinite?\" But the example didn't use a question mark. Wait, in the example, the problem was \"Prove that ... is divisible by 91.\" So the problem is a directive. Therefore, maybe in this case, since the original problem is a question, the problem should be phrased as \"Determine whether the matrix M is positive semidefinite.\" But I'm not sure. Alternatively, the problem could be \"Is the matrix M positive semidefinite?\" with a question mark, but the example used a period. Hmm.\n\nAlternatively, perhaps the problem is to prove that it is positive semidefinite, given the context of the IMO problem. The user mentions that the IMO problem would be trivially true if M is PSD. So the answer is yes, and the problem is to prove it. Therefore, the problem statement is \"Prove that the matrix M is positive semidefinite.\"\n\nBut the original question is \"Is this matrix positive semidefinite?\", which is a yes/no question, but the user also provides the IMO problem, which is an inequality. However, the task is to structure the problem from the Math Stack Exchange question, which is the matrix question, not the IMO problem. The IMO problem is mentioned as motivation but isn't the main problem here. So the main problem is about the matrix.\n\nTherefore, the correct structure is:\n\nAssumption:\n\n- Each x_i is a real number.\n\n- The matrix M is defined by M_{ij} = sqrt(|x_i + x_j|) - sqrt(|x_i - x_j|).\n\nProblem:\n\nDetermine whether the matrix M is positive semidefinite.\n\nAlternatively, if following the example where the problem was a statement to prove, and given that the answer is affirmative (since the IMO problem would follow), the problem could be \"Prove that the matrix M is positive semidefinite.\"\n\nBut to strictly follow the original question's phrasing, which is a question, maybe it's better to write \"Is the matrix M positive semidefinite?\" However, the example's problem was a directive, not a question. The example's original problem was a directive (\"Prove that...\"), so the formatted problem was the same. Here, the original problem is a question, so perhaps the problem should be phrased as a question. But the example shows that the problem is a statement to prove. This is a bit conflicting.\n\nWait, the user says: \"structure that problem as the following format.\" The example has the problem as a statement to prove, even though the original problem was a statement. So in this case, if the original problem is a question, perhaps the problem should be phrased as a question. But the example didn't have a question, it had a directive. Therefore, perhaps the user wants the problem to be phrased as a directive, even if the original is a question. So in this case, \"Prove or disprove that the matrix M is positive semidefinite.\" But since the user mentions the IMO problem would be trivially true if M is PSD, implying that M is PSD, so maybe the problem is to prove it. Therefore, the problem is \"Prove that the matrix M is positive semidefinite.\"\n\nBut I need to make sure. Let me recheck the user's instruction: \"read the mathematics question on Math Stack Exchange, filtered the unrelated informations, and structure that problem as the following format.\" The example's original problem was a \"Prove that...\", so the formatted problem was \"Prove that...\". Here, the original problem is \"Is this matrix...\", so the formatted problem would be \"Is this matrix...\". But the example didn't use a question mark. Wait, the example's problem was \"Prove that ... is divisible by 91.\" So it's a statement. So perhaps in this case, the problem should be phrased as a statement: \"Determine whether the matrix M is positive semidefinite.\" But the example's problem was a directive. Alternatively, maybe the problem should be \"Prove that the matrix M is positive semidefinite,\" assuming the answer is yes. But to be accurate to the original question, which is a question, perhaps it's better to keep it as a question. However, the example's format uses a statement. The user's example problem ends with a period, not a question mark. Therefore, to follow the format, even if the original is a question, it should be rephrased as a directive or statement.\n\nAlternatively, maybe the user's example was a \"Prove that...\" because the original problem was a \"Prove that...\". Here, the original is a question, so the problem should be \"Determine whether the matrix M is positive semidefinite.\" But the example didn't have such a case. This is ambiguous. Since the user hasn't provided an example of a yes/no question, but only a directive example, perhaps they expect the problem to be phrased as a directive. However, since the answer isn't necessarily known to the person structuring the problem, perhaps the correct approach is to keep it as a question. But the example's format uses a statement. Given the ambiguity, I think the safest approach is to follow the original problem's phrasing but convert it into a directive if possible. Given that the IMO problem is mentioned, which would be true if M is PSD, the problem is likely to be proven as PSD. Therefore, the problem is \"Prove that the matrix M is positive semidefinite.\"\n\nTherefore, the final answer should have:\n\nAssumption:\n\n- Each x_i is a real number.\n\n- The matrix M is defined by M_{ij} = sqrt(|x_i + x_j|) - sqrt(|x_i - x_j|).\n\nProblem:\n\nProve that the matrix M is positive semidefinite.\n\nAlternatively, if the problem is to determine, it's \"Determine whether the matrix M is positive semidefinite.\" But since the example used \"Prove that...\", I think the user wants it as a directive. Hence, I will go with \"Prove that the matrix M is positive semidefinite.\"",
    "Original_Problem": "Assumption: \nEach $x_i$ is a real number,\nThe matrix $M$ is defined by $M_{ij} = \\sqrt{|x_i + x_j|} - \\sqrt{|x_i - x_j|}$.\nProblem: \nProve that the matrix $M$ is positive semidefinite.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: Each $x_i$ is a real number,\nAssumption 2: The matrix $M$ is defined by $M_{ij} = \\sqrt{|x_i + x_j|} - \\sqrt{|x_i - x_j|}$.\nProblem: \nProve that the matrix $M$ is positive semidefinite.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$\\mathbf{w} \\in \\mathbb{R}^n_{\\ge 0}$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: Each $x_i$ is a real number,\nAssumption 2: The matrix $M$ is defined by $M_{ij} = \\sqrt{|x_i + x_j|} - \\sqrt{|x_i - x_j|}$.\nAssumption 3: $\\mathbf{w} \\in \\mathbb{R}^n_{\\ge 0}$\nProblem: \nProve that the matrix $M$ is positive semidefinite."
}