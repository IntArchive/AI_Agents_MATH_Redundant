{
    "Link_API": "https://api.stackexchange.com/2.3/questions/155429",
    "Title": "Existence of the Pfaffian?",
    "Score": 18,
    "Category": "Chứng minh",
    "Tags": "linear-algebra, matrices, pfaffian, skew-symmetric-matrices",
    "Link": "https://math.stackexchange.com/questions/155429/existence-of-the-pfaffian",
    "Content": "Consider a square skew-symmetric $n\\times n$ matrix $A$. We know that $\\det(A)=\\det(A^T)=(-1)^n\\det(A)$, so if $n$ is odd, the determinant vanishes. If $n$ is even, my book claims that the determinant is the square of a polynomial function of the entries, and Wikipedia confirms this. The polynomial in question is called the Pfaffian . I was wondering if there was an easy (clean, conceptual) way to show that this is the case, without mucking around with the symmetric group.",
    "AcceptedAnswer": "Here is an elaboration of Qiaochu's comment above: A $2n\\times 2n$ matrix $A$ induces a pairing (say on column vectors), namely\n$$\\langle v,w \\rangle := v^T A w.$$\nThus we can think of $A$ as being an element of $(V\\otimes V)^*$ (which is\nthe space of all bilinear pairings on $V$), where $V$ is the space of $2n$-dimensional column vectors. If $A$ is skew-symmetric, then this pairing is anti-symmetric, and so we can actually regard $A$ as an element of $\\wedge^2 V^*$.  We can then take the $n$th exterior power of $A$, so as to obtain an element of $\\wedge^{2n} V^*$.  This latter space is $1$-dimensional, and so if we fix some appropriately normalized basis for it, the $n$th exterior power of $A$ can be thought of just as a number.  This is the Pfaffian of $A$ (provided we chose the right basis for $\\wedge^{2n} V^*$). How does this compare to the usual description of determinants via exterior powers: For this, we regard $A$ as an endomorphism $V \\to V$, which induces an endomorphism $\\wedge^{2n} V \\to \\wedge^{2n} V$, which is a scalar (being an endomorphism of a $1$-dimensional space); this is $\\det A$. So now we see where the formula $\\det(A) =$ Pf$(A)^2$ comes from: computing the determinant involves taking a $2n$th exterior power of $A$, while computing the Pfaffian involves only taking an $n$th exterior power (because we use the skew-symmetry of $A$ to get an exterior square \"for free\", so to speak). The  sorting out the details of all this should be a fun exercise.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$A$ is a square skew-symmetric matrix of size $n \\times n$,\n$n$ is an even integer.\nProblem: \nShow that $\\det(A)$ is the square of a polynomial in the entries of $A$ (i.e., the Pfaffian exists).\n###END_OF_FORMAT###\n\n---\n\n**Assumptions Clarified:**  \n1. The matrix $A$ satisfies $A^T = -A$ (skew-symmetric).  \n2. The dimension $n$ is even.  \n\n**Key Steps for Proof (Conceptual):**  \n1. **Canonical Block Diagonalization:** Every skew-symmetric matrix $A$ can be transformed via congruence (basis change) into a block diagonal matrix with $2 \\times 2$ blocks of the form $\\begin{pmatrix} 0 & \\lambda_i \\\\ -\\lambda_i & 0 \\end{pmatrix}$.  \n2. **Determinant as Product:** $\\det(A) = \\prod_{i=1}^{n/2} (\\lambda_i^2) = \\left( \\prod_{i=1}^{n/2} \\lambda_i \\right)^2$.  \n3. **Polynomial Nature:** The entries of the transformation matrix $P$ (used in congruence) depend polynomially on the entries of $A$, ensuring that $\\prod_{i=1}^{n/2} \\lambda_i$ is a polynomial in the entries of $A$. This polynomial is the Pfaffian, $\\text{Pf}(A)$.  \n\nThis avoids explicit permutation-based constructions and leverages structural properties of skew-symmetric matrices.",
    "reasoning_create_structured_problem": "Okay, let me try to work through this problem. The user is asking about the existence of the Pfaffian for a skew-symmetric matrix, specifically why the determinant of such a matrix is the square of a polynomial in its entries when the size n is even. They want a clean, conceptual approach without delving into the symmetric group stuff.\n\nFirst, I need to recall what a skew-symmetric matrix is. It's a square matrix A where A^T = -A. So all the diagonal entries must be zero, and the entries below the diagonal are the negatives of those above. For such matrices, when n is odd, the determinant is zero because det(A) = det(A^T) = det(-A) = (-1)^n det(A). If n is odd, then (-1)^n is -1, leading to det(A) = -det(A), which implies det(A) = 0. But when n is even, the determinant is a perfect square of some polynomial, the Pfaffian.\n\nThe question is why this determinant is a square. The user mentions that their book and Wikipedia state this, but they want an intuitive or conceptual proof. The challenge is to avoid the messy combinatorial arguments involving the symmetric group, which is the usual approach in defining the Pfaffian via permutations and perfect matchings.\n\nSo, thinking of alternative approaches. Maybe there's a way to use properties of skew-symmetric matrices. For instance, such matrices can be brought into a block diagonal form via orthogonal transformations, with each block being a 2x2 skew-symmetric matrix. The determinant would then be the product of the determinants of these blocks. Each 2x2 block has determinant (a_{ij})^2, so the product would be the square of the product of the a_{ij} terms. But does this work for all even n?\n\nWait, the canonical form for skew-symmetric matrices is such that they can be written as block diagonal matrices with blocks [0 a; -a 0] along the diagonal when the field is algebraically closed. The determinant of the entire matrix would then be the product of the determinants of each block. Each 2x2 block contributes a^2, so the product is (a1^2)(a2^2)...(ak^2) = (a1a2...ak)^2. Hence, the determinant is the square of the product of the a_i's. This product of a_i's would be the Pfaffian. But this relies on the existence of such a canonical form, which might not be straightforward to prove without some linear algebra machinery.\n\nAlternatively, perhaps using exterior algebras. The determinant is related to the top exterior power, and the Pfaffian could be related to a square root in some sense. For a skew-symmetric matrix, the associated bilinear form is alternating, and in even dimensions, there might be a way to take a \"square root\" of the volume form, leading to the Pfaffian. But this might be too abstract for someone looking for a clean proof.\n\nAnother approach: induction. Suppose for n=2, the determinant is (a_{12})^2, so Pfaffian is a_{12}. Assume for n-2, then try to build up. But induction might require some recursive formula for the Pfaffian, which again could be part of the standard theory but perhaps not the conceptual proof desired.\n\nWait, the user wants to show that the determinant is a square of some polynomial, not necessarily constructing the Pfaffian explicitly. Maybe using the fact that skew-symmetric matrices have even rank, so when n is even, if the matrix is non-degenerate, then the determinant should be a square. But how?\n\nAlternatively, consider the polynomial ring in the entries of A, and the determinant as a polynomial in these variables. Since the determinant of a skew-symmetric matrix of even size is a square in the polynomial ring, it suffices to show that it's a square in the field of fractions, then use Gauss's lemma to bring it back. But why is it a square in the field of fractions?\n\nAlternatively, consider that when you have a skew-symmetric matrix, the determinant is a square because the matrix can be decomposed into a product of elementary skew-symmetric matrices, and each contributes a linear term, so the product's determinant is the square of their product. Not sure.\n\nWait, another idea: the determinant of a skew-symmetric matrix is a square because the adjugate matrix satisfies certain properties. For a skew-symmetric matrix A, when n is even, the adjugate matrix might also be skew-symmetric, and perhaps (adj A) = (Pf A) * something. Not sure.\n\nAlternatively, think about the Grassmannian. The Pfaffian could be related to the volume form on a certain space, but that might be too advanced.\n\nHmm, perhaps the simplest way is to use the fact that any skew-symmetric matrix can be written as A = P^T J P, where J is the standard symplectic matrix (block diagonal with [0 1; -1 0] blocks). Then det(A) = det(P)^2 det(J) = det(P)^2, since det(J) for each block is 1. Then the determinant is the square of det(P), but det(P) is a polynomial in the entries of P, which are related to the entries of A. Wait, but how does that relate directly to A's entries? This approach might involve showing that such a P exists, which is part of the theory but might require too much setup.\n\nAlternatively, since the determinant is a square in the case of the standard symplectic matrix, and since any two skew-symmetric matrices are related by congruence transformations (changing basis), the determinant would transform by a square factor (det(P)^2), so if it's a square for one matrix in each congruence class, then it's a square for all. But this is vague.\n\nAnother angle: The determinant of a skew-symmetric matrix is the square of the Pfaffian, which is a polynomial. To show that such a polynomial exists, perhaps use the fact that the determinant is a square in the polynomial ring. Since the determinant is irreducible? Wait, no. If the determinant factors into two polynomials, then each must be the Pfaffian. But why is the determinant a square?\n\nAlternatively, consider the variety of skew-symmetric matrices with determinant zero. If the determinant is not a square, then this variety would be irreducible. But for skew-symmetric matrices, the rank is always even, so the variety of matrices with rank ≤ 2k is singular along the matrices with rank < 2k. Not sure.\n\nWait, maybe using the fact that the determinant of a skew-symmetric matrix of even order is a square in the ring of polynomials. Since when you evaluate the determinant at any point (entries of the matrix), it's a square, then the polynomial must be a square. But how does that follow? If a polynomial f in several variables is such that f evaluated at every point is a square, does that imply f is a square of a polynomial? Not necessarily. For example, f(x) = x is not a square, but over a field where every element is a square, but in general, no. But over the complex numbers, maybe. Wait, but the entries can be from any field, or is the question over the reals? The question doesn't specify, so maybe over a field of characteristic not 2.\n\nBut perhaps, in the polynomial ring, if a polynomial is a square in the field of fractions, and it's a square when evaluated at enough points, then it's a square in the ring. But I need to recall Gauss's lemma: if a polynomial factors over the field of fractions, and the polynomial is primitive, then it factors over the polynomial ring. So if the determinant is a square in the field of fractions, then it's a square in the polynomial ring. So why is the determinant a square in the field of fractions?\n\nAlternatively, consider that the determinant is a square in the polynomial ring because there exists a polynomial (the Pfaffian) such that Pf(A)^2 = det(A). So if we can show that Pf(A) exists, then we are done. But the user wants to show existence without going through the symmetric group.\n\nWait, maybe using induction on the size n. For n=2, the Pfaffian is a_{12}, and determinant is a_{12}^2. Suppose true for n-2. Then for n, perform some expansion. But the usual induction for Pfaffian involves expanding along a row, which might get complicated.\n\nAlternatively, use exterior algebra. The determinant of a skew-symmetric matrix can be seen as the square of a volume form. For a vector space V of dimension n, the top exterior power Λ^n V is 1-dimensional. But for a skew-symmetric matrix, which corresponds to an element of Λ^2 V, the determinant might relate to Λ^{n/2} V if n is even. So maybe the Pfaffian is the image under some isomorphism Λ^{n/2} V → Λ^0 V, but this is quite abstract.\n\nAlternatively, consider the following: the determinant is a polynomial in the entries of A, and when restricted to skew-symmetric matrices, it must be a square. To see why, note that changing the basis by an orthogonal matrix P, the determinant transforms as det(P^T A P) = det(A). If we can diagonalize (or block-diagonalize) A into blocks, then the determinant is the product of the determinants of the blocks, each of which is a square, so the product is a square. But this requires proving that such a block diagonalization exists, which might be the same as the canonical form.\n\nAlternatively, think of the determinant as a square because the eigenvalues of a skew-symmetric matrix come in pairs ±iλ, so the determinant is the product of (iλ)(-iλ) = λ² for each pair, hence the product of λ² terms, which is the square of the product of λ's. But this is over the complex numbers, and the Pfaffian would then be the product of λ's, but how does this relate to the entries of A being polynomials? Also, this approach requires moving to the complex field and using eigenvalues, which might not give a polynomial proof.\n\nHmm. The user wants a clean, conceptual way. Maybe the best approach is to use the fact that the ring of polynomials is a unique factorization domain, and the determinant is irreducible. Wait, but the determinant of a skew-symmetric matrix when n is even might factor into two copies of the same irreducible polynomial, hence being a square. But why is the determinant irreducible? Maybe not necessarily. For example, when n=2, the determinant is a_{12}^2, which is reducible. But for higher n, maybe the determinant factors into the square of the Pfaffian. But to show that, we need to argue that the determinant factors as a square, perhaps by showing that the variety defined by det(A)=0 is singular along the locus where the Pfaffian vanishes, implying that the polynomial det(A) has a double root there. But this is getting into algebraic geometry, which might be beyond the desired level.\n\nAlternatively, use invariant theory. The Pfaffian is an invariant under the action of the symplectic group, and the determinant is the square of this invariant. But this might require more advanced theory.\n\nAlternatively, think about the minors. For a skew-symmetric matrix, the principal minors might have some relationship that allows the determinant to be expressed as a square. But I'm not sure.\n\nWait, here's another thought. For a skew-symmetric matrix of even size, the determinant can be expressed as a perfect square because the matrix can be decomposed into a sum of rank 2 skew-symmetric matrices, and each such matrix's square contributes to the determinant. But I don't see how that directly leads to the square.\n\nAlternatively, consider that for any even n, the determinant is a square because there's a bijection between terms in the Pfaffian squared and the determinant. But this is the usual combinatorial approach involving perfect matchings, which the user wants to avoid.\n\nHmm. It seems like most approaches either require some linear algebra decomposition (like the block diagonal form), which might be considered \"clean\" if you know the theorem, or they delve into exterior algebra or invariant theory, which might be too abstract. The eigenvalues approach is over complex numbers but doesn't construct the polynomial.\n\nPerhaps the most straightforward conceptual approach is to use the canonical block diagonal form. If we can show that every skew-symmetric matrix can be transformed into a block diagonal form with 2x2 blocks via congruence (i.e., A = P^T J P, where J is the block diagonal matrix), then det(A) = det(P)^2 det(J) = (det(P))^2, since det(J) = 1. Therefore, det(A) is the square of det(P). But det(P) is a polynomial in the entries of P, which are related to the entries of A through the congruence transformation. However, this requires showing that such a P exists, which is non-trivial and might be part of the theory of skew-symmetric matrices. But if we can accept that such a P exists (like the Jordan canonical form but for skew-symmetric matrices), then det(A) is a square of a polynomial in the entries of A, which is the Pfaffian.\n\nBut the problem is that constructing P would involve a change of basis, and entries of P might not be polynomials in the entries of A. In fact, they might involve square roots or fractions. So this approach might not directly show that det(A) is a square of a polynomial in the entries of A, unless we can argue that det(P) is indeed a polynomial in A's entries.\n\nAlternatively, maybe the block diagonal form is only valid over a field where certain conditions hold, like algebraically closed, but the problem is general.\n\nAlternatively, note that the determinant of a skew-symmetric matrix is a square in the polynomial ring because when you specialize the variables to any specific skew-symmetric matrix (over an algebraically closed field), the determinant becomes a square. Then, using the fact that if a polynomial is a square when evaluated at all points, then it's a square in the polynomial ring. But this is not true in general. For example, over finite fields, there are polynomials that vanish everywhere but are not zero. However, over an infinite field like the complex numbers, if a polynomial vanishes at all points, it must be the zero polynomial. But if a polynomial is a perfect square at every point, is it necessarily a perfect square? Yes, I think so. For example, suppose f is a polynomial in variables x_1,...,x_m over C such that for every substitution x_i = a_i ∈ C, f(a_1,...,a_m) is a square in C. Then f must be a square in C[x_1,...,x_m]. Because, if not, then factor f into irreducibles. If it's not a square, then there's some irreducible factor with multiplicity 1. But then there exist substitutions where f evaluates to a value with that factor, hence not a square. Therefore, over C, if f is always a square when evaluated, then f must be a square as a polynomial. Since skew-symmetric matrices over C have determinant that's a square (as per eigenvalues or canonical form), then det(A) must be a square in the polynomial ring. Hence, there exists a polynomial Pf such that Pf^2 = det(A). This would be a conceptual approach, using that over C, the determinant is always a square, hence it's a square in the polynomial ring. Then by Gauss's lemma, since the determinant is a square in C[x_ij], it's a square in Z[x_ij], hence the coefficients are integers, which would give the Pfaffian with integer coefficients. This approach might be considered clean and conceptual, relying on the fact that if a polynomial is a square when evaluated everywhere, it's a square in the polynomial ring, over an algebraically closed field. However, this requires the field to be algebraically closed, but the original problem doesn't specify the field. However, the determinant being a square in the polynomial ring over integers (or any coefficient ring) might follow from this.\n\nBut I need to verify this argument. Suppose we work over an algebraically closed field of characteristic not 2. For any skew-symmetric matrix A with n even, det(A) is a square in the field. Therefore, the polynomial det(A) in the entries of A is a square in the polynomial ring. Because if a polynomial f in variables x_1,...,x_m over an algebraically closed field K is such that f(a) is a square in K for all a in K^m, then f is a square in K[x_1,...,x_m]. Why? Suppose f is not a square. Then in its factorization into irreducibles, there's at least one irreducible factor with an odd exponent. Let’s say f = g^2 h where h is square-free and not 1. Then there exists some point a where h(a) ≠ 0. Since K is algebraically closed, h(a) is a square only if h is a constant, which contradicts h being square-free and non-constant. Wait, maybe this needs more careful thought.\n\nAlternatively, use the fact that the set of squares in K[x_1,...,x_m] is the same as the set of polynomials all of whose monomials have even exponents. No, that's not true. For example, (x + y)^2 = x² + 2xy + y², which includes mixed terms.\n\nAlternatively, use the fact that the ring K[x_1,...,x_m] is a UFD. If f is not a square, then it has a prime factor with odd multiplicity. Then, there exists a point where that prime factor doesn't vanish, leading to f evaluated at that point having a prime factor with odd multiplicity, hence not a square. Therefore, if f is a square at all points, it must be a square in the polynomial ring.\n\nYes, this seems right. Therefore, over an algebraically closed field, if a polynomial is a square when evaluated at every point, then the polynomial itself is a square. Hence, since for any skew-symmetric matrix of even size, det(A) is a square (by the canonical form or eigenvalue argument), then det(A) must be the square of a polynomial in the entries of A. This gives the existence of the Pfaffian as a polynomial. This is a conceptual algebraic geometry argument, leveraging the properties of polynomials over algebraically closed fields. However, this approach requires knowledge of algebraic geometry and might not be what the user considers \"clean\" without mucking around with the symmetric group.\n\nAlternatively, cite the fact that the determinant of a skew-symmetric matrix is a square in the polynomial ring because it's invariant under the action of the symplectic group, and the only invariant of degree n/2 is the Pfaffian. But this is again advanced.\n\nIn summary, the cleanest conceptual argument without delving into the symmetric group might be to use the canonical block diagonal form for skew-symmetric matrices, leading to the determinant being the product of squares of the Pfaffians of the blocks, hence the overall determinant is a square. However, proving the existence of such a canonical form requires some linear algebra machinery, which might be considered \"mucking around\", but perhaps less so than the symmetric group approach.",
    "Original_Problem": "Assumption: \n$A$ is a square skew-symmetric matrix of size $n \\times n$,\n$n$ is an even integer.\nProblem: \nShow that $\\det(A)$ is the square of a polynomial in the entries of $A$ (i.e., the Pfaffian exists).",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $A$ is a square skew-symmetric matrix of size $n \\times n$,\nAssumption 2: $n$ is an even integer.\nProblem: \nShow that $\\det(A)$ is the square of a polynomial in the entries of $A$ (i.e., the Pfaffian exists).",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\\langle v,w \\rangle := v^T A w.$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $A$ is a square skew-symmetric matrix of size $n \\times n$,\nAssumption 2: $n$ is an even integer.\nAssumption 3: $$\\langle v,w \\rangle := v^T A w.$$\nProblem: \nShow that $\\det(A)$ is the square of a polynomial in the entries of $A$ (i.e., the Pfaffian exists)."
}