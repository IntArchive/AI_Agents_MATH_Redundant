{
    "Link_API": "https://api.stackexchange.com/2.3/questions/3794380",
    "Title": "Show that an increasing function has derivative $0$ a.e.",
    "Score": 13,
    "Category": "Chứng minh",
    "Tags": "probability, measure-theory, radon-nikodym",
    "Link": "https://math.stackexchange.com/questions/3794380/show-that-an-increasing-function-has-derivative-0-a-e",
    "Content": "Let $0<p<1$ and define $F:[0,1]\\rightarrow[0,1]$ by $$F(x)=\\begin{cases}\npF(2x),&x\\in\\left[0,\\frac12\\right]\\\\\np+qF(2x-1),&x\\in\\left[\\frac12,1\\right]\n\\end{cases}$$ where $q=1-p$ .  I would like to prove that $F'(x)=0$ a.e. I am working my way through \"How to Gamble If You Must\" by Kyle Siegerst, which is basically a series of exercises. $F(x)$ is the probability that a gambler starting with a bankroll $0\\leq x\\leq 1$ will reach his target of $1$ if he engages in \"bold play\" in the game of red and black.  When his bankroll is $\\leq\\frac12$ he bets it all, winning the amount bet with probability $p$ , and losing it with probability $q$ .  When his bankroll is $>\\frac12$ , he bets just enough to reach the target, that is, $1-x$ . In the exercises, I have shown that there is a unique function $F$ satisfying the functional equation above, and that it is continuous and strictly increasing.  Following exercise $33$ , the author remarks that when $p\\neq\\frac12$ , $F'(X)=0$ a.e., so that $F$ is a devil's staircase.  I have been trying to prove this statement.  (I know that an increasing function is differentiable a.e.  It's the value that I'm having trouble with.) Vague $50$ -year-old memories of measure theory have led me to Proposition 3.31 in Folland's \"Real Analysis\", to wit If $F\\in NBV, \\text{ then }F\\in L^1(m).$ Moreover, $\\mu_F\\perp m \\text{ iff } F' =0$ a.e., and $\\mu_F \\ll m \\text{ iff } F(x)=\\int_{-\\infty}^xF'(t)dt. $ Here $m$ is Lebesgue measure, and a.e. is with respect to Lebesgue measure. $\\mu_F$ is the Borel measure defined by $\\mu_F([a,b])=F(b)-F(a)$ .  Folland uses $NBV$ to mean that $F$ is of bounded variation, $F(-\\infty)=0$ and $F$ is right continuous.  This is no problem, as we can extend $F$ to $\\mathbb{R}$ by defining $F(x)=0$ for $x<0$ and $F(x)=1$ for $x>1$ . So it seems to come down to showing $\\mu_F\\perp m$ .  This means that there is an $E\\subset[0,1]$ with $m(E)=0$ and $\\mu_F(E)=1$ if I'm not mistaken.  I don't see how to prove this.  Indeed it doesn't seem at all likely to me, so I must misunderstand something. In exercise 29, I proved that $$F(x)=\\sum_{n=1}^\\infty p_{x_1}\\cdots p_{x_{n-1}}px_n$$ where $x_i$ is bit number $i$ of $x$ , and $p_0=p,\\ p_1=q$ .  (When $x$ is a dyadic rational, we take the terminating representation.)   If we represent wins by $1$ and losses by $0$ , this means that the gambler reaches the goal if and only if the first time a bit in his bankroll matches the corresponding game bit, those bits are both $1$ .  This is the most concrete representation of $F$ in the paper, but I don't see how it helps. Can you cast any light on this for me?",
    "AcceptedAnswer": "First note that $F$ is the cdf of the random variable $X:=\\sum_1^{\\infty} 2^{-n} \\xi_n$ where the $\\xi_n$ are i.i.d. Bernoulli $(p)$ random variables. Indeed, it is clear that that $X = \\frac12\\xi_1+\\frac12 Y$ , where $Y$ has the same distribution as $X$ and is independent of $\\xi_1$ . This gives the relation $$P(X\\le x) = P(X\\le x|\\xi_1=0)P(\\xi_1=0)+P(X \\le x|\\xi_1=1)P(\\xi_1=1) $$ $$= (pP(Y\\leq 2x)+q\\cdot 0)1_{\\{x \\le 1/2\\}} + (p\\cdot 1 +qP(Y\\leq 2x-1))1_{\\{x >1/2\\}},$$ which is exactly the relation for $F$ . Now note by the strong law of large numbers that $X$ is supported on the set of real numbers whose binary expansion has asymptotic density $p$ of $1$ 's (or equivalently, has asymptotic density $q$ of $0$ 's). But the set of all such real numbers has Lebesgue measure zero. Indeed, if we uniformly sample a real number from $[0,1]$ , then its binary digits are i.i.d. Bernoulli $(1/2)$ , thus almost surely the asymptotic density of $1$ 's is $1/2$ , not $p$ . We conclude that the law of $X$ is singular with respect to Lebesgue measure, which is equivalent to the condition that $F'=0$ a.e..",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$0 < p < 1$,\n$p \\neq \\frac{1}{2}$,\n$F: [0,1] \\rightarrow [0,1]$,\nFor $x \\in \\left[0, \\frac{1}{2}\\right]$, $F(x) = pF(2x)$,\nFor $x \\in \\left[\\frac{1}{2}, 1\\right]$, $F(x) = p + qF(2x - 1)$ where $q = 1 - p$,\n$F$ is continuous,\n$F$ is strictly increasing,\n$F$ is the unique solution to the functional equation.\nProblem: \nProve that $F'(x) = 0$ almost everywhere.\n###",
    "reasoning_create_structured_problem": "Okay, let's tackle this problem step by step. The user wants to show that an increasing function F has a derivative of zero almost everywhere. The function F is defined piecewise with different expressions on [0, 1/2] and [1/2, 1], involving parameters p and q where q=1-p. They've already established that F is continuous, strictly increasing, and unique. Now, they need to prove F’(x)=0 a.e.\n\nFirst, I need to parse the problem and extract the essential assumptions and the core problem. The original question mentions several things: the definition of F, that p is between 0 and 1, q=1-p, F is part of a gambling problem, some functional equations, and references to measure theory concepts. But the key is to filter out the unnecessary details.\n\nThe problem statement is about proving F’(x) = 0 almost everywhere. The assumptions should include the definition of F, the constraints on p, and properties of F (continuous, strictly increasing). The user also mentions that they extended F to the real line, but maybe that's part of their approach rather than an assumption. The functional equation definition of F is crucial here.\n\nLooking at the example provided, the formatted problem lists each assumption line by line. So for this case:\n\nAssumptions:\n- 0 < p < 1\n- F: [0,1] → [0,1] is defined piecewise as given\n- q = 1 - p\n- F is continuous\n- F is strictly increasing\n\nProblem: Prove that F’(x) = 0 almost everywhere.\n\nBut wait, the problem mentions that when p ≠ 1/2, F’(x) = 0 a.e. So maybe the assumption should include that p ≠ 1/2? The original problem says \"when p ≠ 1/2\", so that's a crucial condition. The user is working through that case. So in the assumptions, we need to include that p ≠ 1/2.\n\nAlso, the function F is defined recursively, so the definition via the functional equation is an assumption. The fact that F is the unique solution to that functional equation, continuous, and strictly increasing are all given conditions. The problem is to prove the derivative is zero a.e.\n\nSo putting it all together, the assumptions are:\n\n- 0 < p < 1\n- p ≠ 1/2\n- F: [0,1] → [0,1] is defined by the given piecewise function with q = 1 - p\n- F is continuous\n- F is strictly increasing\n- F is the unique function satisfying the functional equation\n\nBut the example provided in the user's instruction had each assumption as a single line, each addressing one property. So maybe split these into separate lines.\n\nAssumption:\n0 < p < 1,\np ≠ 1/2,\nF is a function from [0,1] to [0,1],\nF(x) is defined by the given piecewise function for x in [0,1/2] and x in [1/2,1],\nq = 1 - p,\nF is continuous,\nF is strictly increasing,\nF is the unique solution to the functional equation.\n\nProblem: Prove that F’(x) = 0 almost everywhere.\n\nBut perhaps some of these can be combined. For instance, the definition of F includes the piecewise function and q = 1 - p. However, according to the example, each assumption should be a single line, so each condition on separate lines. Let me check the example again:\n\nIn the example, the assumptions were:\n\n- n is an integer,\n- n is divisible by 7.\n\nSo each line is a separate condition. So here, similarly, each condition should be separate.\n\nTherefore, the formatted problem would be:\n\nAssumption:\n0 < p < 1,\np ≠ 1/2,\nF: [0,1] → [0,1],\nF(x) = pF(2x) for x ∈ [0, 1/2],\nF(x) = p + qF(2x - 1) for x ∈ [1/2, 1],\nq = 1 - p,\nF is continuous,\nF is strictly increasing,\nF is the unique function satisfying the functional equation.\n\nProblem: Prove that F’(x) = 0 almost everywhere.\n\nBut maybe \"F is the unique function...\" is part of the problem's given info. The user states they have already proven uniqueness, continuity, and strict monotonicity, so those are given conditions for the current problem.\n\nYes, the problem says \"I have shown that there is a unique function F satisfying the functional equation above, and that it is continuous and strictly increasing.\" So those are established facts, hence part of the assumptions.\n\nThus, in the formatted problem, the assumptions should include all these properties. The problem is to prove the derivative is zero a.e.\n\nTherefore, the final formatted problem would be as above.",
    "Original_Problem": "Assumption: \n$0 < p < 1$,\n$p \\neq \\frac{1}{2}$,\n$F: [0,1] \\rightarrow [0,1]$,\nFor $x \\in \\left[0, \\frac{1}{2}\\right]$, $F(x) = pF(2x)$,\nFor $x \\in \\left[\\frac{1}{2}, 1\\right]$, $F(x) = p + qF(2x - 1)$ where $q = 1 - p$,\n$F$ is continuous,\n$F$ is strictly increasing,\n$F$ is the unique solution to the functional equation.\nProblem: \nProve that $F'(x) = 0$ almost everywhere.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $0 < p < 1$,\nAssumption 2: $p \\neq \\frac{1}{2}$,\nAssumption 3: $F: [0,1] \\rightarrow [0,1]$,\nAssumption 4: For $x \\in \\left[0, \\frac{1}{2}\\right]$, $F(x) = pF(2x)$,\nAssumption 5: For $x \\in \\left[\\frac{1}{2}, 1\\right]$, $F(x) = p + qF(2x - 1)$ where $q = 1 - p$,\nAssumption 6: $F$ is continuous,\nAssumption 7: $F$ is strictly increasing,\nAssumption 8: $F$ is the unique solution to the functional equation.\nProblem: \nProve that $F'(x) = 0$ almost everywhere.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$P(X\\le x) = P(X\\le x|\\xi_1=0)P(\\xi_1=0)+P(X \\le x|\\xi_1=1)P(\\xi_1=1) $$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $0 < p < 1$,\nAssumption 2: $p \\neq \\frac{1}{2}$,\nAssumption 3: $F: [0,1] \\rightarrow [0,1]$,\nAssumption 4: For $x \\in \\left[0, \\frac{1}{2}\\right]$, $F(x) = pF(2x)$,\nAssumption 5: For $x \\in \\left[\\frac{1}{2}, 1\\right]$, $F(x) = p + qF(2x - 1)$ where $q = 1 - p$,\nAssumption 6: $F$ is continuous,\nAssumption 7: $F$ is strictly increasing,\nAssumption 8: $F$ is the unique solution to the functional equation.\nAssumption 9: $$P(X\\le x) = P(X\\le x|\\xi_1=0)P(\\xi_1=0)+P(X \\le x|\\xi_1=1)P(\\xi_1=1) $$\nProblem: \nProve that $F'(x) = 0$ almost everywhere."
}