{
    "Link_API": "https://api.stackexchange.com/2.3/questions/1462722",
    "Title": "How to prove the second mean value theorem for definite integrals",
    "Score": 12,
    "Category": "Chứng minh",
    "Tags": "definite-integrals",
    "Link": "https://math.stackexchange.com/questions/1462722/how-to-prove-the-second-mean-value-theorem-for-definite-integrals",
    "Content": "It's a variant form of the second mean value theorem. [Theorem] If $f$ is integrable on [a, b], (i) if $g$ is monotonically decreasing on [a, b], and $g(x)\\ge0$, then there exists $e\\in[a,b]$, that$$\n\\int_a^bf(x)g(x)dx=g(a)\\int_a^ef(x)dx\n$$(ii) if $g$ is monotonically increasing on [a, b], and $g(x)\\ge0$, then there exists $e\\in[a,b]$, that$$\n\\int_a^bf(x)g(x)dx=g(b)\\int_e^bf(x)dx\n$$ [Question] My text book gave the proof to (i). A similar approach should do (ii), but I can't prove (ii). Here is the proof to (i). [Proof to (i)] Let $$\n\\begin{align}\nF(x)=\\int_a^xf(t)dt, &&x\\in[a,b]\n\\end{align}\n$$We can know that $F$ is continuous on [a, b], and is bounded, let's say by [m, M]. If $g(a)=0$, then $g(x)\\equiv0$, then (i) is obviously true. So let's assume $g(a)>0$. So proving (i) becomes proving the following,\n$$\n\\begin{align}\nm\\le\\frac 1 {g(a)}\\int_a^bf(x)g(x)dx\\le M &&(1)\n\\end{align}\n$$\nFrom intermediate value theorem for continuous functions, if (1) held, then there exists $e \\in [a,b]$ that\n$$\nF(e)=\\int_a^e f(t)dt=\\frac 1 {g(a)} \\int_a^b f(x)g(x)dx\n$$\nIn this case, (i) is proved.\n(1) is equivalent to$$\n\\begin{align}\nmg(a)\\le\\int_a^bf(x)g(x)dx\\le Mg(a)\n\\end{align}\n$$Now prove this inequality. $f$ is integrable, so $f$ is bounded, let $|f(x)|\\le L$. $g$ is monotonic, so is  integrable. So there exists a split $T:\\ a=x_0<x_1<x_2<...<x_n=b$, for any $\\epsilon>0$ that$$\n\\sum_T \\omega_i^g\\Delta x_i<\\epsilon/L\n$$where $\\omega$ is the oscillation of $g$ on $\\Delta x_i$\n$$\n\\begin{align}\nI &= \\int_a^b f(x)g(x)dx\\\\\n&= \\sum _{i=1}^n\\:\\int _{x_{i-1}}^{x_i}\\left[g\\left(x\\right)-g\\left(x_{i-1}\\right)\\right]f\\left(x\\right)dx+\\sum _{i=1}^ng\\left(x_{i-1}\\right)\\int _{x_{i-1}}^{x_i}f\\left(x\\right)dx\\\\\n&= I_1+I_2\\\\\n|I_1| & \\le \\sum _{i=1}^n\\int _{x_{i-1}}^{x_i}\\left|g\\left(x\\right)-g\\left(x_{i-1}\\right)\\right|\\cdot \\left|f\\left(x\\right)\\right|dx\\\\\n& \\le L\\cdot \\sum _{i=1}^n\\omega _i^g\\Delta x_i\\\\\n& \\le L\\cdot \\frac \\epsilon L = \\epsilon\n\\end{align}\n$$So $I_1$ is negligible. We concentrate on $I_2$. First we should know$$\nS_i=\\int _{x_{i-1}}^{x_i}f\\left(x\\right)dx=\\int _{a}^{x_i}f\\left(x\\right)dx-\\int _{a}^{x_{i-1}}f\\left(x\\right)dx=F(x_i)-F(x_{i-1})\n$$\n$$\n\\begin{align}\nI_2&=\\sum _{i=1}^ng\\left(x_{i-1}\\right)S_i\\\\\n&=\\sum _{i=1}^ng\\left(x_{i-1}\\right)[F(x_i)-F(x_{i-1})]\\\\\n&=g(x_0)[F(x_1)-F(x_0)]+...+g(x_{n-1})[F(x_n)-F(x_{n-1})]\\\\\n&=F\\left(x_1\\right)\\left[g\\left(x_0\\right)-g\\left(x_1\\right)\\right]+...+F\\left(x_{n-1}\\right)\\left[g\\left(x_{n-2}\\right)-g\\left(x_{n-1}\\right)\\right]+F\\left(x_n\\right)g\\left(x_{n-1}\\right)-F(x_0)g(x_0)\\\\\n&=\\sum _{i=1}^{n-1}F\\left(x_i\\right)\\left[g\\left(x_{i-1}\\right)-g\\left(x_i\\right)\\right]+F\\left(b\\right)g\\left(x_{n-1}\\right)-F(a)g(x_0)\\\\\n&=\\sum _{i=1}^{n-1}F\\left(x_i\\right)\\left[g\\left(x_{i-1}\\right)-g\\left(x_i\\right)\\right]+F\\left(b\\right)g\\left(x_{n-1}\\right)\\:\\:\\:\\:\\:\\:\\:\\:\\:(F(a)=0)\n\\end{align}\n$$\n$g(x) \\ge 0$ and monotonically decreasing, so $g(x_{n-1}) \\ge 0,\\ g(x_{i-1})-g(x_i) \\ge 0,\\ i=1,2,...,n-1$. From $F(x_i) \\le M,\\ i=1,2,...,n$, we have\n$$\nI_2 \\le M\\sum _{i=1}^{n-1}\\left[g\\left(x_{i-1}\\right)-g\\left(x_i\\right)\\right]+Mg\\left(x_{n-1}\\right)=Mg\\left(a\\right)\n$$\nSimilarly, from $F(x_i) \\ge m,\\ i=1,2,...,n$, we have $I_2 \\ge mg(a)$. (i) proved. [My effort] To prove (ii), rewrite$$\n\\begin{align}\n&F(x)=\\int_x^b f(t)dt\\\\\n&S_i=\\int _{x_{i-1}}^{x_i}f\\left(x\\right)dx=\\int _{x_{i-1}}^{b}f\\left(x\\right)dx-\\int _{x_i}^{b}f\\left(x\\right)dx=F(x_{i-1})-F(x_i)\n\\end{align}\n$$\nSo\n$$\n\\begin{align}\nI_2&=\\sum _{i=1}^ng\\left(x_{i-1}\\right)\\left[F\\left(x_{i-1}\\right)-F\\left(x_i\\right)\\right]\\\\\n&=g\\left(x_0\\right)\\left[F\\left(x_0\\right)-F\\left(x_1\\right)\\right]+g\\left(x_1\\right)\\left[F\\left(x_1\\right)-F\\left(x_2\\right)\\right]+...+g\\left(x_{n-1}\\right)\\left[F\\left(x_{n-1}\\right)-F\\left(x_n\\right)\\right]\\\\\n&=F\\left(x_1\\right)\\left[g\\left(x_1\\right)-g\\left(x_0\\right)\\right]+F\\left(x_2\\right)\\left[g\\left(x_2\\right)-g\\left(x_1\\right)\\right]+...+F\\left(x_{n-1}\\right)\\left[g\\left(x_{n-1}\\right)-g\\left(x_{n-2}\\right)\\right]-F\\left(b\\right)g\\left(x_{n-1}\\right)\\\\\n&=\\sum _{i=1}^{n-1}F\\left(x_i\\right)\\left[g\\left(x_i\\right)-g\\left(x_{i-1}\\right)\\right]-F\\left(b\\right)g\\left(x_{n-1}\\right)\n\\end{align}\n$$\nNow, I'm stuck. Because it's a subtraction, not a summation, I can' further reduce $I_2$ to $Mg(b)$. Many thanks!",
    "AcceptedAnswer": "(ii) follows from (i) just by changing the orientation of the integration. More specifically, use (i) for $\\tilde{g}(x)=g(a+b-x)$ and $\\tilde{f}(x)=f(a+b-x)$. Note $\\tilde{g}$ is decreasing when $g$ is increasing, applying (i), there is $e'\\in[a,b]$ such that\n$\\int_a^b\\tilde{g}(x)\\tilde{f}(x)dx=\\tilde{g}(a)\\int_a^{e'}\\tilde{f}(x)dx$. So, \n$$\\int_a^b g(a+b-x)f(a+b-x)dx=g(b)\\int_a^{e'}f(a+b-x)dx.$$\nAfter a change of variable $t=a+b-x$, we get \n$$\\int_a^b g(t)f(t)dt=g(b)\\int_{a+b-e'}^bf(t)dt.$$\nHence, $e=a+b-e'$ works.",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: \n$f$ is integrable on $[a, b]$,\n$g$ is monotonically increasing on $[a, b]$,\n$g(x) \\geq 0$ for all $x \\in [a, b]$.\nProblem: \nProve that there exists $e \\in [a, b]$ such that  \n$$\\int_a^b f(x)g(x)dx = g(b) \\int_e^b f(x)dx.$$\n###",
    "reasoning_create_structured_problem": "Okay, so I need to help structure the problem from the Math Stack Exchange question about proving part (ii) of the second mean value theorem for definite integrals. Let me first parse through all the information given.\n\nThe original problem presents two parts of a theorem. Part (i) has already been proven in the user's textbook, and they provided the proof. The user is struggling with part (ii), which is similar but involves a monotonically increasing function g instead of decreasing. The user tried to follow the same approach as part (i) but got stuck because of a subtraction in their expression for I_2, preventing them from bounding it properly.\n\nFirst, I need to filter out the extraneous information. The user included the proof for part (i), their own effort for part (ii), and the specific point where they got stuck. But the core problem to structure is part (ii) of the theorem.\n\nThe theorem states:\n\n(ii) If g is monotonically increasing on [a, b], and g(x) ≥ 0, then there exists e ∈ [a, b] such that the integral from a to b of f(x)g(x)dx equals g(b) times the integral from e to b of f(x)dx.\n\nSo the task is to structure this problem according to the given format. Let me list the assumptions one by one, each addressing a single property or condition applied to one object.\n\nAssumptions:\n\n1. f is integrable on [a, b].\n2. g is monotonically increasing on [a, b].\n3. g(x) ≥ 0 for all x in [a, b].\n\nThese are the three key conditions given in part (ii) of the theorem. The problem is to prove the existence of such an e that satisfies the integral equation.\n\nThe user's own work involved redefining F(x) as the integral from x to b of f(t)dt, which is a different approach from part (i) where F(x) was the integral from a to x. This change likely affects how the terms are summed and bounded. The user ended up with an expression involving subtraction, making it difficult to apply the intermediate value theorem as in part (i).\n\nBut for structuring the problem, the key is to present the assumptions and the problem statement clearly. The user's attempt and the proof details for part (i) are part of the context but not necessary for stating the problem in the required format.\n\nSo, the formatted problem should list each assumption on a separate line and then present the problem statement as given in part (ii).",
    "Original_Problem": "Assumption: \n$f$ is integrable on $[a, b]$,\n$g$ is monotonically increasing on $[a, b]$,\n$g(x) \\geq 0$ for all $x \\in [a, b]$.\nProblem: \nProve that there exists $e \\in [a, b]$ such that  \n$$\\int_a^b f(x)g(x)dx = g(b) \\int_e^b f(x)dx.$$",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: $f$ is integrable on $[a, b]$,\nAssumption 2: $g$ is monotonically increasing on $[a, b]$,\nAssumption 3: $g(x) \\geq 0$ for all $x \\in [a, b]$.\nProblem: \nProve that there exists $e \\in [a, b]$ such that  \n$$\\int_a^b f(x)g(x)dx = g(b) \\int_e^b f(x)dx.$$",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$$\\int_a^b g(a+b-x)f(a+b-x)dx=g(b)\\int_a^{e'}f(a+b-x)dx.$$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: $f$ is integrable on $[a, b]$,\nAssumption 2: $g$ is monotonically increasing on $[a, b]$,\nAssumption 3: $g(x) \\geq 0$ for all $x \\in [a, b]$.\nAssumption 4: $$\\int_a^b g(a+b-x)f(a+b-x)dx=g(b)\\int_a^{e'}f(a+b-x)dx.$$\nProblem: \nProve that there exists $e \\in [a, b]$ such that  \n$$\\int_a^b f(x)g(x)dx = g(b) \\int_e^b f(x)dx.$$"
}