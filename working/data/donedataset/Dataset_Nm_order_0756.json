{
    "Link_API": "https://api.stackexchange.com/2.3/questions/3659431",
    "Title": "Number of ways to stack LEGO bricks",
    "Score": 28,
    "Category": "Chứng minh",
    "Tags": "combinatorics, reference-request, recreational-mathematics, discrete-geometry, statistical-mechanics",
    "Link": "https://math.stackexchange.com/questions/3659431/number-of-ways-to-stack-lego-bricks",
    "Content": "One of the most surprising combinatorial formulas I know of counts the number of LEGO towers built from $n$ \" $1 \\times 2$ \" blocks subject to four rules: The bricks lie in a single plane. Each brick is offset by 1 stud (as in a brick wall). The bottom layer is contiguous. Each brick has at least one brick below it (apart from the bottom layer). Example Formula On page 26 of Miklós Bóna's Handbook of Enumerative Combinatorics , the author states the combinatorial formula (!!): Remarkably there are $3^{n-1}$ domino towers consisting of $n$ bricks. Equally remarkably, no simple bijection is known. The formula was first proven in 1988 by Gouyou-Beauchamps and Viennot . Question While writing up a short essay on this fact, I became interested in what happens when you relax some of the rules. In particular, for the small values I checked on the computer, removing the second rule (\"Each brick is offset by 1 stud\") appears to result in $4^{n-1}$ towers with $n$ bricks. I imagine this result exists in the literature, and I was hoping MSE could help me find it. If it hasn't been written down anywhere, I was hoping for insight for how to adapt Bóna's proof into this new setting.",
    "AcceptedAnswer": "Your result $4^{n-1}$ is correct. Bóna's proof goes through with a single modification. In the last step that counts the half-pyramids, there is one more option: A bottom brick with a half-pyramid on it whose bottom brick is directly on top of the bottom brick. Instead of $H\\cong(H\\times\\bullet\\times H)+(\\bullet\\times H)+\\bullet$ we get $H\\cong(H\\times\\bullet\\times H)+(\\bullet\\times H)+(\\bullet\\times H)+\\bullet$ , thus $H=xH^2+2xH+x$ , and then \\begin{eqnarray}\nP\n&=&\n\\frac H{(1-H)^2}\n\\\\\n&=&\n\\frac H{-2H + (1+H^2)}\n\\\\\n&=&\n\\frac H{-2H + H\\frac{1-2x}x}\n\\\\\n&=&\n\\frac x{1-4x}\\;.\n\\end{eqnarray}",
    "llm_answer_create_structured_problem": "###BEGIN_OF_FORMAT###\nAssumption: The bricks lie in a single plane.\nAssumption: The bottom layer is contiguous.\nAssumption: Each brick not in the bottom layer has at least one brick below it.\nProblem: Prove that the number of domino towers consisting of $n$ bricks is $4^{n-1}$.\n###",
    "reasoning_create_structured_problem": "Okay, let's see. The user wants me to act as a bilingual math professor and structure the given Math Stack Exchange question into the specified format. The example they provided shows how assumptions and the problem should be listed.\n\nFirst, I need to read the original question carefully. The problem is about counting the number of LEGO towers built from n \"1x2\" blocks under certain rules. The original formula is 3^{n-1} when following four rules. The user relaxed the second rule (each brick is offset by 1 stud) and observed that the number seems to be 4^{n-1}. They want to find existing literature or get insight into proving this.\n\nNow, I need to filter out unrelated information. The original problem mentions four rules, but the question here is about removing the second rule. The assumptions should list each condition applied to one object. Let me list the rules again:\n\nOriginal four rules:\n1. Bricks lie in a single plane.\n2. Each brick is offset by 1 stud (like a brick wall).\n3. The bottom layer is contiguous.\n4. Each brick has at least one brick below it (except the bottom layer).\n\nIn the modified problem, rule 2 is removed. So the new assumptions are the remaining rules. Each assumption should be a single condition. Let me break them down:\n\nAssumption 1: Bricks lie in a single plane.\nAssumption 2: The bottom layer is contiguous.\nAssumption 3: Each brick (except those in the bottom layer) has at least one brick below it.\n\nWait, the original fourth rule says each brick has at least one below except the bottom layer. So that's still in place. The second rule about offset is removed. So the problem now is to count the number of domino towers with n bricks without the offset rule. The user observed 4^{n-1} and wants to confirm if this result exists or get help proving it.\n\nSo structuring the problem:\n\nAssumption: Each brick lies in a single plane.\nAssumption: The bottom layer is contiguous.\nAssumption: Each brick not in the bottom layer has at least one brick below it.\nProblem: Determine the number of domino towers consisting of n bricks, resulting in 4^{n-1} towers.\n\nBut wait, the problem is to either find existing literature or adapt the proof. But the user's main question is about the number when removing the second rule. The problem statement should capture that. The user states that removing the second rule seems to result in 4^{n-1} towers. So the problem is to prove that the number is 4^{n-1} under the modified assumptions.\n\nTherefore, the assumptions should be the modified rules (without the offset), and the problem is to prove that the number is 4^{n-1}. Let me check each assumption line by line, each addressing one property.\n\nOriginal problem's rules after removing the second:\n\n1. Bricks lie in a single plane. (Assumption 1)\n2. The bottom layer is contiguous. (Assumption 2)\n3. Each brick not in the bottom layer has at least one brick below it. (Assumption 3)\n\nSo each of these is a separate assumption. Then the problem is to prove that under these three assumptions, the number of domino towers with n bricks is 4^{n-1}.\n\nI think that's correct. Let me verify with the example given. In the example, the original problem had an assumption that n is an integer and divisible by 7. The formatted problem listed each as separate assumptions.\n\nSo here, each of the three remaining rules is a separate assumption. Therefore, the formatted problem should list each rule as a separate assumption line.",
    "Original_Problem": "Assumption: The bricks lie in a single plane.\nAssumption: The bottom layer is contiguous.\nAssumption: Each brick not in the bottom layer has at least one brick below it.\nProblem: Prove that the number of domino towers consisting of $n$ bricks is $4^{n-1}$.",
    "Original_Problem_with_numerical_assumption": "Assumption:\nAssumption 1: The bricks lie in a single plane.\nAssumption 2:  The bottom layer is contiguous.\nAssumption 3:  Each brick not in the bottom layer has at least one brick below it.\nProblem: Prove that the number of domino towers consisting of $n$ bricks is $4^{n-1}$.",
    "Proof_problem": "Yes",
    "Redundant_assumption": "$H=xH^2+2xH+x$",
    "Problem_with_redundant_assumption": "Assumption:\nAssumption 1: The bricks lie in a single plane.\nAssumption 2:  The bottom layer is contiguous.\nAssumption 3:  Each brick not in the bottom layer has at least one brick below it.\nAssumption 4: $H=xH^2+2xH+x$\nProblem: Prove that the number of domino towers consisting of $n$ bricks is $4^{n-1}$."
}